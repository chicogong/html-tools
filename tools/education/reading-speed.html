<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é˜…è¯»é€Ÿåº¦æµ‹è¯• - HTML Tools</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { --bg: #0a0a0f; --card: #12121a; --border: #2a2a3a; --text: #fff; --text2: #888; --accent: #8b5cf6; --success: #22c55e; --warning: #f59e0b; }
        @media (prefers-color-scheme: light) { :root { --bg: #f5f5f5; --card: #fff; --border: #e0e0e0; --text: #333; --text2: #666; } }
        body { font-family: system-ui, -apple-system, sans-serif; background: var(--bg); color: var(--text); min-height: 100vh; padding: 20px; }
        .container { max-width: 800px; margin: 0 auto; }
        h1 { text-align: center; margin-bottom: 8px; font-size: 1.8rem; }
        .subtitle { text-align: center; color: var(--text2); margin-bottom: 24px; }
        .card { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 24px; margin-bottom: 20px; }
        .card-title { font-size: 1rem; color: var(--text2); margin-bottom: 16px; }
        .btn { padding: 12px 24px; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem; transition: all 0.2s; }
        .btn-primary { background: var(--accent); color: white; }
        .btn-outline { background: transparent; border: 1px solid var(--border); color: var(--text); }
        .btn:hover { opacity: 0.9; }
        .btn-group { display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; }
        .reading-area { line-height: 2; font-size: 1.1rem; text-align: justify; padding: 20px; background: var(--bg); border-radius: 8px; max-height: 400px; overflow-y: auto; }
        .timer { font-size: 2rem; font-weight: 700; text-align: center; color: var(--accent); margin: 20px 0; }
        .stats-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin: 20px 0; }
        @media (max-width: 500px) { .stats-row { grid-template-columns: 1fr; } }
        .stat-item { text-align: center; padding: 16px; background: var(--bg); border-radius: 8px; }
        .stat-item .value { font-size: 1.8rem; font-weight: 700; color: var(--accent); }
        .stat-item .label { font-size: 0.85rem; color: var(--text2); margin-top: 4px; }
        .question { margin: 16px 0; }
        .question-text { font-size: 1rem; margin-bottom: 12px; }
        .options { display: flex; flex-direction: column; gap: 8px; }
        .option { padding: 12px 16px; background: var(--bg); border: 1px solid var(--border); border-radius: 8px; cursor: pointer; transition: all 0.2s; }
        .option:hover { border-color: var(--accent); }
        .option.selected { background: var(--accent); color: white; border-color: var(--accent); }
        .option.correct { background: var(--success); color: white; border-color: var(--success); }
        .option.wrong { background: #ef4444; color: white; border-color: #ef4444; }
        .result-hero { background: linear-gradient(135deg, var(--accent), #a855f7); padding: 32px; border-radius: 12px; text-align: center; color: white; margin-bottom: 20px; }
        .result-hero .big { font-size: 3rem; font-weight: 700; }
        .result-hero .label { opacity: 0.9; margin-bottom: 8px; }
        .level-badge { display: inline-block; padding: 8px 16px; background: rgba(255,255,255,0.2); border-radius: 20px; margin-top: 12px; }
        select { padding: 12px; border: 1px solid var(--border); border-radius: 8px; background: var(--bg); color: var(--text); font-size: 1rem; }
        .hidden { display: none !important; }
        .progress-bar { height: 8px; background: var(--border); border-radius: 4px; overflow: hidden; margin-bottom: 16px; }
        .progress-fill { height: 100%; background: var(--accent); transition: width 0.3s; }
            .back-link { display: inline-block; margin-bottom: 16px; color: var(--accent); text-decoration: none; font-size: 0.9rem; }
        .back-link:hover { text-decoration: underline; }
    </style>
</head>
<body>
    <div class="container">
        <a href="../../index.html" class="back-link">â† è¿”å›</a>
        <h1>ğŸ“– é˜…è¯»é€Ÿåº¦æµ‹è¯•</h1>
        <p class="subtitle">æµ‹è¯•ä½ çš„é˜…è¯»é€Ÿåº¦å’Œç†è§£èƒ½åŠ›</p>
        
        <div id="setupPanel" class="card">
            <div class="card-title">é€‰æ‹©æ–‡ç« éš¾åº¦</div>
            <div class="btn-group" style="margin-bottom: 20px;">
                <select id="difficulty">
                    <option value="easy">ç®€å•ï¼ˆçº¦300å­—ï¼‰</option>
                    <option value="medium" selected>ä¸­ç­‰ï¼ˆçº¦500å­—ï¼‰</option>
                    <option value="hard">å›°éš¾ï¼ˆçº¦800å­—ï¼‰</option>
                </select>
            </div>
            <div class="btn-group">
                <button class="btn btn-primary" onclick="startTest()">å¼€å§‹æµ‹è¯•</button>
            </div>
        </div>
        
        <div id="readingPanel" class="card hidden">
            <div class="card-title">
                <span>é˜…è¯»æ–‡ç« </span>
                <span id="wordCount">0 å­—</span>
            </div>
            <div class="timer" id="timer">00:00</div>
            <div class="reading-area" id="readingArea"></div>
            <div class="btn-group" style="margin-top: 20px;">
                <button class="btn btn-primary" onclick="finishReading()">é˜…è¯»å®Œæ¯•</button>
            </div>
        </div>
        
        <div id="questionPanel" class="card hidden">
            <div class="card-title">ç†è§£æµ‹è¯•</div>
            <div class="progress-bar">
                <div class="progress-fill" id="questionProgress" style="width: 0%"></div>
            </div>
            <div id="questionsContainer"></div>
            <div class="btn-group" style="margin-top: 20px;">
                <button class="btn btn-primary" id="submitBtn" onclick="submitAnswers()">æäº¤ç­”æ¡ˆ</button>
            </div>
        </div>
        
        <div id="resultPanel" class="hidden">
            <div class="result-hero">
                <div class="label">ä½ çš„é˜…è¯»é€Ÿåº¦</div>
                <div class="big" id="wpm">0</div>
                <div>å­—/åˆ†é’Ÿ</div>
                <div class="level-badge" id="levelBadge">åˆçº§è¯»è€…</div>
            </div>
            
            <div class="card">
                <div class="card-title">è¯¦ç»†æ•°æ®</div>
                <div class="stats-row">
                    <div class="stat-item">
                        <div class="value" id="totalWords">0</div>
                        <div class="label">æ€»å­—æ•°</div>
                    </div>
                    <div class="stat-item">
                        <div class="value" id="totalTime">0</div>
                        <div class="label">é˜…è¯»æ—¶é—´ï¼ˆç§’ï¼‰</div>
                    </div>
                    <div class="stat-item">
                        <div class="value" id="accuracy">0%</div>
                        <div class="label">ç†è§£æ­£ç¡®ç‡</div>
                    </div>
                </div>
                
                <div class="stats-row">
                    <div class="stat-item">
                        <div class="value" id="effectiveWpm">0</div>
                        <div class="label">æœ‰æ•ˆé˜…è¯»é€Ÿåº¦</div>
                    </div>
                    <div class="stat-item">
                        <div class="value" id="correctCount">0/0</div>
                        <div class="label">æ­£ç¡®é¢˜æ•°</div>
                    </div>
                    <div class="stat-item">
                        <div class="value" id="percentile">-</div>
                        <div class="label">è¶…è¿‡ç”¨æˆ·</div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-title">é˜…è¯»æ°´å¹³å‚è€ƒ</div>
                <div style="font-size: 0.9rem; color: var(--text2); line-height: 1.8;">
                    <p>â€¢ 150-200 å­—/åˆ†é’Ÿï¼šåˆçº§è¯»è€…</p>
                    <p>â€¢ 200-300 å­—/åˆ†é’Ÿï¼šæ™®é€šè¯»è€…</p>
                    <p>â€¢ 300-400 å­—/åˆ†é’Ÿï¼šç†Ÿç»ƒè¯»è€…</p>
                    <p>â€¢ 400-600 å­—/åˆ†é’Ÿï¼šå¿«é€Ÿè¯»è€…</p>
                    <p>â€¢ 600+ å­—/åˆ†é’Ÿï¼šé€Ÿè¯»é«˜æ‰‹</p>
                </div>
            </div>
            
            <div class="btn-group" style="justify-content: center;">
                <button class="btn btn-primary" onclick="startTest()">å†æµ‹ä¸€æ¬¡</button>
                <button class="btn btn-outline" onclick="resetAll()">è¿”å›</button>
            </div>
        </div>
    </div>
    
    <script>
        const articles = {
            easy: {
                text: `äººå·¥æ™ºèƒ½æ­£åœ¨æ”¹å˜æˆ‘ä»¬çš„ç”Ÿæ´»æ–¹å¼ã€‚ä»æ™ºèƒ½æ‰‹æœºåˆ°è‡ªåŠ¨é©¾é©¶æ±½è½¦ï¼ŒAIæŠ€æœ¯å·²ç»æ¸—é€åˆ°æ—¥å¸¸ç”Ÿæ´»çš„æ–¹æ–¹é¢é¢ã€‚

åœ¨åŒ»ç–—é¢†åŸŸï¼ŒAIå¯ä»¥å¸®åŠ©åŒ»ç”Ÿæ›´å‡†ç¡®åœ°è¯Šæ–­ç–¾ç—…ã€‚é€šè¿‡åˆ†æå¤§é‡çš„åŒ»å­¦å½±åƒæ•°æ®ï¼ŒAIç³»ç»Ÿèƒ½å¤Ÿå‘ç°äººçœ¼éš¾ä»¥å¯Ÿè§‰çš„ç»†å¾®ç—…å˜ã€‚è¿™ä¸ä»…æé«˜äº†è¯Šæ–­çš„å‡†ç¡®æ€§ï¼Œè¿˜å¤§å¤§ç¼©çŸ­äº†è¯Šæ–­æ—¶é—´ã€‚

åœ¨æ•™è‚²é¢†åŸŸï¼ŒAIæ­£åœ¨åˆ›é€ ä¸ªæ€§åŒ–çš„å­¦ä¹ ä½“éªŒã€‚æ™ºèƒ½æ•™è‚²ç³»ç»Ÿå¯ä»¥æ ¹æ®æ¯ä¸ªå­¦ç”Ÿçš„å­¦ä¹ è¿›åº¦å’Œç†è§£èƒ½åŠ›ï¼Œè‡ªåŠ¨è°ƒæ•´æ•™å­¦å†…å®¹å’Œéš¾åº¦ã€‚è¿™ç§å› ææ–½æ•™çš„æ–¹å¼è®©å­¦ä¹ å˜å¾—æ›´åŠ é«˜æ•ˆã€‚

å½“ç„¶ï¼ŒAIçš„å‘å±•ä¹Ÿå¸¦æ¥äº†ä¸€äº›æŒ‘æˆ˜ã€‚æ¯”å¦‚éšç§ä¿æŠ¤é—®é¢˜ã€å°±ä¸šç»“æ„å˜åŒ–ç­‰ã€‚æˆ‘ä»¬éœ€è¦åœ¨äº«å—AIå¸¦æ¥ä¾¿åˆ©çš„åŒæ—¶ï¼Œä¹Ÿè¦è®¤çœŸæ€è€ƒå¦‚ä½•åº”å¯¹è¿™äº›æŒ‘æˆ˜ã€‚

æ€»çš„æ¥è¯´ï¼ŒAIæ˜¯ä¸€æŠŠåŒåˆƒå‰‘ã€‚åªè¦æˆ‘ä»¬åˆç†ä½¿ç”¨ï¼Œå®ƒå°†æˆä¸ºæ¨åŠ¨äººç±»ç¤¾ä¼šè¿›æ­¥çš„å¼ºå¤§åŠ›é‡ã€‚`,
                questions: [
                    {
                        q: 'æ–‡ç« æåˆ°AIåœ¨å“ªä¸ªé¢†åŸŸå¯ä»¥å¸®åŠ©æ›´å‡†ç¡®åœ°è¯Šæ–­ç–¾ç—…ï¼Ÿ',
                        options: ['æ•™è‚²', 'åŒ»ç–—', 'äº¤é€š', 'é‡‘è'],
                        answer: 1
                    },
                    {
                        q: 'æ™ºèƒ½æ•™è‚²ç³»ç»Ÿçš„ç‰¹ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ',
                        options: ['ç»Ÿä¸€æ•™å­¦', 'ä¸ªæ€§åŒ–å­¦ä¹ ', 'è¿œç¨‹æ•™è‚²', 'è‡ªåŠ¨æ‰¹æ”¹'],
                        answer: 1
                    },
                    {
                        q: 'æ–‡ç« è®¤ä¸ºAIæ˜¯ä»€ä¹ˆï¼Ÿ',
                        options: ['ä¸‡èƒ½å·¥å…·', 'åŒåˆƒå‰‘', 'å¨èƒ', 'ç©å…·'],
                        answer: 1
                    }
                ]
            },
            medium: {
                text: `é‡å­è®¡ç®—è¢«è®¤ä¸ºæ˜¯ä¸‹ä¸€ä»£è®¡ç®—æŠ€æœ¯çš„é©å‘½æ€§çªç ´ã€‚ä¸ä¼ ç»Ÿè®¡ç®—æœºä½¿ç”¨äºŒè¿›åˆ¶ä½ï¼ˆ0æˆ–1ï¼‰ä¸åŒï¼Œé‡å­è®¡ç®—æœºä½¿ç”¨é‡å­æ¯”ç‰¹ï¼Œå®ƒå¯ä»¥åŒæ—¶å¤„äº0å’Œ1çš„å åŠ æ€ã€‚è¿™ç§ç‰¹æ€§ä½¿å¾—é‡å­è®¡ç®—æœºåœ¨å¤„ç†æŸäº›ç‰¹å®šé—®é¢˜æ—¶ï¼Œå…·æœ‰è¿œè¶…ä¼ ç»Ÿè®¡ç®—æœºçš„èƒ½åŠ›ã€‚

é‡å­è®¡ç®—çš„æ ¸å¿ƒåŸç†åŸºäºé‡å­åŠ›å­¦çš„ä¸¤ä¸ªåŸºæœ¬ç‰¹æ€§ï¼šå åŠ æ€å’Œé‡å­çº ç¼ ã€‚å åŠ æ€å…è®¸ä¸€ä¸ªé‡å­æ¯”ç‰¹åŒæ—¶è¡¨ç¤ºå¤šä¸ªå€¼ï¼Œè€Œé‡å­çº ç¼ åˆ™ä½¿å¾—å¤šä¸ªé‡å­æ¯”ç‰¹ä¹‹é—´äº§ç”Ÿç¥å¥‡çš„å…³è”â€”â€”å¯¹ä¸€ä¸ªé‡å­æ¯”ç‰¹çš„æµ‹é‡ä¼šç«‹å³å½±å“ä¸ä¹‹çº ç¼ çš„å…¶ä»–é‡å­æ¯”ç‰¹ï¼Œæ— è®ºå®ƒä»¬ç›¸è·å¤šè¿œã€‚

åœ¨å®é™…åº”ç”¨ä¸­ï¼Œé‡å­è®¡ç®—æœ€æœ‰å‰æ™¯çš„é¢†åŸŸåŒ…æ‹¬å¯†ç å­¦ã€è¯ç‰©ç ”å‘å’Œé‡‘èå»ºæ¨¡ã€‚åœ¨å¯†ç å­¦æ–¹é¢ï¼Œé‡å­è®¡ç®—æœºç†è®ºä¸Šå¯ä»¥ç ´è§£ç›®å‰å¹¿æ³›ä½¿ç”¨çš„RSAåŠ å¯†ç®—æ³•ã€‚è¿™æ¨åŠ¨äº†åé‡å­å¯†ç å­¦çš„ç ”ç©¶ï¼Œä»¥åº”å¯¹æœªæ¥é‡å­è®¡ç®—æœºçš„å¨èƒã€‚

åœ¨è¯ç‰©ç ”å‘é¢†åŸŸï¼Œé‡å­è®¡ç®—å¯ä»¥ç²¾ç¡®æ¨¡æ‹Ÿåˆ†å­çš„é‡å­è¡Œä¸ºï¼Œå¸®åŠ©ç§‘å­¦å®¶æ›´å¿«åœ°å‘ç°æ–°è¯ã€‚ä¼ ç»Ÿè®¡ç®—æœºæ¨¡æ‹Ÿä¸€ä¸ªå¤æ‚åˆ†å­å¯èƒ½éœ€è¦æ•°å¹´æ—¶é—´ï¼Œè€Œé‡å­è®¡ç®—æœºå¯èƒ½åªéœ€è¦å‡ å°æ—¶ã€‚

ç„¶è€Œï¼Œé‡å­è®¡ç®—ç›®å‰è¿˜é¢ä¸´è®¸å¤šæŠ€æœ¯æŒ‘æˆ˜ã€‚é‡å­æ¯”ç‰¹æå…¶è„†å¼±ï¼Œå®¹æ˜“å—åˆ°ç¯å¢ƒå¹²æ‰°è€Œå¤±å»é‡å­ç‰¹æ€§ï¼Œè¿™è¢«ç§°ä¸º"é€€ç›¸å¹²"é—®é¢˜ã€‚ç›®å‰çš„é‡å­è®¡ç®—æœºéœ€è¦åœ¨æ¥è¿‘ç»å¯¹é›¶åº¦çš„æä½æ¸©ç¯å¢ƒä¸‹è¿è¡Œï¼Œæˆæœ¬é«˜æ˜‚ä¸”éš¾ä»¥æ™®åŠã€‚

å°½ç®¡å¦‚æ­¤ï¼Œå„å¤§ç§‘æŠ€å…¬å¸å’Œç ”ç©¶æœºæ„éƒ½åœ¨ç§¯ææŠ•å…¥é‡å­è®¡ç®—çš„ç ”å‘ã€‚ä¸“å®¶é¢„æµ‹ï¼Œåœ¨æœªæ¥10åˆ°20å¹´å†…ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šçœ‹åˆ°å®ç”¨åŒ–çš„é‡å­è®¡ç®—æœºé—®ä¸–ï¼Œå±Šæ—¶å°†å½»åº•æ”¹å˜è®¡ç®—é¢†åŸŸçš„æ ¼å±€ã€‚`,
                questions: [
                    {
                        q: 'é‡å­æ¯”ç‰¹ä¸ä¼ ç»ŸäºŒè¿›åˆ¶ä½çš„ä¸»è¦åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ',
                        options: ['é€Ÿåº¦æ›´å¿«', 'å¯ä»¥å¤„äºå åŠ æ€', 'æ›´ç¨³å®š', 'ä½“ç§¯æ›´å°'],
                        answer: 1
                    },
                    {
                        q: 'æ–‡ç« æåˆ°é‡å­è®¡ç®—åœ¨å“ªä¸ªé¢†åŸŸå¯ä»¥ç ´è§£ç°æœ‰åŠ å¯†ç®—æ³•ï¼Ÿ',
                        options: ['è¯ç‰©ç ”å‘', 'é‡‘èå»ºæ¨¡', 'å¯†ç å­¦', 'äººå·¥æ™ºèƒ½'],
                        answer: 2
                    },
                    {
                        q: 'é‡å­è®¡ç®—æœºç›®å‰é¢ä¸´çš„ä¸»è¦æŠ€æœ¯æŒ‘æˆ˜æ˜¯ä»€ä¹ˆï¼Ÿ',
                        options: ['æˆæœ¬å¤ªä½', 'é€Ÿåº¦å¤ªæ…¢', 'é€€ç›¸å¹²é—®é¢˜', 'ä½“ç§¯å¤ªå¤§'],
                        answer: 2
                    },
                    {
                        q: 'é‡å­çº ç¼ çš„ç‰¹ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ',
                        options: ['é‡å­æ¯”ç‰¹ç›¸äº’æ’æ–¥', 'æµ‹é‡ä¸€ä¸ªä¼šå½±å“çº ç¼ çš„å…¶ä»–é‡å­æ¯”ç‰¹', 'åªåœ¨è¿‘è·ç¦»æœ‰æ•ˆ', 'éœ€è¦é«˜æ¸©ç¯å¢ƒ'],
                        answer: 1
                    }
                ]
            },
            hard: {
                text: `ç¥ç»å¯å¡‘æ€§æ˜¯ç°ä»£ç¥ç»ç§‘å­¦æœ€é‡è¦çš„å‘ç°ä¹‹ä¸€ï¼Œå®ƒå½»åº•é¢ è¦†äº†äººä»¬å¯¹å¤§è„‘çš„ä¼ ç»Ÿè®¤çŸ¥ã€‚é•¿æœŸä»¥æ¥ï¼Œç§‘å­¦å®¶è®¤ä¸ºæˆå¹´äººçš„å¤§è„‘ç»“æ„æ˜¯å›ºå®šä¸å˜çš„ï¼Œç¥ç»ç»†èƒä¸ä¼šå†ç”Ÿï¼Œå¤§è„‘çš„åŠŸèƒ½åŒºåŸŸä¹Ÿæ˜¯å›ºå®šçš„ã€‚ç„¶è€Œï¼Œå¤§é‡ç ”ç©¶è¡¨æ˜ï¼Œå¤§è„‘å…·æœ‰æƒŠäººçš„é€‚åº”èƒ½åŠ›ï¼Œå¯ä»¥æ ¹æ®ç»éªŒå’Œå­¦ä¹ ä¸æ–­é‡å¡‘è‡ªèº«çš„ç»“æ„å’ŒåŠŸèƒ½ã€‚

ç¥ç»å¯å¡‘æ€§ä¸»è¦è¡¨ç°åœ¨ä¸‰ä¸ªå±‚é¢ï¼šçªè§¦å¯å¡‘æ€§ã€ç¥ç»å‘ç”Ÿå’Œçš®å±‚é‡ç»„ã€‚çªè§¦å¯å¡‘æ€§æ˜¯æŒ‡ç¥ç»å…ƒä¹‹é—´è¿æ¥å¼ºåº¦çš„å˜åŒ–ã€‚å½“æˆ‘ä»¬å­¦ä¹ æ–°çŸ¥è¯†æˆ–æŠ€èƒ½æ—¶ï¼Œç›¸å…³ç¥ç»å…ƒä¹‹é—´çš„çªè§¦è¿æ¥ä¼šå¢å¼ºï¼Œè¿™å°±æ˜¯è‘—åçš„èµ«å¸ƒå®šå¾‹â€”â€”"ä¸€èµ·æ¿€æ´»çš„ç¥ç»å…ƒä¼šè¿æ¥åœ¨ä¸€èµ·"ã€‚åå¤ç»ƒä¹ ä¼šä½¿æŸäº›ç¥ç»é€šè·¯å˜å¾—æ›´åŠ é«˜æ•ˆï¼Œå°±åƒç»å¸¸èµ°çš„å°è·¯ä¼šå˜æˆå¤§è·¯ä¸€æ ·ã€‚

ç¥ç»å‘ç”Ÿåˆ™æ˜¯æŒ‡å¤§è„‘ä¸­æ–°ç¥ç»å…ƒçš„äº§ç”Ÿã€‚è™½ç„¶æˆå¹´äººå¤§è„‘ä¸­å¤§éƒ¨åˆ†åŒºåŸŸä¸å†äº§ç”Ÿæ–°ç¥ç»å…ƒï¼Œä½†æµ·é©¬ä½“å’Œå—…çƒç­‰åŒºåŸŸä»ä¿æŒç€ç¥ç»å‘ç”Ÿçš„èƒ½åŠ›ã€‚ç ”ç©¶å‘ç°ï¼Œè¿åŠ¨ã€å­¦ä¹ æ–°æŠ€èƒ½å’Œä¸°å¯Œçš„ç¯å¢ƒåˆºæ¿€éƒ½å¯ä»¥ä¿ƒè¿›ç¥ç»å‘ç”Ÿã€‚è¿™ä¸ºæ²»ç–—ç¥ç»é€€è¡Œæ€§ç–¾ç—…å¦‚é˜¿å°”èŒ¨æµ·é»˜ç—‡æä¾›äº†æ–°çš„æ€è·¯ã€‚

çš®å±‚é‡ç»„æ˜¯ç¥ç»å¯å¡‘æ€§æœ€æˆå‰§æ€§çš„è¡¨ç°ã€‚å½“å¤§è„‘æŸä¸ªåŒºåŸŸå—æŸæ—¶ï¼Œå…¶ä»–åŒºåŸŸå¯ä»¥æ¥ç®¡å…¶åŠŸèƒ½ã€‚è‘—åçš„æ¡ˆä¾‹æ˜¯éŸ³ä¹å®¶å’Œè¿åŠ¨å‘˜çš„å¤§è„‘ç ”ç©¶â€”â€”å°æç´å®¶æ§åˆ¶å·¦æ‰‹æ‰‹æŒ‡çš„å¤§è„‘çš®å±‚åŒºåŸŸæ˜æ˜¾æ‰©å¤§ï¼Œè€Œå‡ºç§Ÿè½¦å¸æœºçš„æµ·é©¬ä½“ï¼ˆè´Ÿè´£ç©ºé—´è®°å¿†ï¼‰ä¹Ÿæ¯”æ™®é€šäººæ›´å‘è¾¾ã€‚

ç¥ç»å¯å¡‘æ€§çš„å‘ç°å¯¹æ•™è‚²å’Œåº·å¤åŒ»å­¦äº§ç”Ÿäº†æ·±è¿œå½±å“ã€‚å®ƒå‘Šè¯‰æˆ‘ä»¬ï¼Œå­¦ä¹ ç¡®å®å¯ä»¥æ”¹å˜å¤§è„‘çš„ç‰©ç†ç»“æ„ã€‚è¿™è§£é‡Šäº†ä¸ºä»€ä¹ˆæŒç»­ç»ƒä¹ èƒ½å¤Ÿæé«˜æŠ€èƒ½æ°´å¹³ï¼Œä¹Ÿä¸ºä¸­é£æ‚£è€…çš„åº·å¤è®­ç»ƒæä¾›äº†ç§‘å­¦ä¾æ®ã€‚é€šè¿‡æœ‰é’ˆå¯¹æ€§çš„è®­ç»ƒï¼Œå—æŸçš„å¤§è„‘åŠŸèƒ½å¯ä»¥ç”±å…¶ä»–è„‘åŒºä»£å¿æ¢å¤ã€‚

ç„¶è€Œï¼Œç¥ç»å¯å¡‘æ€§æ˜¯ä¸€æŠŠåŒåˆƒå‰‘ã€‚è´Ÿé¢çš„ç»å†å’Œä¹ æƒ¯åŒæ ·ä¼šå¡‘é€ å¤§è„‘ã€‚é•¿æœŸçš„å‹åŠ›å’Œç„¦è™‘ä¼šæŸå®³æµ·é©¬ä½“ï¼Œè€Œæˆç˜¾è¡Œä¸ºä¼šæ”¹å˜å¤§è„‘çš„å¥–èµç³»ç»Ÿã€‚ç†è§£è¿™ä¸€ç‚¹æœ‰åŠ©äºæˆ‘ä»¬è®¤è¯†åˆ°ä¿æŒç§¯æç”Ÿæ´»æ–¹å¼çš„é‡è¦æ€§ã€‚

ç°ä»£ç¥ç»ç§‘å­¦ç ”ç©¶è¿˜å‘ç°ï¼Œç¥ç»å¯å¡‘æ€§å­˜åœ¨"å…³é”®æœŸ"ç°è±¡ã€‚åœ¨å„¿ç«¥å‘è‚²çš„æŸäº›æ—¶æœŸï¼Œå¤§è„‘å¯¹ç‰¹å®šç±»å‹çš„å­¦ä¹ ç‰¹åˆ«æ•æ„Ÿã€‚é”™è¿‡è¿™äº›å…³é”®æœŸï¼Œç›¸å…³èƒ½åŠ›çš„ä¹ å¾—ä¼šå˜å¾—æ›´åŠ å›°éš¾ï¼Œä½†å¹¶éä¸å¯èƒ½â€”â€”æˆå¹´äººçš„å¤§è„‘ä»ç„¶ä¿æŒç€å¯å¡‘æ€§ï¼Œåªæ˜¯ç¨‹åº¦æœ‰æ‰€é™ä½ã€‚

æ€»ä¹‹ï¼Œç¥ç»å¯å¡‘æ€§çš„ç ”ç©¶æ­ç¤ºäº†å¤§è„‘çš„éå‡¡èƒ½åŠ›ï¼Œä¹Ÿæé†’æˆ‘ä»¬è¦å–„ç”¨è¿™ç§èƒ½åŠ›ã€‚é€šè¿‡æŒç»­å­¦ä¹ ã€ä¿æŒå¥½å¥‡å¿ƒå’Œç§¯æçš„ç”Ÿæ´»æ€åº¦ï¼Œæˆ‘ä»¬å¯ä»¥è®©å¤§è„‘ä¿æŒæ´»åŠ›ï¼Œç»ˆèº«å—ç›Šã€‚`,
                questions: [
                    {
                        q: 'ç¥ç»å¯å¡‘æ€§çš„ä¸‰ä¸ªä¸»è¦è¡¨ç°å±‚é¢ä¸åŒ…æ‹¬ä»¥ä¸‹å“ªé¡¹ï¼Ÿ',
                        options: ['çªè§¦å¯å¡‘æ€§', 'ç¥ç»å‘ç”Ÿ', 'çš®å±‚é‡ç»„', 'åŸºå› çªå˜'],
                        answer: 3
                    },
                    {
                        q: 'èµ«å¸ƒå®šå¾‹çš„æ ¸å¿ƒè§‚ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ',
                        options: ['ç¥ç»å…ƒç‹¬ç«‹å·¥ä½œ', 'ä¸€èµ·æ¿€æ´»çš„ç¥ç»å…ƒä¼šè¿æ¥åœ¨ä¸€èµ·', 'ç¥ç»å…ƒæ•°é‡å›ºå®š', 'çªè§¦ä¸ä¼šæ”¹å˜'],
                        answer: 1
                    },
                    {
                        q: 'æˆå¹´äººå¤§è„‘ä¸­ä»èƒ½äº§ç”Ÿæ–°ç¥ç»å…ƒçš„åŒºåŸŸæ˜¯ï¼Ÿ',
                        options: ['å¤§è„‘çš®å±‚', 'å°è„‘', 'æµ·é©¬ä½“', 'è„‘å¹²'],
                        answer: 2
                    },
                    {
                        q: 'æ–‡ç« æåˆ°å°æç´å®¶çš„å¤§è„‘æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ',
                        options: ['æ•´ä½“æ›´å¤§', 'æ§åˆ¶å·¦æ‰‹æ‰‹æŒ‡çš„çš®å±‚åŒºåŸŸæ‰©å¤§', 'æµ·é©¬ä½“æ›´å‘è¾¾', 'æ²¡æœ‰æ˜æ˜¾åŒºåˆ«'],
                        answer: 1
                    },
                    {
                        q: 'å…³äºç¥ç»å¯å¡‘æ€§çš„"å…³é”®æœŸ"ï¼Œä»¥ä¸‹è¯´æ³•æ­£ç¡®çš„æ˜¯ï¼Ÿ',
                        options: ['æˆå¹´åå®Œå…¨æ¶ˆå¤±', 'å„¿ç«¥æœŸå¯¹ç‰¹å®šå­¦ä¹ ç‰¹åˆ«æ•æ„Ÿ', 'åªå­˜åœ¨äºå©´å„¿æœŸ', 'ä¸å¹´é¾„æ— å…³'],
                        answer: 1
                    }
                ]
            }
        };
        
        let currentArticle = null;
        let startTime = 0;
        let timerInterval = null;
        let readingTime = 0;
        let userAnswers = [];
        
        function startTest() {
            const difficulty = document.getElementById('difficulty').value;
            currentArticle = articles[difficulty];
            userAnswers = new Array(currentArticle.questions.length).fill(-1);
            
            document.getElementById('setupPanel').classList.add('hidden');
            document.getElementById('readingPanel').classList.remove('hidden');
            document.getElementById('questionPanel').classList.add('hidden');
            document.getElementById('resultPanel').classList.add('hidden');
            
            document.getElementById('readingArea').textContent = currentArticle.text;
            const wordCount = currentArticle.text.replace(/\s/g, '').length;
            document.getElementById('wordCount').textContent = wordCount + ' å­—';
            
            startTime = Date.now();
            timerInterval = setInterval(updateTimer, 1000);
        }
        
        function updateTimer() {
            const elapsed = Math.floor((Date.now() - startTime) / 1000);
            const minutes = Math.floor(elapsed / 60).toString().padStart(2, '0');
            const seconds = (elapsed % 60).toString().padStart(2, '0');
            document.getElementById('timer').textContent = minutes + ':' + seconds;
        }
        
        function finishReading() {
            clearInterval(timerInterval);
            readingTime = (Date.now() - startTime) / 1000;
            
            document.getElementById('readingPanel').classList.add('hidden');
            document.getElementById('questionPanel').classList.remove('hidden');
            
            renderQuestions();
        }
        
        function renderQuestions() {
            const container = document.getElementById('questionsContainer');
            container.textContent = '';
            
            currentArticle.questions.forEach((q, qIndex) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                
                const questionText = document.createElement('div');
                questionText.className = 'question-text';
                questionText.textContent = (qIndex + 1) + '. ' + q.q;
                questionDiv.appendChild(questionText);
                
                const optionsDiv = document.createElement('div');
                optionsDiv.className = 'options';
                
                q.options.forEach((opt, optIndex) => {
                    const optionDiv = document.createElement('div');
                    optionDiv.className = 'option';
                    optionDiv.textContent = String.fromCharCode(65 + optIndex) + '. ' + opt;
                    optionDiv.addEventListener('click', () => selectOption(qIndex, optIndex));
                    optionDiv.dataset.question = qIndex;
                    optionDiv.dataset.option = optIndex;
                    optionsDiv.appendChild(optionDiv);
                });
                
                questionDiv.appendChild(optionsDiv);
                container.appendChild(questionDiv);
            });
            
            updateProgress();
        }
        
        function selectOption(qIndex, optIndex) {
            userAnswers[qIndex] = optIndex;
            
            const options = document.querySelectorAll('[data-question="' + qIndex + '"]');
            options.forEach(opt => {
                opt.classList.remove('selected');
                if (parseInt(opt.dataset.option) === optIndex) {
                    opt.classList.add('selected');
                }
            });
            
            updateProgress();
        }
        
        function updateProgress() {
            const answered = userAnswers.filter(a => a !== -1).length;
            const total = currentArticle.questions.length;
            const percent = (answered / total) * 100;
            document.getElementById('questionProgress').style.width = percent + '%';
        }
        
        function submitAnswers() {
            let correct = 0;
            currentArticle.questions.forEach((q, qIndex) => {
                const options = document.querySelectorAll('[data-question="' + qIndex + '"]');
                options.forEach(opt => {
                    const optIndex = parseInt(opt.dataset.option);
                    if (optIndex === q.answer) {
                        opt.classList.add('correct');
                    } else if (optIndex === userAnswers[qIndex]) {
                        opt.classList.add('wrong');
                    }
                });
                if (userAnswers[qIndex] === q.answer) {
                    correct++;
                }
            });
            
            document.getElementById('submitBtn').disabled = true;
            
            setTimeout(() => showResults(correct), 1500);
        }
        
        function showResults(correct) {
            document.getElementById('questionPanel').classList.add('hidden');
            document.getElementById('resultPanel').classList.remove('hidden');
            
            const wordCount = currentArticle.text.replace(/\s/g, '').length;
            const wpm = Math.round(wordCount / (readingTime / 60));
            const accuracy = Math.round((correct / currentArticle.questions.length) * 100);
            const effectiveWpm = Math.round(wpm * (accuracy / 100));
            
            document.getElementById('wpm').textContent = wpm;
            document.getElementById('totalWords').textContent = wordCount;
            document.getElementById('totalTime').textContent = Math.round(readingTime);
            document.getElementById('accuracy').textContent = accuracy + '%';
            document.getElementById('effectiveWpm').textContent = effectiveWpm;
            document.getElementById('correctCount').textContent = correct + '/' + currentArticle.questions.length;
            
            let level, percentile;
            if (effectiveWpm >= 600) {
                level = 'é€Ÿè¯»é«˜æ‰‹';
                percentile = '99%';
            } else if (effectiveWpm >= 400) {
                level = 'å¿«é€Ÿè¯»è€…';
                percentile = '90%';
            } else if (effectiveWpm >= 300) {
                level = 'ç†Ÿç»ƒè¯»è€…';
                percentile = '70%';
            } else if (effectiveWpm >= 200) {
                level = 'æ™®é€šè¯»è€…';
                percentile = '50%';
            } else {
                level = 'åˆçº§è¯»è€…';
                percentile = '30%';
            }
            
            document.getElementById('levelBadge').textContent = level;
            document.getElementById('percentile').textContent = percentile;
        }
        
        function resetAll() {
            clearInterval(timerInterval);
            document.getElementById('setupPanel').classList.remove('hidden');
            document.getElementById('readingPanel').classList.add('hidden');
            document.getElementById('questionPanel').classList.add('hidden');
            document.getElementById('resultPanel').classList.add('hidden');
            document.getElementById('submitBtn').disabled = false;
        }
    </script>
</body>
</html>
