<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ç”µè´¹è®¡ç®—å™¨ - WebUtils</title>
    <!-- SEO Meta Tags -->
    <meta name="description" content="ç”µè´¹è®¡ç®—å™¨ - WebUtils" />
    <meta name="keywords" content="electricity-calc,calculator,tools,webutils" />
    <meta name="author" content="WebUtils" />
    <meta name="robots" content="index, follow" />
    <link
      rel="canonical"
      href="https://tools.realtime-ai.chat/tools/calculator/electricity-calc.html"
    />

    <!-- Open Graph -->
    <meta property="og:title" content="ç”µè´¹è®¡ç®—å™¨ - WebUtils" />
    <meta property="og:description" content="ç”µè´¹è®¡ç®—å™¨ - WebUtils" />
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://tools.realtime-ai.chat/tools/calculator/electricity-calc.html"
    />
    <meta property="og:site_name" content="WebUtils" />
    <meta property="og:locale" content="zh_CN" />
    <meta property="og:image" content="https://tools.realtime-ai.chat/social-preview.png" />
    <meta property="og:image:width" content="1280" />
    <meta property="og:image:height" content="640" />
    <meta property="og:image:type" content="image/png" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="ç”µè´¹è®¡ç®—å™¨ - WebUtils" />
    <meta name="twitter:description" content="ç”µè´¹è®¡ç®—å™¨ - WebUtils" />
    <meta name="twitter:image" content="https://tools.realtime-ai.chat/social-preview.png" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css" />
    <style>
      :root {
        --bg-deep: #0a0a0f;
        --bg-surface: #12121a;
        --bg-card: #1a1a24;
        --bg-input: #0e0e14;
        --text-primary: #e8e8ed;
        --text-secondary: #8888a0;
        --text-muted: #55556a;
        --border-subtle: #2a2a3a;
        --border-strong: #3a3a4a;
        --accent-cyan: #00f5d4;
        --accent-green: #10b981;
        --accent-red: #f43f5e;
        --accent-yellow: #fbbf24;
        --accent-purple: #a855f7;
        --glow-cyan: rgb(0, 245, 212, 0.15);
        --glow-green: rgb(16, 185, 129, 0.15);
        --glow-red: rgb(244, 63, 94, 0.15);
        --radius-sm: 4px;
        --radius-md: 8px;
        --radius-lg: 12px;
      }

      [data-theme="light"] {
        --bg-deep: #fafafa;
        --bg-surface: #fff;
        --bg-card: #fff;
        --bg-input: #f5f5f5;
        --bg-hover: #f5f5f5;
        --text-primary: #1a1a1a;
        --text-secondary: #666;
        --text-muted: #999;
        --border-subtle: #e5e5e5;
        --border-strong: #d5d5d5;
      }

      body {
        font-size: 16px;
        line-height: 1.6;
        min-height: 100vh;
        padding: 2rem 1rem;
      }
      .container {
        max-width: 900px;
        margin: 0 auto;
      }
      header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 2rem;
      }
      .calc-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
      }
      .input-section,
      .result-section {
        background: var(--pico-muted-border-color);
        border-radius: var(--pico-border-radius);
        padding: 1.5rem;
      }
      .result-highlight {
        font-size: 2.5rem;
        font-weight: bold;
        color: var(--pico-primary);
        margin: 1rem 0;
      }
      .result-row {
        display: flex;
        justify-content: space-between;
        padding: 0.5rem 0;
        border-bottom: 1px solid var(--pico-muted-border-color);
      }
      .tier-row {
        display: grid;
        grid-template-columns: 2fr 1fr 1fr;
        gap: 0.5rem;
        align-items: center;
        margin-bottom: 0.5rem;
      }
      .tier-row label {
        margin-bottom: 0;
      }
      .appliance-calc {
        margin-top: 2rem;
      }
      .appliance-row {
        display: grid;
        grid-template-columns: 2fr 1fr 1fr 1fr;
        gap: 0.5rem;
        align-items: center;
        margin-bottom: 0.5rem;
        font-size: 0.9rem;
      }
      .appliance-row input,
      .appliance-row select {
        padding: 0.4rem;
        margin: 0;
      }
      .bar-chart {
        margin-top: 1rem;
      }
      .bar-row {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin-bottom: 0.5rem;
      }
      .bar-label {
        width: 80px;
        font-size: 0.8rem;
      }
      .bar {
        height: 20px;
        background: var(--pico-primary);
        border-radius: 3px;
        transition: width 0.3s;
      }
      .bar-value {
        font-size: 0.8rem;
      }

      .breadcrumb {
        background: rgba(255, 255, 255, 0.95);
        padding: 8px 15px;
        border-radius: 20px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        font-size: 0.85rem;
      }
      .breadcrumb a {
        color: #667eea;
        text-decoration: none;
      }
      .breadcrumb a:hover {
        text-decoration: underline;
      }
      .breadcrumb span {
        color: #999;
        margin: 0 5px;
      }
    </style>
  </head>
  <body>
    <nav class="breadcrumb">
      <a href="../../index.html">é¦–é¡µ</a>
      <span>â€º</span>
      ç”µè´¹è®¡ç®—å™¨
    </nav>
    <main class="container">
      <header>
        <h1>ç”µè´¹è®¡ç®—å™¨</h1>
        <button id="themeToggle" class="outline" onclick="toggleTheme()">ğŸŒ™</button>
      </header>

      <div class="calc-grid">
        <div class="input-section">
          <h3>ç”¨ç”µé‡ä¿¡æ¯</h3>
          <label>æœˆç”¨ç”µé‡ (åº¦/kWh)</label>
          <input type="number" id="usage" value="300" min="0" step="1" />

          <label>è®¡è´¹æ–¹å¼</label>
          <select id="pricingType" onchange="togglePricing()">
            <option value="tiered">é˜¶æ¢¯ç”µä»·</option>
            <option value="tou">å³°è°·ç”µä»·</option>
            <option value="fixed">å›ºå®šç”µä»·</option>
          </select>

          <div id="tieredPricing">
            <h4 style="margin-top: 1rem">é˜¶æ¢¯ç”µä»·è®¾ç½®</h4>
            <div class="tier-row">
              <label>ç¬¬ä¸€æ¡£ (0-200åº¦)</label>
              <input type="number" id="tier1Price" value="0.52" step="0.01" min="0" />
              <span>å…ƒ/åº¦</span>
            </div>
            <div class="tier-row">
              <label>ç¬¬äºŒæ¡£ (201-400åº¦)</label>
              <input type="number" id="tier2Price" value="0.57" step="0.01" min="0" />
              <span>å…ƒ/åº¦</span>
            </div>
            <div class="tier-row">
              <label>ç¬¬ä¸‰æ¡£ (400åº¦ä»¥ä¸Š)</label>
              <input type="number" id="tier3Price" value="0.82" step="0.01" min="0" />
              <span>å…ƒ/åº¦</span>
            </div>
            <div class="tier-row">
              <label>ç¬¬ä¸€æ¡£ä¸Šé™</label>
              <input type="number" id="tier1Limit" value="200" step="1" min="0" />
              <span>åº¦</span>
            </div>
            <div class="tier-row">
              <label>ç¬¬äºŒæ¡£ä¸Šé™</label>
              <input type="number" id="tier2Limit" value="400" step="1" min="0" />
              <span>åº¦</span>
            </div>
          </div>

          <div id="touPricing" style="display: none">
            <h4 style="margin-top: 1rem">å³°è°·ç”µä»·è®¾ç½®</h4>
            <div class="tier-row">
              <label>å³°æ—¶ç”µä»·</label>
              <input type="number" id="peakPrice" value="1.0" step="0.01" min="0" />
              <span>å…ƒ/åº¦</span>
            </div>
            <div class="tier-row">
              <label>å¹³æ—¶ç”µä»·</label>
              <input type="number" id="flatPrice" value="0.6" step="0.01" min="0" />
              <span>å…ƒ/åº¦</span>
            </div>
            <div class="tier-row">
              <label>è°·æ—¶ç”µä»·</label>
              <input type="number" id="valleyPrice" value="0.3" step="0.01" min="0" />
              <span>å…ƒ/åº¦</span>
            </div>
            <div class="tier-row">
              <label>å³°æ—¶ç”¨ç”µå æ¯”</label>
              <input type="number" id="peakRatio" value="30" step="1" min="0" max="100" />
              <span>%</span>
            </div>
            <div class="tier-row">
              <label>å¹³æ—¶ç”¨ç”µå æ¯”</label>
              <input type="number" id="flatRatio" value="50" step="1" min="0" max="100" />
              <span>%</span>
            </div>
            <div class="tier-row">
              <label>è°·æ—¶ç”¨ç”µå æ¯”</label>
              <input type="number" id="valleyRatio" value="20" step="1" min="0" max="100" />
              <span>%</span>
            </div>
          </div>

          <div id="fixedPricing" style="display: none">
            <h4 style="margin-top: 1rem">å›ºå®šç”µä»·</h4>
            <div class="tier-row">
              <label>ç”µä»·</label>
              <input type="number" id="fixedPrice" value="0.55" step="0.01" min="0" />
              <span>å…ƒ/åº¦</span>
            </div>
          </div>

          <button onclick="calculate()" style="margin-top: 1.5rem; width: 100%">è®¡ç®—ç”µè´¹</button>
        </div>

        <div class="result-section">
          <h3>è®¡ç®—ç»“æœ</h3>
          <p style="color: var(--pico-muted-color); margin-bottom: 0">æœˆåº¦ç”µè´¹</p>
          <div class="result-highlight" id="totalCost">Â¥0.00</div>

          <div class="result-row">
            <span>æ€»ç”¨ç”µé‡</span>
            <strong id="totalUsage">0 åº¦</strong>
          </div>
          <div class="result-row">
            <span>å¹³å‡ç”µä»·</span>
            <strong id="avgPrice">Â¥0.00/åº¦</strong>
          </div>

          <div id="tierBreakdown">
            <h4 style="margin-top: 1rem">åˆ†æ¡£æ˜ç»†</h4>
            <div class="result-row">
              <span>ç¬¬ä¸€æ¡£</span>
              <span id="tier1Cost">0åº¦ Ã— Â¥0.00 = Â¥0.00</span>
            </div>
            <div class="result-row">
              <span>ç¬¬äºŒæ¡£</span>
              <span id="tier2Cost">0åº¦ Ã— Â¥0.00 = Â¥0.00</span>
            </div>
            <div class="result-row">
              <span>ç¬¬ä¸‰æ¡£</span>
              <span id="tier3Cost">0åº¦ Ã— Â¥0.00 = Â¥0.00</span>
            </div>
          </div>

          <div id="touBreakdown" style="display: none">
            <h4 style="margin-top: 1rem">å³°è°·æ˜ç»†</h4>
            <div class="result-row">
              <span>å³°æ—¶</span>
              <span id="peakCost">0åº¦ Ã— Â¥0.00 = Â¥0.00</span>
            </div>
            <div class="result-row">
              <span>å¹³æ—¶</span>
              <span id="flatCost">0åº¦ Ã— Â¥0.00 = Â¥0.00</span>
            </div>
            <div class="result-row">
              <span>è°·æ—¶</span>
              <span id="valleyCost">0åº¦ Ã— Â¥0.00 = Â¥0.00</span>
            </div>
          </div>

          <h4 style="margin-top: 1.5rem">å¹´åº¦é¢„ä¼°</h4>
          <div class="result-row">
            <span>å¹´åº¦ç”µè´¹</span>
            <strong id="yearlyCost">Â¥0.00</strong>
          </div>
          <div class="result-row">
            <span>æ—¥å‡ç”µè´¹</span>
            <strong id="dailyCost">Â¥0.00</strong>
          </div>
        </div>
      </div>

      <div class="appliance-calc">
        <h3>ç”µå™¨è€—ç”µè®¡ç®—</h3>
        <p style="color: var(--pico-muted-color)">è®¡ç®—å¸¸ç”¨ç”µå™¨çš„æœˆåº¦ç”µè´¹</p>

        <div class="appliance-row" style="font-weight: bold">
          <span>ç”µå™¨</span>
          <span>åŠŸç‡(W)</span>
          <span>æ—¥ä½¿ç”¨(å°æ—¶)</span>
          <span>æœˆç”µè´¹</span>
        </div>

        <div id="applianceList"></div>

        <button class="outline" onclick="addAppliance()" style="margin-top: 1rem">
          + æ·»åŠ ç”µå™¨
        </button>

        <div class="result-row" style="margin-top: 1rem; font-weight: bold">
          <span>ç”µå™¨æ€»è®¡æœˆç”µè´¹</span>
          <strong id="applianceTotalCost">Â¥0.00</strong>
        </div>
      </div>

      <article style="margin-top: 2rem">
        <h4>å¸¸è§ç”µå™¨åŠŸç‡å‚è€ƒ</h4>
        <table>
          <thead>
            <tr>
              <th>ç”µå™¨</th>
              <th>åŠŸç‡èŒƒå›´</th>
              <th>å…¸å‹åŠŸç‡</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>ç©ºè°ƒ (1.5åŒ¹)</td>
              <td>1000-1500W</td>
              <td>1200W</td>
            </tr>
            <tr>
              <td>ç”µå†°ç®±</td>
              <td>100-200W</td>
              <td>150W</td>
            </tr>
            <tr>
              <td>æ´—è¡£æœº</td>
              <td>300-500W</td>
              <td>400W</td>
            </tr>
            <tr>
              <td>ç”µè§†æœº</td>
              <td>50-200W</td>
              <td>100W</td>
            </tr>
            <tr>
              <td>ç”µçƒ­æ°´å™¨</td>
              <td>1500-3000W</td>
              <td>2000W</td>
            </tr>
            <tr>
              <td>ç”µè„‘</td>
              <td>200-500W</td>
              <td>300W</td>
            </tr>
            <tr>
              <td>LEDç¯</td>
              <td>5-20W</td>
              <td>10W</td>
            </tr>
          </tbody>
        </table>
      </article>
    </main>

    <script>
      const defaultAppliances = [
        { name: "ç©ºè°ƒ", power: 1200, hours: 4 },
        { name: "å†°ç®±", power: 150, hours: 24 },
        { name: "ç”µè§†", power: 100, hours: 4 },
        { name: "çƒ­æ°´å™¨", power: 2000, hours: 1 }
      ];

      window.toggleTheme = function () {
        const html = document.documentElement;
        const newTheme = html.getAttribute("data-theme") === "light" ? "dark" : "light";
        html.setAttribute("data-theme", newTheme);
        document.getElementById("themeToggle").textContent = newTheme === "light" ? "ğŸŒ™" : "â˜€ï¸";
        localStorage.setItem("theme", newTheme);
      };

      function loadTheme() {
        const savedTheme = localStorage.getItem("theme") || "light";
        document.documentElement.setAttribute("data-theme", savedTheme);
        document.getElementById("themeToggle").textContent = savedTheme === "light" ? "ğŸŒ™" : "â˜€ï¸";
      }

      function togglePricing() {
        const type = document.getElementById("pricingType").value;
        document.getElementById("tieredPricing").style.display =
          type === "tiered" ? "block" : "none";
        document.getElementById("touPricing").style.display = type === "tou" ? "block" : "none";
        document.getElementById("fixedPricing").style.display = type === "fixed" ? "block" : "none";
        document.getElementById("tierBreakdown").style.display =
          type === "tiered" ? "block" : "none";
        document.getElementById("touBreakdown").style.display = type === "tou" ? "block" : "none";
      }

      window.calculate = function () {
        const usage = parseFloat(document.getElementById("usage").value) || 0;
        const type = document.getElementById("pricingType").value;
        let totalCost = 0;

        if (type === "tiered") {
          const tier1Price = parseFloat(document.getElementById("tier1Price").value) || 0;
          const tier2Price = parseFloat(document.getElementById("tier2Price").value) || 0;
          const tier3Price = parseFloat(document.getElementById("tier3Price").value) || 0;
          const tier1Limit = parseFloat(document.getElementById("tier1Limit").value) || 0;
          const tier2Limit = parseFloat(document.getElementById("tier2Limit").value) || 0;

          const tier1Usage = Math.min(usage, tier1Limit);
          const tier2Usage = Math.max(0, Math.min(usage - tier1Limit, tier2Limit - tier1Limit));
          const tier3Usage = Math.max(0, usage - tier2Limit);

          const tier1Cost = tier1Usage * tier1Price;
          const tier2Cost = tier2Usage * tier2Price;
          const tier3Cost = tier3Usage * tier3Price;
          totalCost = tier1Cost + tier2Cost + tier3Cost;

          document.getElementById("tier1Cost").textContent =
            tier1Usage + "åº¦ Ã— Â¥" + tier1Price.toFixed(2) + " = Â¥" + tier1Cost.toFixed(2);
          document.getElementById("tier2Cost").textContent =
            tier2Usage + "åº¦ Ã— Â¥" + tier2Price.toFixed(2) + " = Â¥" + tier2Cost.toFixed(2);
          document.getElementById("tier3Cost").textContent =
            tier3Usage + "åº¦ Ã— Â¥" + tier3Price.toFixed(2) + " = Â¥" + tier3Cost.toFixed(2);
        } else if (type === "tou") {
          const peakPrice = parseFloat(document.getElementById("peakPrice").value) || 0;
          const flatPrice = parseFloat(document.getElementById("flatPrice").value) || 0;
          const valleyPrice = parseFloat(document.getElementById("valleyPrice").value) || 0;
          const peakRatio = parseFloat(document.getElementById("peakRatio").value) / 100 || 0;
          const flatRatio = parseFloat(document.getElementById("flatRatio").value) / 100 || 0;
          const valleyRatio = parseFloat(document.getElementById("valleyRatio").value) / 100 || 0;

          const peakUsage = usage * peakRatio;
          const flatUsage = usage * flatRatio;
          const valleyUsage = usage * valleyRatio;

          const peakCost = peakUsage * peakPrice;
          const flatCost = flatUsage * flatPrice;
          const valleyCost = valleyUsage * valleyPrice;
          totalCost = peakCost + flatCost + valleyCost;

          document.getElementById("peakCost").textContent =
            peakUsage.toFixed(1) + "åº¦ Ã— Â¥" + peakPrice.toFixed(2) + " = Â¥" + peakCost.toFixed(2);
          document.getElementById("flatCost").textContent =
            flatUsage.toFixed(1) + "åº¦ Ã— Â¥" + flatPrice.toFixed(2) + " = Â¥" + flatCost.toFixed(2);
          document.getElementById("valleyCost").textContent =
            valleyUsage.toFixed(1) +
            "åº¦ Ã— Â¥" +
            valleyPrice.toFixed(2) +
            " = Â¥" +
            valleyCost.toFixed(2);
        } else {
          const fixedPrice = parseFloat(document.getElementById("fixedPrice").value) || 0;
          totalCost = usage * fixedPrice;
        }

        const avgPrice = usage > 0 ? totalCost / usage : 0;

        document.getElementById("totalCost").textContent = "Â¥" + totalCost.toFixed(2);
        document.getElementById("totalUsage").textContent = usage + " åº¦";
        document.getElementById("avgPrice").textContent = "Â¥" + avgPrice.toFixed(4) + "/åº¦";
        document.getElementById("yearlyCost").textContent = "Â¥" + (totalCost * 12).toFixed(2);
        document.getElementById("dailyCost").textContent = "Â¥" + (totalCost / 30).toFixed(2);

        calcAppliances();
      };

      function renderAppliances() {
        const container = document.getElementById("applianceList");
        container.textContent = "";

        defaultAppliances.forEach((app, index) => {
          const row = document.createElement("div");
          row.className = "appliance-row";
          row.innerHTML =
            '<input type="text" value="' +
            app.name +
            '" onchange="updateAppliance(' +
            index +
            ", 'name', this.value)\">" +
            '<input type="number" value="' +
            app.power +
            '" onchange="updateAppliance(' +
            index +
            ", 'power', this.value)\">" +
            '<input type="number" value="' +
            app.hours +
            '" step="0.5" onchange="updateAppliance(' +
            index +
            ", 'hours', this.value)\">" +
            '<span id="appCost' +
            index +
            '">Â¥0.00</span>';
          container.appendChild(row);
        });
      }

      window.updateAppliance = function (index, field, value) {
        if (field === "name") {
          defaultAppliances[index].name = value;
        } else {
          defaultAppliances[index][field] = parseFloat(value) || 0;
        }
        calcAppliances();
      };

      window.addAppliance = function () {
        defaultAppliances.push({ name: "æ–°ç”µå™¨", power: 100, hours: 1 });
        renderAppliances();
        calcAppliances();
      };

      function calcAppliances() {
        const type = document.getElementById("pricingType").value;
        let price;

        if (type === "tiered") {
          price = parseFloat(document.getElementById("tier1Price").value) || 0.52;
        } else if (type === "tou") {
          const peakPrice = parseFloat(document.getElementById("peakPrice").value) || 0;
          const flatPrice = parseFloat(document.getElementById("flatPrice").value) || 0;
          const valleyPrice = parseFloat(document.getElementById("valleyPrice").value) || 0;
          price = (peakPrice + flatPrice + valleyPrice) / 3;
        } else {
          price = parseFloat(document.getElementById("fixedPrice").value) || 0.55;
        }

        let totalCost = 0;
        defaultAppliances.forEach((app, index) => {
          const monthlyKwh = (app.power / 1000) * app.hours * 30;
          const cost = monthlyKwh * price;
          totalCost += cost;
          const costEl = document.getElementById("appCost" + index);
          if (costEl) costEl.textContent = "Â¥" + cost.toFixed(2);
        });

        document.getElementById("applianceTotalCost").textContent = "Â¥" + totalCost.toFixed(2);
      }

      loadTheme();
      togglePricing();
      renderAppliances();
      calculate();
    </script>
  </body>
</html>
