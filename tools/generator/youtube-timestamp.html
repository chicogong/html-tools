<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>YouTube 时间戳链接生成器 - WebUtils</title>
  <meta name="description" content="生成带有指定时间戳的 YouTube 视频链接" />
  <meta name="keywords" content="YouTube,时间戳,链接生成,视频分享,timestamp" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg-deep: #0a0a0f;
      --bg-surface: #12121a;
      --bg-elevated: #1a1a24;
      --border-subtle: #2a2a3a;
      --text-primary: #e8e8ed;
      --text-secondary: #a0a0b0;
      --text-muted: #606070;
      --accent-cyan: #00f5d4;
      --accent-purple: #bf5af2;
      --accent-green: #30d158;
      --accent-orange: #ff9f0a;
      --accent-red: #f00;
      --radius-sm: 6px;
      --radius-md: 10px;
      --radius-lg: 16px;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Space Grotesk', -apple-system, sans-serif;
      background: var(--bg-deep);
      color: var(--text-primary);
      min-height: 100vh;
      line-height: 1.6;
    }

    .container {
      max-width: 700px;
      margin: 0 auto;
      padding: 24px 20px;
    }

    .back-link {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 14px;
      margin-bottom: 20px;
      transition: color 0.2s;
    }

    .back-link:hover { color: var(--accent-cyan); }

    h1 {
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 8px;
      background: linear-gradient(135deg, var(--accent-red), #c00);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .subtitle {
      color: var(--text-secondary);
      margin-bottom: 24px;
      font-size: 15px;
    }

    .card {
      background: var(--bg-surface);
      border: 1px solid var(--border-subtle);
      border-radius: var(--radius-lg);
      padding: 24px;
      margin-bottom: 20px;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-label {
      display: block;
      font-size: 14px;
      font-weight: 500;
      margin-bottom: 8px;
      color: var(--text-primary);
    }

    .form-hint {
      font-size: 12px;
      color: var(--text-muted);
      margin-top: 4px;
    }

    input {
      width: 100%;
      padding: 12px 14px;
      background: var(--bg-elevated);
      border: 1px solid var(--border-subtle);
      border-radius: var(--radius-md);
      color: var(--text-primary);
      font-family: inherit;
      font-size: 14px;
      transition: border-color 0.2s;
    }

    input:focus {
      outline: none;
      border-color: var(--accent-red);
    }

    input::placeholder {
      color: var(--text-muted);
    }

    .time-inputs {
      display: flex;
      gap: 12px;
      align-items: center;
    }

    .time-input-group {
      flex: 1;
      text-align: center;
    }

    .time-input-group label {
      display: block;
      font-size: 12px;
      color: var(--text-muted);
      margin-bottom: 4px;
    }

    .time-input-group input {
      text-align: center;
      font-family: 'JetBrains Mono', monospace;
      font-size: 20px;
      padding: 12px 8px;
    }

    .time-separator {
      font-size: 24px;
      color: var(--text-muted);
      margin-top: 20px;
    }

    .quick-times {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 16px;
    }

    .quick-btn {
      padding: 8px 14px;
      background: var(--bg-elevated);
      border: 1px solid var(--border-subtle);
      border-radius: var(--radius-sm);
      color: var(--text-secondary);
      font-family: 'JetBrains Mono', monospace;
      font-size: 13px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .quick-btn:hover {
      border-color: var(--accent-red);
      color: var(--accent-red);
    }

    .output-section {
      background: var(--bg-surface);
      border: 1px solid var(--border-subtle);
      border-radius: var(--radius-lg);
      padding: 20px;
    }

    .output-label {
      font-size: 14px;
      font-weight: 500;
      margin-bottom: 12px;
      color: var(--text-secondary);
    }

    .output-url {
      width: 100%;
      padding: 14px;
      background: var(--bg-deep);
      border: 1px solid var(--border-subtle);
      border-radius: var(--radius-md);
      color: var(--accent-red);
      font-family: 'JetBrains Mono', monospace;
      font-size: 13px;
      word-break: break-all;
    }

    .output-url:focus {
      outline: none;
      border-color: var(--accent-red);
    }

    .button-group {
      display: flex;
      gap: 12px;
      margin-top: 16px;
    }

    .btn {
      flex: 1;
      padding: 14px 20px;
      border: none;
      border-radius: var(--radius-md);
      font-family: inherit;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .btn-youtube {
      background: var(--accent-red);
      color: #fff;
    }

    .btn-youtube:hover {
      background: #c00;
      transform: translateY(-2px);
      box-shadow: 0 4px 20px rgba(255, 0, 0, 0.3);
    }

    .btn-copy {
      background: var(--bg-elevated);
      border: 1px solid var(--border-subtle);
      color: var(--text-secondary);
    }

    .btn-copy:hover {
      border-color: var(--accent-cyan);
      color: var(--accent-cyan);
    }

    .preview-section {
      background: var(--bg-surface);
      border: 1px solid var(--border-subtle);
      border-radius: var(--radius-lg);
      padding: 20px;
      margin-top: 20px;
    }

    .preview-title {
      font-size: 14px;
      font-weight: 500;
      margin-bottom: 12px;
      color: var(--text-secondary);
    }

    .video-preview {
      position: relative;
      padding-bottom: 56.25%;
      height: 0;
      overflow: hidden;
      border-radius: var(--radius-md);
      background: var(--bg-elevated);
    }

    .video-preview iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
    }

    .video-placeholder {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: var(--text-muted);
    }

    .video-placeholder svg {
      width: 48px;
      height: 48px;
      margin-bottom: 12px;
      opacity: 0.5;
    }

    .time-display {
      background: var(--bg-elevated);
      border-radius: var(--radius-md);
      padding: 16px;
      text-align: center;
      margin-top: 16px;
    }

    .time-display-label {
      font-size: 12px;
      color: var(--text-muted);
      margin-bottom: 4px;
    }

    .time-display-value {
      font-family: 'JetBrains Mono', monospace;
      font-size: 24px;
      color: var(--accent-cyan);
    }

    .time-display-seconds {
      font-size: 14px;
      color: var(--text-muted);
      margin-top: 4px;
    }

    @media (max-width: 500px) {
      .time-inputs {
        flex-wrap: wrap;
      }

      .time-separator {
        display: none;
      }

      .time-input-group {
        min-width: 80px;
      }

      .button-group {
        flex-direction: column;
      }

      .quick-times {
        justify-content: center;
      }
    }
  
        .breadcrumb { position: fixed; top: 10px; left: 10px; z-index: 1000; background: rgba(255,255,255,0.95); padding: 8px 15px; border-radius: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); font-size: 0.85rem; }
        .breadcrumb a { color: #667eea; text-decoration: none; }
        .breadcrumb a:hover { text-decoration: underline; }
        .breadcrumb span { color: #999; margin: 0 5px; }
    </style>
</head>
<body>
    <nav class="breadcrumb"><a href="../../index.html">首页</a><span>›</span><a href="../../index.html#generator">生成器</a><span>›</span>YouTube 时间戳链接</nav>
  <div class="container">
    <a href="../../index.html" class="back-link">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M19 12H5M12 19l-7-7 7-7"/>
      </svg>
      返回工具列表
    </a>

    <h1>YouTube 时间戳链接</h1>
    <p class="subtitle">生成跳转到指定时间点的 YouTube 视频链接</p>

    <div class="card">
      <div class="form-group">
        <label class="form-label">YouTube 视频链接或 ID</label>
        <input type="text" id="videoUrl" placeholder="https://www.youtube.com/watch?v=dQw4w9WgXcQ 或 dQw4w9WgXcQ">
        <div class="form-hint">支持各种 YouTube 链接格式或直接输入视频 ID</div>
      </div>

      <div class="form-group">
        <label class="form-label">跳转时间</label>
        <div class="time-inputs">
          <div class="time-input-group">
            <label>时</label>
            <input type="number" id="hours" min="0" max="99" value="0">
          </div>
          <span class="time-separator">:</span>
          <div class="time-input-group">
            <label>分</label>
            <input type="number" id="minutes" min="0" max="59" value="0">
          </div>
          <span class="time-separator">:</span>
          <div class="time-input-group">
            <label>秒</label>
            <input type="number" id="seconds" min="0" max="59" value="0">
          </div>
        </div>
        <div class="quick-times">
          <button class="quick-btn" onclick="setTime(30)">0:30</button>
          <button class="quick-btn" onclick="setTime(60)">1:00</button>
          <button class="quick-btn" onclick="setTime(120)">2:00</button>
          <button class="quick-btn" onclick="setTime(300)">5:00</button>
          <button class="quick-btn" onclick="setTime(600)">10:00</button>
          <button class="quick-btn" onclick="setTime(1800)">30:00</button>
          <button class="quick-btn" onclick="setTime(3600)">1:00:00</button>
        </div>
      </div>

      <div class="time-display">
        <div class="time-display-label">总时长</div>
        <div class="time-display-value" id="timeDisplay">00:00:00</div>
        <div class="time-display-seconds" id="secondsDisplay">= 0 秒</div>
      </div>
    </div>

    <div class="output-section">
      <div class="output-label">生成的链接</div>
      <input type="text" class="output-url" id="outputUrl" readonly placeholder="输入视频链接后自动生成...">
      
      <div class="button-group">
        <button class="btn btn-youtube" onclick="openYouTube()">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
          </svg>
          在 YouTube 打开
        </button>
        <button class="btn btn-copy" onclick="copyUrl()">复制链接</button>
      </div>
    </div>

    <div class="preview-section" id="previewSection" style="display: none;">
      <div class="preview-title">视频预览</div>
      <div class="video-preview" id="videoPreview">
        <div class="video-placeholder">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
          </svg>
          <span>输入视频链接后显示预览</span>
        </div>
      </div>
    </div>
  </div>

  <script>
    ;(function() {
      'use strict';

      const videoUrlInput = document.getElementById('videoUrl');
      const hoursInput = document.getElementById('hours');
      const minutesInput = document.getElementById('minutes');
      const secondsInput = document.getElementById('seconds');
      const outputUrl = document.getElementById('outputUrl');
      const timeDisplay = document.getElementById('timeDisplay');
      const secondsDisplay = document.getElementById('secondsDisplay');
      const previewSection = document.getElementById('previewSection');
      const videoPreview = document.getElementById('videoPreview');

      function extractVideoId(url) {
        if (!url) return null;
        
        // 如果已经是视频 ID 格式
        if (/^[\w-]{11}$/.test(url.trim())) {
          return url.trim();
        }

        const patterns = [
          /(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/|youtube\.com\/shorts\/)([^&\n?#]+)/,
          /youtube\.com\/watch\?.*v=([^&\n?#]+)/
        ];

        for (const pattern of patterns) {
          const match = url.match(pattern);
          if (match) return match[1];
        }

        return null;
      }

      function getTotalSeconds() {
        const h = parseInt(hoursInput.value) || 0;
        const m = parseInt(minutesInput.value) || 0;
        const s = parseInt(secondsInput.value) || 0;
        return h * 3600 + m * 60 + s;
      }

      function formatTime(totalSeconds) {
        const h = Math.floor(totalSeconds / 3600);
        const m = Math.floor((totalSeconds % 3600) / 60);
        const s = totalSeconds % 60;
        return `${h.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
      }

      function setTime(totalSeconds) {
        const h = Math.floor(totalSeconds / 3600);
        const m = Math.floor((totalSeconds % 3600) / 60);
        const s = totalSeconds % 60;
        
        hoursInput.value = h;
        minutesInput.value = m;
        secondsInput.value = s;
        
        generateUrl();
      }

      function generateUrl() {
        const videoId = extractVideoId(videoUrlInput.value);
        const totalSeconds = getTotalSeconds();

        // 更新时间显示
        timeDisplay.textContent = formatTime(totalSeconds);
        secondsDisplay.textContent = `= ${totalSeconds} 秒`;

        if (!videoId) {
          outputUrl.value = '';
          previewSection.style.display = 'none';
          return;
        }

        // 生成链接
        let url = `https://www.youtube.com/watch?v=${videoId}`;
        if (totalSeconds > 0) {
          url += `&t=${totalSeconds}s`;
        }
        outputUrl.value = url;

        // 更新预览
        updatePreview(videoId, totalSeconds);
      }

      function updatePreview(videoId, startTime) {
        previewSection.style.display = 'block';
        
        let embedUrl = `https://www.youtube.com/embed/${videoId}?autoplay=0`;
        if (startTime > 0) {
          embedUrl += `&start=${startTime}`;
        }

        videoPreview.innerHTML = '';
        const iframe = document.createElement('iframe');
        iframe.src = embedUrl;
        iframe.allowFullscreen = true;
        videoPreview.appendChild(iframe);
      }

      function openYouTube() {
        const url = outputUrl.value;
        if (!url) {
          alert('请先输入 YouTube 视频链接');
          return;
        }
        window.open(url, '_blank');
      }

      function copyUrl() {
        const url = outputUrl.value;
        if (!url) {
          alert('请先输入 YouTube 视频链接');
          return;
        }

        navigator.clipboard.writeText(url).then(() => {
          const btn = event.target;
          const originalText = btn.textContent;
          btn.textContent = '已复制!';
          setTimeout(() => {
            btn.textContent = originalText;
          }, 1500);
        });
      }

      // 输入验证
      function validateTimeInput(input, max) {
        input.addEventListener('input', () => {
          let value = parseInt(input.value) || 0;
          if (value < 0) value = 0;
          if (value > max) value = max;
          input.value = value;
          generateUrl();
        });
      }

      // 绑定事件
      videoUrlInput.addEventListener('input', generateUrl);
      validateTimeInput(hoursInput, 99);
      validateTimeInput(minutesInput, 59);
      validateTimeInput(secondsInput, 59);

      // 暴露全局函数
      window.setTime = setTime;
      window.openYouTube = openYouTube;
      window.copyUrl = copyUrl;
    })();
  </script>
</body>
</html>
