<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>æ–‡æœ¬è¯é¢‘åˆ†æ - WebUtils</title>
    <!-- SEO Meta Tags -->
    <meta name="description" content="æ–‡æœ¬è¯é¢‘åˆ†æ - WebUtils" />
    <meta name="keywords" content="text-frequency,text,tools,webutils" />
    <meta name="author" content="WebUtils" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://tools.realtime-ai.chat/tools/text/text-frequency.html" />

    <!-- Open Graph -->
    <meta property="og:title" content="æ–‡æœ¬è¯é¢‘åˆ†æ - WebUtils" />
    <meta property="og:description" content="æ–‡æœ¬è¯é¢‘åˆ†æ - WebUtils" />
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://tools.realtime-ai.chat/tools/text/text-frequency.html"
    />
    <meta property="og:site_name" content="WebUtils" />
    <meta property="og:locale" content="zh_CN" />
    <meta property="og:image" content="https://tools.realtime-ai.chat/social-preview.png" />
    <meta property="og:image:width" content="1280" />
    <meta property="og:image:height" content="640" />
    <meta property="og:image:type" content="image/png" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="æ–‡æœ¬è¯é¢‘åˆ†æ - WebUtils" />
    <meta name="twitter:description" content="æ–‡æœ¬è¯é¢‘åˆ†æ - WebUtils" />
    <meta name="twitter:image" content="https://tools.realtime-ai.chat/social-preview.png" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css" />
    <style>
      :root {
        --bg-deep: #0a0a0f;
        --bg-surface: #12121a;
        --bg-card: #1a1a24;
        --bg-input: #0e0e14;
        --text-primary: #e8e8ed;
        --text-secondary: #8888a0;
        --text-muted: #55556a;
        --border-subtle: #2a2a3a;
        --border-strong: #3a3a4a;
        --accent-cyan: #00f5d4;
        --accent-magenta: #f72585;
        --accent-green: #10b981;
        --accent-red: #f43f5e;
        --accent-yellow: #fbbf24;
        --accent-blue: #4cc9f0;
        --accent-purple: #7b2cbf;
        --radius-sm: 4px;
        --radius-md: 8px;
        --radius-lg: 12px;
        --font-sans: "Space Grotesk", -apple-system, blinkmacsystemfont, "Segoe UI", roboto, sans-serif;
        --font-mono: "JetBrains Mono", "Courier New", monospace;
        --shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
      }

      [data-theme="light"] {
        --bg-deep: #fafafa;
        --bg-surface: #fff;
        --bg-card: #fff;
        --bg-input: #f5f5f5;
        --text-primary: #1a1a1a;
        --text-secondary: #666;
        --text-muted: #999;
        --border-subtle: #e5e5e5;
        --border-strong: #d5d5d5;
        --accent-cyan: #00d4b8;
        --accent-magenta: #e63975;
        --shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      }

      

      :root {
        --primary-color: #3498db;
      }

      .container {
        max-width: 1000px;
        margin: 0 auto;
        padding: 2rem 1rem;
      }

      header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 2rem;
      }

      h1 {
        margin-bottom: 0;
        color: var(--primary-color);
      }

      .theme-toggle {
        cursor: pointer;
        background: none;
        border: 2px solid var(--pico-muted-border-color);
        border-radius: 50%;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
      }

      .text-area-wrapper {
        margin-bottom: 1rem;
      }

      .text-area-wrapper label {
        font-weight: 600;
        margin-bottom: 0.5rem;
        display: block;
      }

      textarea {
        min-height: 180px;
        resize: vertical;
        font-size: 1rem;
      }

      .options-bar {
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
        margin-bottom: 1rem;
        align-items: center;
      }

      .options-bar label {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        cursor: pointer;
      }

      .char-count {
        display: flex;
        justify-content: space-between;
        font-size: 0.85rem;
        color: var(--pico-muted-color);
        margin-top: 0.25rem;
      }

      .btn-group {
        display: flex;
        gap: 0.5rem;
        flex-wrap: wrap;
        margin: 1rem 0;
      }

      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 1rem;
        margin-bottom: 1.5rem;
      }

      .stat-card {
        background: var(--pico-card-background-color);
        border: 1px solid var(--pico-muted-border-color);
        border-radius: var(--pico-border-radius);
        padding: 1rem;
        text-align: center;
      }

      .stat-card .value {
        font-size: 1.5rem;
        font-weight: bold;
        color: var(--primary-color);
      }

      .stat-card .label {
        font-size: 0.85rem;
        color: var(--pico-muted-color);
      }

      .results-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
      }

      @media (max-width: 768px) {
        .results-container {
          grid-template-columns: 1fr;
        }
      }

      .result-panel {
        background: var(--pico-card-background-color);
        border: 1px solid var(--pico-muted-border-color);
        border-radius: var(--pico-border-radius);
        padding: 1rem;
      }

      .result-panel h3 {
        font-size: 1rem;
        margin-bottom: 0.75rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .freq-list {
        max-height: 300px;
        overflow-y: auto;
      }

      .freq-item {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.35rem 0;
        border-bottom: 1px solid var(--pico-muted-border-color);
      }

      .freq-item:last-child {
        border-bottom: none;
      }

      .freq-rank {
        width: 30px;
        text-align: center;
        font-size: 0.8rem;
        color: var(--pico-muted-color);
      }

      .freq-word {
        flex: 1;
        font-weight: 500;
      }

      .freq-count {
        font-size: 0.85rem;
        color: var(--pico-muted-color);
      }

      .freq-bar {
        width: 60px;
        height: 8px;
        background: var(--pico-muted-border-color);
        border-radius: 4px;
        overflow: hidden;
      }

      .freq-bar-inner {
        height: 100%;
        background: var(--primary-color);
        border-radius: 4px;
      }

      .cloud-container {
        min-height: 200px;
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        padding: 1rem;
      }

      .cloud-word {
        cursor: default;
        transition: transform 0.2s;
      }

      .cloud-word:hover {
        transform: scale(1.1);
      }

      footer {
        text-align: center;
        margin-top: 3rem;
        padding-top: 1rem;
        border-top: 1px solid var(--pico-muted-border-color);
        color: var(--pico-muted-color);
      }

      .export-btn {
        font-size: 0.8rem;
        padding: 0.25rem 0.5rem;
      }

      .breadcrumb {
        background: rgba(255, 255, 255, 0.95);
        padding: 8px 15px;
        border-radius: 20px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        font-size: 0.85rem;
      }
      .breadcrumb a {
        color: #667eea;
        text-decoration: none;
      }
      .breadcrumb a:hover {
        text-decoration: underline;
      }
      .breadcrumb span {
        color: #999;
        margin: 0 5px;
      }
    </style>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <nav class="breadcrumb">
      <a href="../../index.html">é¦–é¡µ</a>
      <span>â€º</span>
      æ–‡æœ¬é¢‘ç‡åˆ†æ
    </nav>
    <main class="container">
      <header>
        <h1>æ–‡æœ¬è¯é¢‘åˆ†æ</h1>
        <button class="theme-toggle" onclick="toggleTheme()" title="åˆ‡æ¢ä¸»é¢˜">
          <span id="theme-icon">ğŸŒ™</span>
        </button>
      </header>

      <article>
        <div class="text-area-wrapper">
          <label for="input-text">è¾“å…¥æ–‡æœ¬</label>
          <textarea id="input-text" placeholder="è¯·è¾“å…¥è¦åˆ†æçš„æ–‡æœ¬å†…å®¹..."></textarea>
          <div class="char-count">
            <span>
              å­—ç¬¦æ•°:
              <span id="char-count">0</span>
            </span>
            <button
              class="outline secondary"
              style="padding: 0.25rem 0.5rem; font-size: 0.8rem"
              onclick="clearInput()"
            >
              æ¸…ç©º
            </button>
          </div>
        </div>

        <div class="options-bar">
          <label>
            <input type="checkbox" id="ignoreCase" checked />
            å¿½ç•¥å¤§å°å†™
          </label>
          <label>
            <input type="checkbox" id="ignorePunct" checked />
            å¿½ç•¥æ ‡ç‚¹
          </label>
          <label>
            <input type="checkbox" id="ignoreNumbers" />
            å¿½ç•¥æ•°å­—
          </label>
          <label>
            åˆ†ææ¨¡å¼:
            <select id="analyzeMode">
              <option value="char">å•å­—åˆ†æ</option>
              <option value="word" selected>è¯è¯­åˆ†æ</option>
              <option value="sentence">å¥å­åˆ†æ</option>
            </select>
          </label>
          <label>
            æ˜¾ç¤ºæ•°é‡:
            <select id="displayCount">
              <option value="20">å‰20</option>
              <option value="50" selected>å‰50</option>
              <option value="100">å‰100</option>
              <option value="all">å…¨éƒ¨</option>
            </select>
          </label>
        </div>

        <div class="btn-group">
          <button onclick="analyze()">å¼€å§‹åˆ†æ</button>
          <button onclick="exportCSV()" class="secondary">å¯¼å‡ºCSV</button>
        </div>

        <!-- ç»Ÿè®¡æ¦‚è§ˆ -->
        <div class="stats-grid" id="stats-grid">
          <div class="stat-card">
            <div class="value" id="total-chars">0</div>
            <div class="label">æ€»å­—ç¬¦æ•°</div>
          </div>
          <div class="stat-card">
            <div class="value" id="total-words">0</div>
            <div class="label">æ€»è¯æ•°</div>
          </div>
          <div class="stat-card">
            <div class="value" id="unique-words">0</div>
            <div class="label">ä¸é‡å¤è¯</div>
          </div>
          <div class="stat-card">
            <div class="value" id="avg-length">0</div>
            <div class="label">å¹³å‡è¯é•¿</div>
          </div>
          <div class="stat-card">
            <div class="value" id="chinese-chars">0</div>
            <div class="label">ä¸­æ–‡å­—ç¬¦</div>
          </div>
          <div class="stat-card">
            <div class="value" id="english-words">0</div>
            <div class="label">è‹±æ–‡è¯</div>
          </div>
        </div>

        <!-- ç»“æœå±•ç¤º -->
        <div class="results-container">
          <div class="result-panel">
            <h3>
              <span>è¯é¢‘æ’è¡Œ</span>
              <button class="outline export-btn" onclick="copyFreqList()">å¤åˆ¶</button>
            </h3>
            <div class="freq-list" id="freq-list">
              <p style="color: var(--pico-muted-color); text-align: center">åˆ†æç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</p>
            </div>
          </div>

          <div class="result-panel">
            <h3>
              <span>è¯äº‘å±•ç¤º</span>
            </h3>
            <div class="cloud-container" id="word-cloud">
              <p style="color: var(--pico-muted-color)">è¯äº‘å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</p>
            </div>
          </div>
        </div>
      </article>

      <footer>
        <p>æ–‡æœ¬è¯é¢‘åˆ†æå·¥å…· - çº¯å®¢æˆ·ç«¯è¿è¡Œï¼Œæ•°æ®ä¸ä¼šä¸Šä¼ </p>
      </footer>
    </main>

    <script>
      // å…¨å±€å­˜å‚¨åˆ†æç»“æœ
      let analysisResult = [];

      // å¸¸ç”¨åœç”¨è¯
      const stopWords = new Set([
        "çš„",
        "äº†",
        "æ˜¯",
        "åœ¨",
        "æˆ‘",
        "æœ‰",
        "å’Œ",
        "å°±",
        "ä¸",
        "äºº",
        "éƒ½",
        "ä¸€",
        "ä¸€ä¸ª",
        "ä¸Š",
        "ä¹Ÿ",
        "å¾ˆ",
        "åˆ°",
        "è¯´",
        "è¦",
        "å»",
        "ä½ ",
        "ä¼š",
        "ç€",
        "æ²¡æœ‰",
        "çœ‹",
        "å¥½",
        "è‡ªå·±",
        "è¿™",
        "é‚£",
        "é‡Œ",
        "ä»–",
        "å¥¹",
        "å®ƒ",
        "the",
        "a",
        "an",
        "is",
        "are",
        "was",
        "were",
        "be",
        "been",
        "being",
        "have",
        "has",
        "had",
        "do",
        "does",
        "did",
        "will",
        "would",
        "could",
        "should",
        "may",
        "might",
        "must",
        "can",
        "this",
        "that",
        "these",
        "those",
        "i",
        "you",
        "he",
        "she",
        "it",
        "we",
        "they",
        "and",
        "or",
        "but",
        "if",
        "because",
        "as",
        "of",
        "at",
        "by",
        "for",
        "with",
        "about",
        "to",
        "from",
        "in",
        "on",
        "not",
        "no",
        "so",
        "what",
        "which",
        "who"
      ]);

      // æ›´æ–°å­—ç¬¦è®¡æ•°
      document.getElementById("input-text").addEventListener("input", function () {
        document.getElementById("char-count").textContent = this.value.length;
      });

      // åˆ†è¯å‡½æ•°ï¼ˆç®€å•å®ç°ï¼‰
      function segmentText(text, mode) {
        const ignoreCase = document.getElementById("ignoreCase").checked;
        const ignorePunct = document.getElementById("ignorePunct").checked;
        const ignoreNumbers = document.getElementById("ignoreNumbers").checked;

        if (ignoreCase) {
          text = text.toLowerCase();
        }

        if (ignorePunct) {
          text = text.replace(
            /[ï¼Œã€‚ï¼ï¼Ÿã€ï¼›ï¼š""''ï¼ˆï¼‰ã€ã€‘ã€Šã€‹\.\,\!\?\;\:\"\'\(\)\[\]\<\>\-\_\+\=\*\/\\@#$%^&~`]/g,
            " "
          );
        }

        if (ignoreNumbers) {
          text = text.replace(/[0-9ï¼-ï¼™]/g, "");
        }

        let words = [];

        if (mode === "char") {
          // å•å­—åˆ†æ
          words = text.split("").filter((c) => c.trim());
        } else if (mode === "sentence") {
          // å¥å­åˆ†æ
          words = text.split(/[ã€‚ï¼ï¼Ÿ\.\!\?]/).filter((s) => s.trim());
        } else {
          // è¯è¯­åˆ†æ - ç®€å•çš„ä¸­è‹±æ–‡æ··åˆåˆ†è¯
          // è‹±æ–‡æŒ‰ç©ºæ ¼åˆ†è¯ï¼Œä¸­æ–‡æŒ‰2-4å­—åˆ†è¯
          const englishWords = text.match(/[a-zA-Z]+/g) || [];
          const chineseText = text.replace(/[a-zA-Z]+/g, "");

          // ç®€å•çš„ä¸­æ–‡åˆ†è¯ï¼ˆåŸºäºå¸¸ç”¨è¯é•¿åº¦ï¼‰
          const chineseChars = chineseText.match(/[\u4e00-\u9fff]+/g) || [];
          const chineseWords = [];

          chineseChars.forEach((segment) => {
            // ç®€å•ç­–ç•¥ï¼šä¼˜å…ˆ2å­—è¯ï¼Œå…¶æ¬¡å•å­—
            for (let i = 0; i < segment.length; i++) {
              if (i + 1 < segment.length) {
                chineseWords.push(segment.substring(i, i + 2));
                i++; // è·³è¿‡ä¸‹ä¸€ä¸ªå­—ç¬¦
              } else {
                chineseWords.push(segment[i]);
              }
            }
          });

          words = [...englishWords, ...chineseWords];
        }

        return words.filter((w) => w && w.trim());
      }

      // åˆ†æå‡½æ•°
      window.analyze = function () {
        const text = document.getElementById("input-text").value;
        const mode = document.getElementById("analyzeMode").value;
        const displayCount = document.getElementById("displayCount").value;

        if (!text.trim()) {
          alert("è¯·è¾“å…¥è¦åˆ†æçš„æ–‡æœ¬");
          return;
        }

        // åˆ†è¯
        const words = segmentText(text, mode);

        // ç»Ÿè®¡è¯é¢‘
        const freqMap = new Map();
        words.forEach((word) => {
          freqMap.set(word, (freqMap.get(word) || 0) + 1);
        });

        // æ’åº
        analysisResult = Array.from(freqMap.entries()).sort((a, b) => b[1] - a[1]);

        // ç»Ÿè®¡æ•°æ®
        const totalChars = text.length;
        const totalWords = words.length;
        const uniqueWords = analysisResult.length;
        const avgLength = totalWords > 0 ? (words.join("").length / totalWords).toFixed(1) : 0;
        const chineseChars = (text.match(/[\u4e00-\u9fff]/g) || []).length;
        const englishWords = (text.match(/[a-zA-Z]+/g) || []).length;

        // æ›´æ–°ç»Ÿè®¡å¡ç‰‡
        document.getElementById("total-chars").textContent = totalChars;
        document.getElementById("total-words").textContent = totalWords;
        document.getElementById("unique-words").textContent = uniqueWords;
        document.getElementById("avg-length").textContent = avgLength;
        document.getElementById("chinese-chars").textContent = chineseChars;
        document.getElementById("english-words").textContent = englishWords;

        // æ˜¾ç¤ºç»“æœ
        const limit = displayCount === "all" ? analysisResult.length : parseInt(displayCount);
        displayFreqList(analysisResult.slice(0, limit));
        displayWordCloud(analysisResult.slice(0, 50));
      };

      // æ˜¾ç¤ºè¯é¢‘åˆ—è¡¨
      function displayFreqList(data) {
        const container = document.getElementById("freq-list");
        container.textContent = "";

        if (data.length === 0) {
          const p = document.createElement("p");
          p.style.color = "var(--pico-muted-color)";
          p.style.textAlign = "center";
          p.textContent = "æ²¡æœ‰åˆ†æç»“æœ";
          container.appendChild(p);
          return;
        }

        const maxCount = data[0][1];

        data.forEach(([word, count], index) => {
          const item = document.createElement("div");
          item.className = "freq-item";

          const rank = document.createElement("span");
          rank.className = "freq-rank";
          rank.textContent = index + 1;

          const wordSpan = document.createElement("span");
          wordSpan.className = "freq-word";
          wordSpan.textContent = word;

          const countSpan = document.createElement("span");
          countSpan.className = "freq-count";
          countSpan.textContent = count;

          const bar = document.createElement("div");
          bar.className = "freq-bar";

          const barInner = document.createElement("div");
          barInner.className = "freq-bar-inner";
          barInner.style.width = (count / maxCount) * 100 + "%";

          bar.appendChild(barInner);

          item.appendChild(rank);
          item.appendChild(wordSpan);
          item.appendChild(countSpan);
          item.appendChild(bar);

          container.appendChild(item);
        });
      }

      // æ˜¾ç¤ºè¯äº‘
      function displayWordCloud(data) {
        const container = document.getElementById("word-cloud");
        container.textContent = "";

        if (data.length === 0) {
          const p = document.createElement("p");
          p.style.color = "var(--pico-muted-color)";
          p.textContent = "è¯äº‘å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ";
          container.appendChild(p);
          return;
        }

        const maxCount = data[0][1];
        const minSize = 12;
        const maxSize = 36;

        // é¢œè‰²æ•°ç»„
        const colors = [
          "#e74c3c",
          "#3498db",
          "#2ecc71",
          "#f39c12",
          "#9b59b6",
          "#1abc9c",
          "#e67e22",
          "#34495e",
          "#16a085",
          "#c0392b"
        ];

        data.forEach(([word, count], index) => {
          const span = document.createElement("span");
          span.className = "cloud-word";
          span.textContent = word;

          // æ ¹æ®é¢‘ç‡è®¡ç®—å­—ä½“å¤§å°
          const ratio = count / maxCount;
          const size = minSize + (maxSize - minSize) * Math.sqrt(ratio);
          span.style.fontSize = size + "px";

          // éšæœºé¢œè‰²
          span.style.color = colors[index % colors.length];

          // è®¾ç½®æ ‡é¢˜æ˜¾ç¤ºé¢‘æ¬¡
          span.title = word + ": " + count + "æ¬¡";

          container.appendChild(span);
        });
      }

      // å¯¼å‡ºCSV
      window.exportCSV = function () {
        if (analysisResult.length === 0) {
          alert("è¯·å…ˆè¿›è¡Œåˆ†æ");
          return;
        }

        let csv = "\uFEFFè¯è¯­,é¢‘æ¬¡\n"; // BOM for Excel
        analysisResult.forEach(([word, count]) => {
          csv += '"' + word.replace(/"/g, '""') + '",' + count + "\n";
        });

        const blob = new Blob([csv], { type: "text/csv;charset=utf-8" });
        const url = URL.createObjectURL(blob);

        const a = document.createElement("a");
        a.href = url;
        a.download = "word-frequency.csv";
        a.click();

        URL.revokeObjectURL(url);
      };

      // å¤åˆ¶è¯é¢‘åˆ—è¡¨
      window.copyFreqList = function () {
        if (analysisResult.length === 0) {
          alert("è¯·å…ˆè¿›è¡Œåˆ†æ");
          return;
        }

        const displayCount = document.getElementById("displayCount").value;
        const limit = displayCount === "all" ? analysisResult.length : parseInt(displayCount);

        let text = "æ’å\tè¯è¯­\té¢‘æ¬¡\n";
        analysisResult.slice(0, limit).forEach(([word, count], index) => {
          text += index + 1 + "\t" + word + "\t" + count + "\n";
        });

        navigator.clipboard.writeText(text).then(() => {
          const btn = event.target;
          const originalText = btn.textContent;
          btn.textContent = "å·²å¤åˆ¶";
          setTimeout(() => {
            btn.textContent = originalText;
          }, 1500);
        });
      };

      // æ¸…ç©ºè¾“å…¥
      window.clearInput = function () {
        document.getElementById("input-text").value = "";
        document.getElementById("char-count").textContent = "0";
        analysisResult = [];

        // é‡ç½®ç»Ÿè®¡
        document.getElementById("total-chars").textContent = "0";
        document.getElementById("total-words").textContent = "0";
        document.getElementById("unique-words").textContent = "0";
        document.getElementById("avg-length").textContent = "0";
        document.getElementById("chinese-chars").textContent = "0";
        document.getElementById("english-words").textContent = "0";

        // é‡ç½®ç»“æœ
        document.getElementById("freq-list").textContent = "";
        const p1 = document.createElement("p");
        p1.style.color = "var(--pico-muted-color)";
        p1.style.textAlign = "center";
        p1.textContent = "åˆ†æç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ";
        document.getElementById("freq-list").appendChild(p1);

        document.getElementById("word-cloud").textContent = "";
        const p2 = document.createElement("p");
        p2.style.color = "var(--pico-muted-color)";
        p2.textContent = "è¯äº‘å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ";
        document.getElementById("word-cloud").appendChild(p2);
      };

      // ä¸»é¢˜åˆ‡æ¢
      window.toggleTheme = function () {
        const html = document.documentElement;
        const currentTheme = html.getAttribute("data-theme");
        const newTheme = currentTheme === "light" ? "dark" : "light";
        html.setAttribute("data-theme", newTheme);
        document.getElementById("theme-icon").textContent = newTheme === "light" ? "ğŸŒ™" : "â˜€ï¸";
        localStorage.setItem("theme", newTheme);
      };

      // åˆå§‹åŒ–ä¸»é¢˜
      (function initTheme() {
        const savedTheme = localStorage.getItem("theme") || "light";
        document.documentElement.setAttribute("data-theme", savedTheme);
        document.getElementById("theme-icon").textContent = savedTheme === "light" ? "ğŸŒ™" : "â˜€ï¸";
      })();
    </script>
  </body>
</html>
