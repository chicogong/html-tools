<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>打字测试</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; min-height: 100vh; background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); padding: 20px; display: flex; align-items: center; justify-content: center; }
        .container { max-width: 600px; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); }
        h1 { text-align: center; margin-bottom: 20px; }
        .text { padding: 20px; background: #f5f5f5; border-radius: 10px; line-height: 1.8; margin-bottom: 20px; font-size: 1.1rem; }
        .text span.correct { color: #48bb78; }
        .text span.incorrect { color: #f56565; background: #fed7d7; }
        textarea { width: 100%; height: 100px; padding: 15px; border: 2px solid #e2e8f0; border-radius: 10px; font-size: 1rem; resize: none; }
        .stats { display: flex; justify-content: space-around; margin-top: 20px; text-align: center; }
        .stat-value { font-size: 2rem; font-weight: bold; color: #4facfe; }
        .btn { display: block; margin: 20px auto 0; padding: 10px 30px; background: #4facfe; color: white; border: none; border-radius: 5px; cursor: pointer; }
    
        .breadcrumb { position: fixed; top: 10px; left: 10px; z-index: 1000; background: rgba(255,255,255,0.95); padding: 8px 15px; border-radius: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); font-size: 0.85rem; }
        .breadcrumb a { color: #667eea; text-decoration: none; }
        .breadcrumb a:hover { text-decoration: underline; }
        .breadcrumb span { color: #999; margin: 0 5px; }
    </style>
</head>
<body>
    <nav class="breadcrumb"><a href="../../index.html">首页</a><span>›</span><a href="../../index.html#fun">趣味工具</a><span>›</span>打字测试</nav>
    <div class="container">
        <h1>⌨️ 打字测试</h1>
        <div class="text" id="text">The quick brown fox jumps over the lazy dog. Pack my box with five dozen liquor jugs.</div>
        <textarea id="input" placeholder="开始输入..." oninput="checkTyping()"></textarea>
        <div class="stats">
            <div><div class="stat-value" id="wpm">0</div><div>WPM</div></div>
            <div><div class="stat-value" id="accuracy">100</div><div>准确率%</div></div>
            <div><div class="stat-value" id="time">0</div><div>秒</div></div>
        </div>
        <button class="btn" onclick="reset()">重新开始</button>
    </div>
    <script>
        const originalText = "The quick brown fox jumps over the lazy dog. Pack my box with five dozen liquor jugs.";
        let startTime = null, timer = null;
        function checkTyping() {
            const input = document.getElementById('input').value;
            if (!startTime) { startTime = Date.now(); timer = setInterval(updateStats, 100); }
            let html = '';
            for (let i = 0; i < originalText.length; i++) {
                if (i < input.length) {
                    html += '<span class="' + (input[i] === originalText[i] ? 'correct' : 'incorrect') + '">' + originalText[i] + '</span>';
                } else {
                    html += originalText[i];
                }
            }
            document.getElementById('text').innerHTML = html;
            if (input.length >= originalText.length) { clearInterval(timer); }
        }
        function updateStats() {
            const input = document.getElementById('input').value;
            const elapsed = (Date.now() - startTime) / 1000;
            document.getElementById('time').textContent = Math.floor(elapsed);
            const words = input.trim().split(/\s+/).length;
            document.getElementById('wpm').textContent = Math.round((words / elapsed) * 60) || 0;
            let correct = 0;
            for (let i = 0; i < input.length; i++) { if (input[i] === originalText[i]) correct++; }
            document.getElementById('accuracy').textContent = input.length ? Math.round((correct / input.length) * 100) : 100;
        }
        function reset() { document.getElementById('input').value = ''; document.getElementById('text').textContent = originalText; startTime = null; clearInterval(timer); document.getElementById('wpm').textContent = '0'; document.getElementById('accuracy').textContent = '100'; document.getElementById('time').textContent = '0'; }
    </script>
</body>
</html>