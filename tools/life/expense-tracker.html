<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è®°è´¦æœ¬</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; min-height: 100vh; background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%); padding: 20px; }
        .container { max-width: 500px; margin: 0 auto; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); }
        h1 { text-align: center; margin-bottom: 20px; }
        .balance { text-align: center; padding: 20px; background: #f7fafc; border-radius: 10px; margin-bottom: 20px; }
        .balance-amount { font-size: 2.5rem; font-weight: bold; }
        .balance-amount.positive { color: #38a169; }
        .balance-amount.negative { color: #e53e3e; }
        .summary { display: flex; justify-content: space-around; margin-bottom: 20px; }
        .summary-item { text-align: center; }
        .income { color: #38a169; }
        .expense { color: #e53e3e; }
        .form { display: grid; gap: 10px; margin-bottom: 20px; }
        input, select { padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; }
        .btn { padding: 12px; background: #667eea; color: white; border: none; border-radius: 8px; cursor: pointer; }
        .list { max-height: 300px; overflow-y: auto; }
        .item { display: flex; justify-content: space-between; padding: 12px; border-bottom: 1px solid #e2e8f0; }
        .item-amount.income { color: #38a169; }
        .item-amount.expense { color: #e53e3e; }
    
        .breadcrumb { position: fixed; top: 10px; left: 10px; z-index: 1000; background: rgba(255,255,255,0.95); padding: 8px 15px; border-radius: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); font-size: 0.85rem; }
        .breadcrumb a { color: #667eea; text-decoration: none; }
        .breadcrumb a:hover { text-decoration: underline; }
        .breadcrumb span { color: #999; margin: 0 5px; }
    </style>
</head>
<body>
    <nav class="breadcrumb"><a href="../../index.html">é¦–é¡µ</a><span>â€º</span><a href="../../index.html#life">ç”Ÿæ´»å·¥å…·</a><span>â€º</span>è®°è´¦æœ¬</nav>
    <div class="container">
        <h1>ğŸ’° è®°è´¦æœ¬</h1>
        <div class="balance">ä½™é¢<div class="balance-amount" id="balance">Â¥0</div></div>
        <div class="summary">
            <div class="summary-item"><div class="income" id="totalIncome">Â¥0</div><div>æ”¶å…¥</div></div>
            <div class="summary-item"><div class="expense" id="totalExpense">Â¥0</div><div>æ”¯å‡º</div></div>
        </div>
        <div class="form">
            <input type="text" id="desc" placeholder="æè¿°">
            <input type="number" id="amount" placeholder="é‡‘é¢">
            <select id="type"><option value="expense">æ”¯å‡º</option><option value="income">æ”¶å…¥</option></select>
            <button class="btn" onclick="addTransaction()">æ·»åŠ </button>
        </div>
        <div class="list" id="list"></div>
    </div>
    <script>
        let transactions = JSON.parse(localStorage.getItem('transactions') || '[]');
        function save() { localStorage.setItem('transactions', JSON.stringify(transactions)); }
        function render() {
            const income = transactions.filter(t => t.type === 'income').reduce((s, t) => s + t.amount, 0);
            const expense = transactions.filter(t => t.type === 'expense').reduce((s, t) => s + t.amount, 0);
            const balance = income - expense;
            document.getElementById('balance').textContent = 'Â¥' + balance.toFixed(2);
            document.getElementById('balance').className = 'balance-amount ' + (balance >= 0 ? 'positive' : 'negative');
            document.getElementById('totalIncome').textContent = 'Â¥' + income.toFixed(2);
            document.getElementById('totalExpense').textContent = 'Â¥' + expense.toFixed(2);
            document.getElementById('list').innerHTML = transactions.slice().reverse().map((t, i) => '<div class="item"><span>' + t.desc + '</span><span class="item-amount ' + t.type + '">' + (t.type === 'income' ? '+' : '-') + 'Â¥' + t.amount.toFixed(2) + '</span></div>').join('');
        }
        function addTransaction() {
            const desc = document.getElementById('desc').value.trim();
            const amount = parseFloat(document.getElementById('amount').value);
            const type = document.getElementById('type').value;
            if (desc && amount > 0) {
                transactions.push({ desc, amount, type, date: new Date().toISOString() });
                save(); render();
                document.getElementById('desc').value = '';
                document.getElementById('amount').value = '';
            }
        }
        render();
    </script>
</body>
</html>