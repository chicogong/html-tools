<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Slug ÁîüÊàêÂô® - WebUtils</title>
    <!-- SEO Meta Tags -->
    <meta name="description" content="ÁîüÊàê URL ÂèãÂ•ΩÁöÑ slug Â≠óÁ¨¶‰∏≤" />
    <meta name="keywords" content="slug url ÂèãÂ•Ω seo ÈìæÊé• ÁîüÊàê" />
    <meta name="author" content="WebUtils" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://tools.realtime-ai.chat/tools/dev/slug-generator.html" />

    <!-- Open Graph -->
    <meta property="og:title" content="Slug ÁîüÊàêÂô® - WebUtils" />
    <meta property="og:description" content="ÁîüÊàê URL ÂèãÂ•ΩÁöÑ slug Â≠óÁ¨¶‰∏≤" />
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://tools.realtime-ai.chat/tools/dev/slug-generator.html"
    />
    <meta property="og:site_name" content="WebUtils" />
    <meta property="og:locale" content="zh_CN" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Slug ÁîüÊàêÂô® - WebUtils" />
    <meta name="twitter:description" content="ÁîüÊàê URL ÂèãÂ•ΩÁöÑ slug Â≠óÁ¨¶‰∏≤" />
    <!-- OG Image -->
    <meta property="og:image" content="https://tools.realtime-ai.chat/social-preview.png" />
    <meta property="og:image:width" content="1280" />
    <meta property="og:image:height" content="640" />
    <meta property="og:image:type" content="image/png" />
    <meta name="twitter:image" content="https://tools.realtime-ai.chat/social-preview.png" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --bg-deep: #0a0a0f;
        --bg-surface: #12121a;
        --bg-card: #1a1a24;
        --bg-input: #0e0e14;
        --text-primary: #e8e8ed;
        --text-secondary: #8888a0;
        --text-muted: #55556a;
        --border-subtle: #2a2a3a;
        --border-strong: #3a3a4a;
        --accent-cyan: #00f5d4;
        --accent-magenta: #f72585;
        --accent-green: #10b981;
        --accent-red: #f43f5e;
        --accent-yellow: #fbbf24;
        --accent-blue: #4cc9f0;
        --accent-purple: #7b2cbf;
        --radius-sm: 4px;
        --radius-md: 8px;
        --radius-lg: 12px;
        --font-sans: "Space Grotesk", -apple-system, blinkmacsystemfont, "Segoe UI", roboto, sans-serif;
        --font-mono: "JetBrains Mono", "Courier New", monospace;
        --shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
      }

      [data-theme="light"] {
        --bg-deep: #fafafa;
        --bg-surface: #fff;
        --bg-card: #fff;
        --bg-input: #f5f5f5;
        --text-primary: #1a1a1a;
        --text-secondary: #666;
        --text-muted: #999;
        --border-subtle: #e5e5e5;
        --border-strong: #d5d5d5;
        --accent-cyan: #00d4b8;
        --accent-magenta: #e63975;
        --shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      }

      

      

      .theme-toggle {
        position: fixed;
        top: 1rem;
        right: 1rem;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        border: 1px solid var(--border-subtle);
        background: var(--color-bg-card);
        cursor: pointer;
        font-size: 1.2rem;
        z-index: 100;
        transition: all 0.2s;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .theme-toggle:hover {
        transform: scale(1.1);
      }

      :root {
        --color-bg-deep: #0a0a0f;
        --color-bg-surface: #12121a;
        --color-bg-card: #1a1a24;
        --bg-input: #0e0e14;
        --color-text-primary: #e8e8ed;
        --color-text-secondary: #8888a0;
        --color-text-muted: #55556a;
        --border-subtle: #2a2a3a;
        --color-accent-cyan: #00f5d4;
        --accent-green: #10b981;
        --glow-cyan: rgb(0, 245, 212, 0.15);
        --radius-sm: 4px;
        --radius-md: 8px;
        --radius-lg: 12px;
      }
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      body {
        font-family: var(--font-sans);
        background: var(--color-bg-deep);
        color: var(--color-text-primary);
        min-height: 100vh;
        line-height: 1.6;
      }
      .bg-grid {
        position: fixed;
        inset: 0;
        background-image:
          linear-gradient(rgb(0, 245, 212, 0.02) 1px, transparent 1px),
          linear-gradient(90deg, rgb(0, 245, 212, 0.02) 1px, transparent 1px);
        background-size: 40px 40px;
        pointer-events: none;
        z-index: 0;
      }
      .container {
        position: relative;
        z-index: 1;
        max-width: 800px;
        margin: 0 auto;
        padding: 24px;
      }
      .header {
        display: flex;
        align-items: center;
        gap: 20px;
        margin-bottom: 24px;
        flex-wrap: wrap;
      }
      .back-link {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        font-family: var(--font-mono);
        font-size: 0.85rem;
        color: var(--color-text-secondary);
        text-decoration: none;
        padding: 8px 14px;
        background: var(--color-bg-surface);
        border: 1px solid var(--border-subtle);
        border-radius: var(--radius-sm);
      }
      .back-link:hover {
        border-color: var(--color-accent-cyan);
        color: var(--color-accent-cyan);
      }
      .title-section {
        flex: 1;
      }
      .title-section h1 {
        font-family: var(--font-mono);
        font-size: 1.5rem;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 12px;
      }
      .title-icon {
        width: 36px;
        height: 36px;
        background: linear-gradient(135deg, var(--color-accent-cyan), #4cc9f0);
        border-radius: var(--radius-sm);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
        color: var(--color-bg-deep);
        font-weight: bold;
      }
      .title-section .desc {
        font-size: 0.9rem;
        color: var(--color-text-secondary);
        margin-top: 4px;
      }
      .main-card {
        background: var(--color-bg-card);
        border: 1px solid var(--border-subtle);
        border-radius: var(--radius-lg);
        padding: 24px;
      }
      .toolbar {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        margin-bottom: 20px;
        padding-bottom: 20px;
        border-bottom: 1px solid var(--border-subtle);
      }
      button {
        font-family: var(--font-mono);
        font-size: 0.8rem;
        font-weight: 500;
        padding: 10px 16px;
        background: var(--color-bg-surface);
        border: 1px solid var(--border-subtle);
        border-radius: var(--radius-sm);
        color: var(--color-text-secondary);
        cursor: pointer;
        transition: all 0.2s ease;
      }
      button:hover {
        border-color: var(--color-accent-cyan);
        color: var(--color-accent-cyan);
      }
      button.primary {
        background: var(--color-accent-cyan);
        color: var(--color-bg-deep);
        border: none;
      }
      button.primary:hover {
        background: #00dfc4;
        box-shadow: 0 0 20px var(--glow-cyan);
      }
      .input-group {
        margin-bottom: 20px;
      }
      .input-label {
        font-family: var(--font-mono);
        font-size: 0.8rem;
        color: var(--text-muted);
        margin-bottom: 8px;
        display: block;
      }
      input[type="text"],
      textarea {
        width: 100%;
        padding: 14px 16px;
        font-family: var(--font-mono);
        font-size: 0.95rem;
        background: var(--bg-input);
        border: 2px solid var(--border-subtle);
        border-radius: var(--radius-md);
        color: var(--color-text-primary);
      }
      input:focus,
      textarea:focus {
        outline: none;
        border-color: var(--color-accent-cyan);
        box-shadow: 0 0 0 4px var(--glow-cyan);
      }
      input::placeholder,
      textarea::placeholder {
        color: var(--text-muted);
      }
      .output-box {
        background: var(--color-bg-surface);
        border: 2px solid var(--border-subtle);
        border-radius: var(--radius-md);
        padding: 16px;
        margin-top: 20px;
      }
      .output-label {
        font-family: var(--font-mono);
        font-size: 0.75rem;
        color: var(--text-muted);
        text-transform: uppercase;
        letter-spacing: 0.1em;
        margin-bottom: 8px;
      }
      .output-value {
        font-family: var(--font-mono);
        font-size: 1.1rem;
        color: var(--color-accent-cyan);
        word-break: break-all;
        min-height: 24px;
      }
      .options {
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
        margin-bottom: 20px;
      }
      .options label {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 0.85rem;
        color: var(--color-text-secondary);
        cursor: pointer;
      }
      .options select {
        font-family: var(--font-mono);
        font-size: 0.85rem;
        padding: 6px 10px;
        background: var(--color-bg-surface);
        border: 1px solid var(--border-subtle);
        border-radius: var(--radius-sm);
        color: var(--color-text-primary);
        cursor: pointer;
      }
      .options input[type="checkbox"] {
        width: 16px;
        height: 16px;
        accent-color: var(--color-accent-cyan);
        cursor: pointer;
      }
      .char-count {
        font-family: var(--font-mono);
        font-size: 0.8rem;
        color: var(--text-muted);
        margin-top: 8px;
      }
      .status {
        font-family: var(--font-mono);
        font-size: 0.85rem;
        color: var(--accent-green);
        margin-top: 12px;
      }
      footer {
        text-align: center;
        margin-top: 24px;
        padding-top: 16px;
        border-top: 1px solid var(--border-subtle);
      }
      footer p {
        font-family: var(--font-mono);
        font-size: 0.8rem;
        color: var(--text-muted);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
      }
      footer a {
        color: var(--color-accent-cyan);
        text-decoration: none;
      }

      .breadcrumb {
        background: rgba(255, 255, 255, 0.95);
        padding: 8px 15px;
        border-radius: 20px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        font-size: 0.85rem;
      }
      .breadcrumb a {
        color: #667eea;
        text-decoration: none;
      }
      .breadcrumb a:hover {
        text-decoration: underline;
      }
      .breadcrumb span {
        color: #999;
        margin: 0 5px;
      }
    </style>
  </head>
  <body>
    <button class="theme-toggle" onclick="toggleTheme()" aria-label="ÂàáÊç¢‰∏ªÈ¢ò">
      <span id="theme-icon">üåô</span>
    </button>

    <nav class="breadcrumb">
      <a href="../../index.html">È¶ñÈ°µ</a>
      <span>‚Ä∫</span>
      Slug ÁîüÊàêÂô®
    </nav>
    <div class="bg-grid"></div>
    <div class="container">
      <div class="header">
        <a href="../../index.html" class="back-link">‚Üê ËøîÂõû</a>
        <div class="title-section">
          <h1>
            <span class="title-icon">/</span>
            Slug ÁîüÊàêÂô®
          </h1>
          <p class="desc">Â∞ÜÊñáÂ≠óËΩ¨‰∏∫ URL ÂèãÂ•ΩÁöÑ slug Ê†ºÂºè</p>
        </div>
      </div>

      <div class="main-card">
        <div class="toolbar">
          <button id="btnPaste">Á≤òË¥¥</button>
          <button id="btnCopy" class="primary">Â§çÂà∂ Slug</button>
          <button id="btnClear">Ê∏ÖÁ©∫</button>
        </div>

        <div class="options">
          <label>
            ÂàÜÈöîÁ¨¶:
            <select id="separator">
              <option value="-">ËøûÂ≠óÁ¨¶ (-)</option>
              <option value="_">‰∏ãÂàíÁ∫ø (_)</option>
              <option value=".">ÁÇπÂè∑ (.)</option>
            </select>
          </label>
          <label>
            <input type="checkbox" id="lowercase" checked />
            ËΩ¨‰∏∫Â∞èÂÜô
          </label>
          <label>
            <input type="checkbox" id="transliterate" checked />
            ‰∏≠ÊñáËΩ¨ÊãºÈü≥
          </label>
          <label>
            ÊúÄÂ§ßÈïøÂ∫¶:
            <select id="maxLength">
              <option value="0">‰∏çÈôêÂà∂</option>
              <option value="50">50</option>
              <option value="80" selected>80</option>
              <option value="100">100</option>
              <option value="200">200</option>
            </select>
          </label>
        </div>

        <div class="input-group">
          <label class="input-label">ËæìÂÖ•ÊñáÊú¨</label>
          <textarea
            id="input"
            rows="3"
            placeholder="ËæìÂÖ•Ë¶ÅËΩ¨Êç¢ÁöÑÊñáÊú¨ÔºåÂ¶Ç: Hello World ‰Ω†Â•Ω‰∏ñÁïå"
            spellcheck="false"
          ></textarea>
        </div>

        <div class="output-box">
          <div class="output-label">ÁîüÊàêÁöÑ Slug</div>
          <div class="output-value" id="output"></div>
          <div class="char-count" id="charCount"></div>
        </div>

        <div id="status" class="status"></div>
      </div>

      <footer>
        <p>
          <a href="https://github.com/chicogong/html-tools" target="_blank">GitHub</a>
          <span>¬∑</span>
          <span>Á∫ØÂâçÁ´Ø ¬∑ Êó†ÊúçÂä°Âô®</span>
          <span>¬∑</span>
          <a href="../../index.html">WebUtils</a>
        </p>
      </footer>
    </div>

    <script>
      const inputEl = document.getElementById("input");
      const outputEl = document.getElementById("output");
      const charCountEl = document.getElementById("charCount");
      const statusEl = document.getElementById("status");
      const separatorEl = document.getElementById("separator");
      const lowercaseEl = document.getElementById("lowercase");
      const transliterateEl = document.getElementById("transliterate");
      const maxLengthEl = document.getElementById("maxLength");

      // Simple Chinese to Pinyin mapping (common characters)
      const pinyinMap = {
        ‰Ω†: "ni",
        Â•Ω: "hao",
        ‰∏ñ: "shi",
        Áïå: "jie",
        ‰∏≠: "zhong",
        ÂõΩ: "guo",
        Êàë: "wo",
        ÊòØ: "shi",
        ÁöÑ: "de",
        Âú®: "zai",
        Êúâ: "you",
        ‰∏ç: "bu",
        ‰∫Ü: "le",
        ‰∫∫: "ren",
        Ëøô: "zhe",
        ‰ªñ: "ta",
        Â•π: "ta",
        ÂÆÉ: "ta",
        ‰ª¨: "men",
        Êù•: "lai",
        Âéª: "qu",
        ‰πü: "ye",
        Â∞±: "jiu",
        ËØ¥: "shuo",
        Ë¶Å: "yao",
        ‰ºö: "hui",
        ÂèØ: "ke",
        ‰ª•: "yi",
        ËÉΩ: "neng",
        Âíå: "he",
        Â§ß: "da",
        Â∞è: "xiao",
        Â§ö: "duo",
        Â∞ë: "shao",
        ‰∏ä: "shang",
        ‰∏ã: "xia",
        Ââç: "qian",
        Âêé: "hou",
        Â∑¶: "zuo",
        Âè≥: "you",
        ‰∏ú: "dong",
        Ë•ø: "xi",
        Âçó: "nan",
        Âåó: "bei",
        Âπ¥: "nian",
        Êúà: "yue",
        Êó•: "ri",
        Êó∂: "shi",
        ÂàÜ: "fen",
        Áßí: "miao",
        ‰ªä: "jin",
        Â§©: "tian",
        Êòé: "ming",
        Êò®: "zuo",
        Êñ∞: "xin",
        Êóß: "jiu",
        ËÄÅ: "lao",
        Â∞ë: "shao",
        È´ò: "gao",
        ‰Ωé: "di",
        Èïø: "chang",
        Áü≠: "duan",
        Âø´: "kuai",
        ÊÖ¢: "man",
        Êó©: "zao",
        Êôö: "wan",
        ÂºÄ: "kai",
        ÂÖ≥: "guan",
        Âßã: "shi",
        Áªà: "zhong",
        Â§¥: "tou",
        Â∞æ: "wei",
        È¶ñ: "shou",
        Êú´: "mo",
        È°µ: "ye",
        ÁΩë: "wang",
        Á´ô: "zhan",
        Êñá: "wen",
        Á´†: "zhang",
        Â≠ó: "zi",
        ËØç: "ci",
        Âè•: "ju",
        ÊÆµ: "duan",
        ÁØá: "pian",
        ‰π¶: "shu",
        Êú¨: "ben",
        Âêç: "ming",
        Êï∞: "shu",
        ÊçÆ: "ju",
        Â∫ì: "ku",
        Ë°®: "biao",
        Âçï: "dan",
        Âàó: "lie",
        Ë°å: "hang",
        Âàó: "lie",
        Ê†º: "ge",
        ‰∏Ä: "yi",
        ‰∫å: "er",
        ‰∏â: "san",
        Âõõ: "si",
        ‰∫î: "wu",
        ÂÖ≠: "liu",
        ‰∏É: "qi",
        ÂÖ´: "ba",
        ‰πù: "jiu",
        ÂçÅ: "shi",
        Áôæ: "bai",
        ÂçÉ: "qian",
        ‰∏á: "wan",
        ‰∫ø: "yi",
        Èõ∂: "ling",
        Á¨¨: "di",
        Á≠â: "deng",
        Á∫ß: "ji",
        Áî®: "yong",
        Êà∑: "hu",
        Á≥ª: "xi",
        Áªü: "tong",
        Â∑•: "gong",
        ÂÖ∑: "ju",
        Á®ã: "cheng",
        Â∫è: "xu",
        ‰ª£: "dai",
        Á†Å: "ma",
        Áºñ: "bian",
        ÂÜô: "xie",
        Êµã: "ce",
        ËØï: "shi",
        Ëøê: "yun",
        Ë°å: "xing",
        ÈÉ®: "bu",
        ÁΩ≤: "shu",
        Âèë: "fa",
        Â∏É: "bu",
        Êõ¥: "geng",
        Êîπ: "gai",
        Âà†: "shan",
        Èô§: "chu",
        Ê∑ª: "tian",
        Âä†: "jia",
        Âàõ: "chuang",
        Âª∫: "jian",
        ‰øÆ: "xiu",
        Â§ç: "fu",
        Êü•: "cha",
        Êâæ: "zhao",
        Êêú: "sou",
        Á¥¢: "suo",
        Áªì: "jie",
        Êûú: "guo",
        Êàê: "cheng",
        Âäü: "gong",
        Â§±: "shi",
        Ë¥•: "bai",
        Èîô: "cuo",
        ËØØ: "wu",
        Ê≠£: "zheng",
        Á°Æ: "que",
        ÂØπ: "dui",
        Èîô: "cuo",
        Áúü: "zhen",
        ÂÅá: "jia",
        ÁÆÄ: "jian",
        ÁπÅ: "fan",
        Èöæ: "nan",
        Êòì: "yi",
        Èùô: "jing",
        Âä®: "dong",
        ÂÆâ: "an",
        ÂÖ®: "quan",
        Âç±: "wei",
        Èô©: "xian",
        ‰øù: "bao",
        Êä§: "hu",
        ÈÖç: "pei",
        ÁΩÆ: "zhi",
        ËÆæ: "she",
        ÂÆö: "ding",
        ÈÄâ: "xuan",
        Êã©: "ze",
        È°π: "xiang",
        ÁõÆ: "mu",
        Ê†á: "biao",
        È¢ò: "ti",
        ÂÜÖ: "nei",
        ÂÆπ: "rong",
        Êèè: "miao",
        Ëø∞: "shu",
        ËØ¥: "shuo",
        Êòé: "ming",
        Ê≥®: "zhu",
        Èáä: "shi",
        Â§á: "bei",
        Ê°à: "an",
        ‰æã: "li",
        Â≠ê: "zi",
        Ê†∑: "yang",
        Âºè: "shi",
        Ê®°: "mo",
        Êùø: "ban",
        Âûã: "xing",
        ÊÄÅ: "tai",
        Áä∂: "zhuang",
        ÂÜµ: "kuang",
        ÊÉÖ: "qing",
        ÂΩ¢: "xing",
        Ëâ≤: "se",
        Á∫¢: "hong",
        Áªø: "lv",
        Ëìù: "lan",
        ÈªÑ: "huang",
        ÁôΩ: "bai",
        Èªë: "hei",
        ÁÅ∞: "hui",
        Á¥´: "zi",
        Ê©ô: "cheng",
        Á≤â: "fen",
        Ê£ï: "zong",
        Èùí: "qing",
        Ê∑±: "shen",
        ÊµÖ: "qian",
        ‰∫Æ: "liang",
        Êöó: "an",
        Âõæ: "tu",
        Áâá: "pian",
        ÂÉè: "xiang",
        ËßÜ: "shi",
        È¢ë: "pin",
        Èü≥: "yin",
        ‰πê: "yue",
        Â£∞: "sheng",
        Áîª: "hua",
        Èù¢: "mian",
        Â±è: "ping",
        Âπï: "mu",
        Á™ó: "chuang",
        Âè£: "kou",
        Ê†è: "lan",
        Êù°: "tiao",
        Ê°Ü: "kuang",
        Êåâ: "an",
        ÈíÆ: "niu",
        ÈîÆ: "jian",
        Áõò: "pan",
        Èº†: "shu",
        Ê†á: "biao",
        ÁÇπ: "dian",
        Âáª: "ji",
        Âèå: "shuang",
        Êãñ: "tuo",
        ÊãΩ: "zhuai",
        Êîæ: "fang",
        Áº©: "suo",
        Êîæ: "fang",
        Êóã: "xuan",
        ËΩ¨: "zhuan",
        Êªö: "gun",
        Âä®: "dong",
        ÂØº: "dao",
        Ëà™: "hang",
        Ëèú: "cai",
        Âçï: "dan",
        Èìæ: "lian",
        Êé•: "jie",
        Ë∑≥: "tiao",
        ËΩ¨: "zhuan",
        Ëøî: "fan",
        Âõû: "hui",
        Âà∑: "shua",
        ËΩΩ: "zai",
        ÂÖ•: "ru",
        Âá∫: "chu",
        Áôª: "deng",
        ÂΩï: "lu",
        ÈÄÄ: "tui",
        Ê≥®: "zhu",
        ÂÜå: "ce",
        Âøò: "wang",
        ËÆ∞: "ji",
        ÂØÜ: "mi",
        Ë¥¶: "zhang",
        Âè∑: "hao",
        ÊùÉ: "quan",
        Èôê: "xian",
        ÁÆ°: "guan",
        ÁêÜ: "li",
        Âëò: "yuan",
        ÂÆ¢: "ke",
        Êúç: "fu",
        Âä°: "wu",
        ÊîØ: "zhi",
        ÊåÅ: "chi",
        Â∏Æ: "bang",
        Âä©: "zhu"
      };

      function toPinyin(str) {
        return str
          .split("")
          .map(function (char) {
            return pinyinMap[char] || char;
          })
          .join("");
      }

      function generateSlug(text) {
        const separator = separatorEl.value;
        const lowercase = lowercaseEl.checked;
        const transliterate = transliterateEl.checked;
        const maxLength = parseInt(maxLengthEl.value);

        var slug = text;

        // Transliterate Chinese to Pinyin
        if (transliterate) {
          slug = toPinyin(slug);
        }

        // Convert to lowercase
        if (lowercase) {
          slug = slug.toLowerCase();
        }

        // Replace spaces and special chars with separator
        slug = slug
          .normalize("NFD")
          .replace(/[\u0300-\u036f]/g, "") // Remove diacritics
          .replace(/[^\w\s\u4e00-\u9fff-]/g, "") // Keep alphanumeric, spaces, Chinese, hyphens
          .replace(/[\s_-]+/g, separator) // Replace spaces/underscores with separator
          .replace(new RegExp("^" + separator.replace(/[.*+?^${}()|[\]\\]/g, "\\$&") + "+"), "") // Trim start
          .replace(new RegExp(separator.replace(/[.*+?^${}()|[\]\\]/g, "\\$&") + "+$"), ""); // Trim end

        // Truncate if needed
        if (maxLength > 0 && slug.length > maxLength) {
          slug = slug.substring(0, maxLength);
          // Remove trailing separator
          slug = slug.replace(
            new RegExp(separator.replace(/[.*+?^${}()|[\]\\]/g, "\\$&") + "+$"),
            ""
          );
        }

        return slug;
      }

      function update() {
        const text = inputEl.value;
        const slug = generateSlug(text);
        outputEl.textContent = slug || "-";
        charCountEl.textContent = slug ? slug.length + " Â≠óÁ¨¶" : "";
      }

      inputEl.addEventListener("input", update);
      separatorEl.addEventListener("change", update);
      lowercaseEl.addEventListener("change", update);
      transliterateEl.addEventListener("change", update);
      maxLengthEl.addEventListener("change", update);

      document.getElementById("btnPaste").onclick = async function () {
        try {
          inputEl.value = await navigator.clipboard.readText();
          update();
        } catch (e) {}
      };

      document.getElementById("btnCopy").onclick = async function () {
        const slug = outputEl.textContent;
        if (!slug || slug === "-") return;
        try {
          await navigator.clipboard.writeText(slug);
          statusEl.textContent = "Â∑≤Â§çÂà∂!";
          setTimeout(function () {
            statusEl.textContent = "";
          }, 2000);
        } catch (e) {}
      };

      document.getElementById("btnClear").onclick = function () {
        inputEl.value = "";
        outputEl.textContent = "-";
        charCountEl.textContent = "";
        statusEl.textContent = "";
      };

      // Example
      inputEl.value = "Hello World ‰Ω†Â•Ω‰∏ñÁïå";
      update();

      // Theme toggle
      function toggleTheme() {
        const html = document.documentElement;
        const currentTheme = html.getAttribute("data-theme");
        const newTheme = currentTheme === "light" ? "dark" : "light";
        html.setAttribute("data-theme", newTheme);
        document.getElementById("theme-icon").textContent = newTheme === "light" ? "‚òÄÔ∏è" : "üåô";
        localStorage.setItem("theme", newTheme);
      }

      // Load saved theme
      const savedTheme = localStorage.getItem("theme") || "dark";
      if (savedTheme === "light") {
        document.documentElement.setAttribute("data-theme", "light");
        document.getElementById("theme-icon").textContent = "‚òÄÔ∏è";
      }
    </script>
  </body>
</html>
