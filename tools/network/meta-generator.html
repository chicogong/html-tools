<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meta æ ‡ç­¾ç”Ÿæˆå™¨</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">
    <style>
        :root {
            --primary-color: #1095c1;
        }
        body {
            min-height: 100vh;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
        }
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }
        .theme-toggle {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
        }
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }
        .output-area {
            background: var(--pico-code-background-color);
            padding: 1rem;
            border-radius: var(--pico-border-radius);
            font-family: monospace;
            white-space: pre-wrap;
            word-break: break-all;
            max-height: 500px;
            overflow-y: auto;
            font-size: 0.85rem;
        }
        .btn-group {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-bottom: 1rem;
        }
        .preview-card {
            background: var(--pico-card-background-color);
            border: 1px solid var(--pico-muted-border-color);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
        }
        .preview-card h4 {
            margin: 0 0 0.5rem;
            color: var(--pico-primary);
        }
        .google-preview {
            max-width: 600px;
        }
        .google-preview .title {
            color: #1a0dab;
            font-size: 1.1rem;
            margin-bottom: 0.25rem;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        .google-preview .url {
            color: #006621;
            font-size: 0.85rem;
            margin-bottom: 0.25rem;
        }
        .google-preview .desc {
            color: #545454;
            font-size: 0.9rem;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        .char-count {
            font-size: 0.8rem;
            color: var(--pico-muted-color);
            text-align: right;
        }
        .char-count.warning {
            color: var(--pico-del-color);
        }
        @media (max-width: 768px) {
            .grid-2 {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <main class="container">
        <a href="../../index.html" style="display:inline-block;margin-bottom:1rem;color:var(--pico-primary);text-decoration:none;">â† è¿”å›é¦–é¡µ</a>
        <header>
            <h1>ğŸ·ï¸ Meta æ ‡ç­¾ç”Ÿæˆå™¨</h1>
            <button class="theme-toggle" onclick="toggleTheme()" title="åˆ‡æ¢ä¸»é¢˜">ğŸŒ“</button>
        </header>

        <article>
            <h3>åŸºæœ¬ SEO ä¿¡æ¯</h3>
            <label>
                é¡µé¢æ ‡é¢˜ <span class="char-count" id="titleCount">0/60</span>
                <input type="text" id="title" placeholder="ç½‘ç«™æ ‡é¢˜ - å“ç‰Œå" oninput="updatePreview()">
            </label>
            <label>
                é¡µé¢æè¿° <span class="char-count" id="descCount">0/160</span>
                <textarea id="description" rows="3" placeholder="ç®€æ´æè¿°é¡µé¢å†…å®¹ï¼ŒåŒ…å«å…³é”®è¯..." oninput="updatePreview()"></textarea>
            </label>
            <label>
                å…³é”®è¯ï¼ˆç”¨é€—å·åˆ†éš”ï¼‰
                <input type="text" id="keywords" placeholder="å…³é”®è¯1, å…³é”®è¯2, å…³é”®è¯3" oninput="updatePreview()">
            </label>
            <div class="grid-2">
                <label>
                    ä½œè€…
                    <input type="text" id="author" placeholder="ä½œè€…åç§°" oninput="updatePreview()">
                </label>
                <label>
                    è§„èŒƒé“¾æ¥
                    <input type="url" id="canonical" placeholder="https://example.com/page" oninput="updatePreview()">
                </label>
            </div>
        </article>

        <article>
            <h3>Open Graph (ç¤¾äº¤åª’ä½“)</h3>
            <div class="grid-2">
                <label>
                    OG æ ‡é¢˜
                    <input type="text" id="ogTitle" placeholder="ç¤¾äº¤åˆ†äº«æ ‡é¢˜" oninput="updatePreview()">
                </label>
                <label>
                    OG ç±»å‹
                    <select id="ogType" onchange="updatePreview()">
                        <option value="website">website</option>
                        <option value="article">article</option>
                        <option value="product">product</option>
                        <option value="video">video</option>
                        <option value="music">music</option>
                        <option value="book">book</option>
                    </select>
                </label>
            </div>
            <label>
                OG æè¿°
                <textarea id="ogDescription" rows="2" placeholder="ç¤¾äº¤åˆ†äº«æè¿°" oninput="updatePreview()"></textarea>
            </label>
            <div class="grid-2">
                <label>
                    OG å›¾ç‰‡ URL
                    <input type="url" id="ogImage" placeholder="https://example.com/image.jpg" oninput="updatePreview()">
                </label>
                <label>
                    OG URL
                    <input type="url" id="ogUrl" placeholder="https://example.com/page" oninput="updatePreview()">
                </label>
            </div>
            <label>
                ç«™ç‚¹åç§°
                <input type="text" id="ogSiteName" placeholder="ç½‘ç«™åç§°" oninput="updatePreview()">
            </label>
        </article>

        <article>
            <h3>Twitter å¡ç‰‡</h3>
            <div class="grid-2">
                <label>
                    å¡ç‰‡ç±»å‹
                    <select id="twitterCard" onchange="updatePreview()">
                        <option value="summary">summary</option>
                        <option value="summary_large_image">summary_large_image</option>
                        <option value="app">app</option>
                        <option value="player">player</option>
                    </select>
                </label>
                <label>
                    Twitter @ç”¨æˆ·å
                    <input type="text" id="twitterSite" placeholder="@username" oninput="updatePreview()">
                </label>
            </div>
        </article>

        <article>
            <h3>æœºå™¨äººæŒ‡ä»¤</h3>
            <div class="grid-2">
                <label>
                    <input type="checkbox" id="robotsIndex" checked onchange="updatePreview()">
                    å…è®¸ç´¢å¼• (index)
                </label>
                <label>
                    <input type="checkbox" id="robotsFollow" checked onchange="updatePreview()">
                    å…è®¸è·Ÿè¸ªé“¾æ¥ (follow)
                </label>
                <label>
                    <input type="checkbox" id="robotsArchive" checked onchange="updatePreview()">
                    å…è®¸å­˜æ¡£
                </label>
                <label>
                    <input type="checkbox" id="robotsSnippet" checked onchange="updatePreview()">
                    å…è®¸æ‘˜è¦
                </label>
            </div>
        </article>

        <article>
            <h3>å…¶ä»–è®¾ç½®</h3>
            <div class="grid-2">
                <label>
                    è¯­è¨€
                    <select id="language" onchange="updatePreview()">
                        <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
                        <option value="zh-TW">ç¹ä½“ä¸­æ–‡</option>
                        <option value="en">English</option>
                        <option value="ja">æ—¥æœ¬èª</option>
                        <option value="ko">í•œêµ­ì–´</option>
                    </select>
                </label>
                <label>
                    è§†å£è®¾ç½®
                    <select id="viewport" onchange="updatePreview()">
                        <option value="width=device-width, initial-scale=1.0">å“åº”å¼ï¼ˆæ¨èï¼‰</option>
                        <option value="width=device-width, initial-scale=1.0, maximum-scale=1.0">ç¦æ­¢ç¼©æ”¾</option>
                        <option value="width=1024">å›ºå®šå®½åº¦ 1024</option>
                    </select>
                </label>
            </div>
            <label>
                ä¸»é¢˜è‰²
                <input type="color" id="themeColor" value="#1095c1" onchange="updatePreview()">
            </label>
        </article>

        <article>
            <h3>æœç´¢ç»“æœé¢„è§ˆ</h3>
            <div class="preview-card google-preview">
                <h4>Google æœç´¢é¢„è§ˆ</h4>
                <div class="title" id="previewTitle">é¡µé¢æ ‡é¢˜</div>
                <div class="url" id="previewUrl">https://example.com</div>
                <div class="desc" id="previewDesc">é¡µé¢æè¿°å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...</div>
            </div>
        </article>

        <div class="btn-group">
            <button onclick="generateMeta()">ç”Ÿæˆ Meta æ ‡ç­¾</button>
            <button class="outline" onclick="copyMeta()">å¤åˆ¶åˆ°å‰ªè´´æ¿</button>
            <button class="secondary" onclick="clearAll()">æ¸…ç©º</button>
        </div>

        <article>
            <h3>ç”Ÿæˆç»“æœ</h3>
            <div id="output" class="output-area">ç”Ÿæˆçš„ Meta æ ‡ç­¾å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...</div>
        </article>
    </main>

    <script>
        function toggleTheme() {
            const html = document.documentElement;
            const currentTheme = html.getAttribute('data-theme');
            html.setAttribute('data-theme', currentTheme === 'light' ? 'dark' : 'light');
        }

        function updatePreview() {
            const title = document.getElementById('title').value;
            const desc = document.getElementById('description').value;
            const canonical = document.getElementById('canonical').value;

            // Update char counts
            const titleCount = document.getElementById('titleCount');
            titleCount.textContent = `${title.length}/60`;
            titleCount.className = title.length > 60 ? 'char-count warning' : 'char-count';

            const descCount = document.getElementById('descCount');
            descCount.textContent = `${desc.length}/160`;
            descCount.className = desc.length > 160 ? 'char-count warning' : 'char-count';

            // Update preview
            document.getElementById('previewTitle').textContent = title || 'é¡µé¢æ ‡é¢˜';
            document.getElementById('previewUrl').textContent = canonical || 'https://example.com';
            document.getElementById('previewDesc').textContent = desc || 'é¡µé¢æè¿°å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...';
        }

        function generateMeta() {
            let meta = [];

            // Basic meta tags
            meta.push('<meta charset="UTF-8">');
            meta.push(`<meta name="viewport" content="${document.getElementById('viewport').value}">`);

            const title = document.getElementById('title').value;
            if (title) {
                meta.push(`<title>${escapeHtml(title)}</title>`);
            }

            const description = document.getElementById('description').value;
            if (description) {
                meta.push(`<meta name="description" content="${escapeHtml(description)}">`);
            }

            const keywords = document.getElementById('keywords').value;
            if (keywords) {
                meta.push(`<meta name="keywords" content="${escapeHtml(keywords)}">`);
            }

            const author = document.getElementById('author').value;
            if (author) {
                meta.push(`<meta name="author" content="${escapeHtml(author)}">`);
            }

            // Robots
            const robots = [];
            robots.push(document.getElementById('robotsIndex').checked ? 'index' : 'noindex');
            robots.push(document.getElementById('robotsFollow').checked ? 'follow' : 'nofollow');
            if (!document.getElementById('robotsArchive').checked) robots.push('noarchive');
            if (!document.getElementById('robotsSnippet').checked) robots.push('nosnippet');
            meta.push(`<meta name="robots" content="${robots.join(', ')}">`);

            // Language
            const language = document.getElementById('language').value;
            meta.push(`<meta http-equiv="content-language" content="${language}">`);

            // Theme color
            const themeColor = document.getElementById('themeColor').value;
            meta.push(`<meta name="theme-color" content="${themeColor}">`);

            // Canonical
            const canonical = document.getElementById('canonical').value;
            if (canonical) {
                meta.push(`<link rel="canonical" href="${escapeHtml(canonical)}">`);
            }

            // Open Graph
            meta.push('');
            meta.push('<!-- Open Graph / Facebook -->');
            meta.push(`<meta property="og:type" content="${document.getElementById('ogType').value}">`);
            
            const ogTitle = document.getElementById('ogTitle').value || title;
            if (ogTitle) {
                meta.push(`<meta property="og:title" content="${escapeHtml(ogTitle)}">`);
            }

            const ogDescription = document.getElementById('ogDescription').value || description;
            if (ogDescription) {
                meta.push(`<meta property="og:description" content="${escapeHtml(ogDescription)}">`);
            }

            const ogImage = document.getElementById('ogImage').value;
            if (ogImage) {
                meta.push(`<meta property="og:image" content="${escapeHtml(ogImage)}">`);
            }

            const ogUrl = document.getElementById('ogUrl').value || canonical;
            if (ogUrl) {
                meta.push(`<meta property="og:url" content="${escapeHtml(ogUrl)}">`);
            }

            const ogSiteName = document.getElementById('ogSiteName').value;
            if (ogSiteName) {
                meta.push(`<meta property="og:site_name" content="${escapeHtml(ogSiteName)}">`);
            }

            meta.push(`<meta property="og:locale" content="${language.replace('-', '_')}">`);

            // Twitter
            meta.push('');
            meta.push('<!-- Twitter -->');
            meta.push(`<meta name="twitter:card" content="${document.getElementById('twitterCard').value}">`);
            
            if (ogTitle) {
                meta.push(`<meta name="twitter:title" content="${escapeHtml(ogTitle)}">`);
            }
            if (ogDescription) {
                meta.push(`<meta name="twitter:description" content="${escapeHtml(ogDescription)}">`);
            }
            if (ogImage) {
                meta.push(`<meta name="twitter:image" content="${escapeHtml(ogImage)}">`);
            }

            const twitterSite = document.getElementById('twitterSite').value;
            if (twitterSite) {
                meta.push(`<meta name="twitter:site" content="${escapeHtml(twitterSite)}">`);
            }

            document.getElementById('output').textContent = meta.join('\n');
        }

        function escapeHtml(str) {
            return str.replace(/&/g, '&amp;')
                      .replace(/</g, '&lt;')
                      .replace(/>/g, '&gt;')
                      .replace(/"/g, '&quot;')
                      .replace(/'/g, '&#39;');
        }

        function copyMeta() {
            const output = document.getElementById('output').textContent;
            navigator.clipboard.writeText(output).then(() => {
                alert('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
            });
        }

        function clearAll() {
            if (confirm('ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰å†…å®¹å—ï¼Ÿ')) {
                document.querySelectorAll('input[type="text"], input[type="url"], textarea').forEach(el => el.value = '');
                document.querySelectorAll('input[type="checkbox"]').forEach(el => el.checked = true);
                document.getElementById('output').textContent = 'ç”Ÿæˆçš„ Meta æ ‡ç­¾å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...';
                updatePreview();
            }
        }

        // Initialize
        updatePreview();
    </script>
</body>
</html>
