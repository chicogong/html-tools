<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>百分比计算器 - WebUtils</title>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&family=Space+Grotesk:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    :root{--bg-deep:#0a0a0f;--bg-surface:#12121a;--bg-card:#1a1a24;--bg-hover:#22222e;--text-primary:#e8e8ed;--text-secondary:#9898a4;--text-muted:#5c5c66;--accent-blue:#4d9fff;--accent-cyan:#00f5d4;--border-subtle:#2a2a36;--border-active:#4d9fff;--shadow-glow:0 0 20px rgba(77,159,255,.15);--radius-sm:6px;--radius-md:10px;--radius-lg:14px}*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}body{font-family:'Space Grotesk',system-ui,sans-serif;background:var(--bg-deep);color:var(--text-primary);min-height:100vh;line-height:1.6;overflow-x:hidden}.bg-grid{position:fixed;inset:0;background-image:linear-gradient(rgba(77,159,255,.03) 1px,transparent 1px),linear-gradient(90deg,rgba(77,159,255,.03) 1px,transparent 1px);background-size:50px 50px;pointer-events:none;z-index:0}.container{position:relative;z-index:1;max-width:800px;margin:0 auto;padding:2rem 1.5rem}.back-link{display:inline-flex;align-items:center;gap:.5rem;color:var(--text-secondary);text-decoration:none;font-size:.9rem;margin-bottom:2rem;padding:.5rem .75rem;border-radius:var(--radius-sm);transition:all .2s}.back-link:hover{color:var(--accent-cyan);background:var(--bg-card)}h1{font-size:2rem;font-weight:600;margin-bottom:.5rem;background:linear-gradient(135deg,var(--text-primary),var(--accent-blue));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.subtitle{color:var(--text-secondary);margin-bottom:2rem;font-size:1rem}.card{background:var(--bg-card);border:1px solid var(--border-subtle);border-radius:var(--radius-lg);padding:1.5rem;margin-bottom:1.5rem}.card-title{font-size:1rem;font-weight:500;color:var(--text-secondary);margin-bottom:1rem}.calc-row{display:flex;align-items:center;gap:1rem;margin-bottom:1rem;flex-wrap:wrap}.calc-row input{flex:1;min-width:100px;padding:.75rem 1rem;border:1px solid var(--border-subtle);border-radius:var(--radius-sm);background:var(--bg-surface);color:var(--text-primary);font-family:'JetBrains Mono',monospace;font-size:1rem}.calc-row input:focus{outline:none;border-color:var(--accent-blue);box-shadow:var(--shadow-glow)}.calc-row span{color:var(--text-secondary);font-size:.9rem}.result{background:var(--bg-surface);border:1px solid var(--border-subtle);border-radius:var(--radius-sm);padding:1rem;font-family:'JetBrains Mono',monospace;font-size:1.25rem;color:var(--accent-cyan);text-align:center;min-height:3rem;display:flex;align-items:center;justify-content:center}footer{margin-top:3rem;padding-top:1.5rem;border-top:1px solid var(--border-subtle);text-align:center;color:var(--text-muted);font-size:.85rem}footer a{color:var(--accent-blue);text-decoration:none}footer a:hover{text-decoration:underline}
  </style>
</head>
<body>
  <div class="bg-grid"></div>
  <div class="container">
    <a href="../../index.html" class="back-link">← 返回</a>
    <h1>百分比计算器</h1>
    <p class="subtitle">常用百分比计算</p>

    <div class="card">
      <div class="card-title">X 是 Y 的百分之几？</div>
      <div class="calc-row">
        <input type="number" id="calc1-x" placeholder="X">
        <span>是</span>
        <input type="number" id="calc1-y" placeholder="Y">
        <span>的</span>
      </div>
      <div class="result" id="result1">?%</div>
    </div>

    <div class="card">
      <div class="card-title">Y 的 X% 是多少？</div>
      <div class="calc-row">
        <input type="number" id="calc2-y" placeholder="Y">
        <span>的</span>
        <input type="number" id="calc2-x" placeholder="X">
        <span>% 是</span>
      </div>
      <div class="result" id="result2">?</div>
    </div>

    <div class="card">
      <div class="card-title">X 增加/减少 Y% 后是多少？</div>
      <div class="calc-row">
        <input type="number" id="calc3-x" placeholder="X">
        <select id="calc3-op" style="padding:.75rem;border:1px solid var(--border-subtle);border-radius:var(--radius-sm);background:var(--bg-surface);color:var(--text-primary)">
          <option value="add">增加</option>
          <option value="sub">减少</option>
        </select>
        <input type="number" id="calc3-y" placeholder="Y">
        <span>%</span>
      </div>
      <div class="result" id="result3">?</div>
    </div>

    <div class="card">
      <div class="card-title">从 X 到 Y 的变化百分比</div>
      <div class="calc-row">
        <input type="number" id="calc4-x" placeholder="原值 X">
        <span>→</span>
        <input type="number" id="calc4-y" placeholder="新值 Y">
      </div>
      <div class="result" id="result4">?%</div>
    </div>

    <footer>
      <a href="https://github.com/chicogong/html-tools" target="_blank">GitHub</a>
    </footer>
  </div>
  <script>
    // Calc 1: X is what % of Y
    document.getElementById('calc1-x').addEventListener('input', calc1);
    document.getElementById('calc1-y').addEventListener('input', calc1);
    function calc1() {
      const x = parseFloat(document.getElementById('calc1-x').value);
      const y = parseFloat(document.getElementById('calc1-y').value);
      const r = document.getElementById('result1');
      if (!isNaN(x) && !isNaN(y) && y !== 0) {
        r.textContent = ((x / y) * 100).toFixed(4).replace(/\.?0+$/, '') + '%';
      } else {
        r.textContent = '?%';
      }
    }

    // Calc 2: X% of Y
    document.getElementById('calc2-x').addEventListener('input', calc2);
    document.getElementById('calc2-y').addEventListener('input', calc2);
    function calc2() {
      const y = parseFloat(document.getElementById('calc2-y').value);
      const x = parseFloat(document.getElementById('calc2-x').value);
      const r = document.getElementById('result2');
      if (!isNaN(x) && !isNaN(y)) {
        r.textContent = ((y * x) / 100).toFixed(4).replace(/\.?0+$/, '');
      } else {
        r.textContent = '?';
      }
    }

    // Calc 3: X +/- Y%
    document.getElementById('calc3-x').addEventListener('input', calc3);
    document.getElementById('calc3-y').addEventListener('input', calc3);
    document.getElementById('calc3-op').addEventListener('change', calc3);
    function calc3() {
      const x = parseFloat(document.getElementById('calc3-x').value);
      const y = parseFloat(document.getElementById('calc3-y').value);
      const op = document.getElementById('calc3-op').value;
      const r = document.getElementById('result3');
      if (!isNaN(x) && !isNaN(y)) {
        const change = (x * y) / 100;
        const result = op === 'add' ? x + change : x - change;
        r.textContent = result.toFixed(4).replace(/\.?0+$/, '');
      } else {
        r.textContent = '?';
      }
    }

    // Calc 4: % change from X to Y
    document.getElementById('calc4-x').addEventListener('input', calc4);
    document.getElementById('calc4-y').addEventListener('input', calc4);
    function calc4() {
      const x = parseFloat(document.getElementById('calc4-x').value);
      const y = parseFloat(document.getElementById('calc4-y').value);
      const r = document.getElementById('result4');
      if (!isNaN(x) && !isNaN(y) && x !== 0) {
        const pct = ((y - x) / x) * 100;
        const sign = pct >= 0 ? '+' : '';
        r.textContent = sign + pct.toFixed(4).replace(/\.?0+$/, '') + '%';
      } else {
        r.textContent = '?%';
      }
    }
  </script>
</body>
</html>
