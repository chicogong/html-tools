<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>字数统计工具 | WebUtils</title>
  <meta name="description" content="在线字数统计工具，统计字符数、单词数、句子数、段落数，支持中英文混合统计">
  <meta name="keywords" content="字数统计,字符数,单词数,word counter,在线统计">
  <link rel="icon" href="../../favicon.svg" type="image/svg+xml">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }
    .container {
      max-width: 900px;
      margin: 0 auto;
    }
    .back-link {
      display: inline-flex;
      align-items: center;
      gap: 5px;
      color: white;
      text-decoration: none;
      margin-bottom: 20px;
      opacity: 0.9;
    }
    .back-link:hover { opacity: 1; }
    h1 {
      color: white;
      text-align: center;
      margin-bottom: 30px;
      font-size: 2rem;
    }
    .card {
      background: white;
      border-radius: 16px;
      padding: 30px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.15);
    }
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 15px;
      margin-bottom: 25px;
    }
    .stat-item {
      background: linear-gradient(135deg, #f5f7fa 0%, #e4e8ec 100%);
      border-radius: 12px;
      padding: 20px 15px;
      text-align: center;
    }
    .stat-value {
      font-size: 2rem;
      font-weight: 700;
      color: #667eea;
    }
    .stat-label {
      font-size: 0.85rem;
      color: #666;
      margin-top: 5px;
    }
    textarea {
      width: 100%;
      height: 300px;
      border: 2px solid #e1e5e9;
      border-radius: 12px;
      padding: 15px;
      font-size: 16px;
      resize: vertical;
      transition: border-color 0.3s;
      font-family: inherit;
    }
    textarea:focus {
      outline: none;
      border-color: #667eea;
    }
    .details {
      margin-top: 20px;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 12px;
    }
    .details h3 {
      font-size: 1rem;
      color: #333;
      margin-bottom: 15px;
    }
    .detail-row {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px solid #e9ecef;
    }
    .detail-row:last-child { border-bottom: none; }
    .detail-label { color: #666; }
    .detail-value { font-weight: 600; color: #333; }
    .btn-group {
      display: flex;
      gap: 10px;
      margin-top: 20px;
    }
    .btn {
      flex: 1;
      padding: 12px 20px;
      border: none;
      border-radius: 8px;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.3s;
    }
    .btn-primary {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }
    .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 5px 20px rgba(102,126,234,0.4); }
    .btn-secondary {
      background: #f1f3f4;
      color: #333;
    }
    .btn-secondary:hover { background: #e8eaeb; }
    .reading-time {
      text-align: center;
      margin-top: 15px;
      padding: 15px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 12px;
      color: white;
    }
    .reading-time strong { font-size: 1.2rem; }
  </style>
</head>
<body>
  <div class="container">
    <a href="../../index.html" class="back-link">← 返回工具列表</a>
    <h1>字数统计工具</h1>
    
    <div class="card">
      <div class="stats-grid">
        <div class="stat-item">
          <div class="stat-value" id="charCount">0</div>
          <div class="stat-label">字符数</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="charNoSpace">0</div>
          <div class="stat-label">不含空格</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="wordCount">0</div>
          <div class="stat-label">单词数</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="chineseCount">0</div>
          <div class="stat-label">中文字数</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="sentenceCount">0</div>
          <div class="stat-label">句子数</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="paragraphCount">0</div>
          <div class="stat-label">段落数</div>
        </div>
      </div>
      
      <textarea id="inputText" placeholder="在此输入或粘贴文本..."></textarea>
      
      <div class="btn-group">
        <button class="btn btn-secondary" onclick="clearText()">清空</button>
        <button class="btn btn-secondary" onclick="copyStats()">复制统计</button>
        <button class="btn btn-primary" onclick="loadSample()">加载示例</button>
      </div>
      
      <div class="reading-time">
        预计阅读时间：<strong id="readingTime">0 分钟</strong>
      </div>
      
      <div class="details">
        <h3>详细统计</h3>
        <div class="detail-row">
          <span class="detail-label">英文字母</span>
          <span class="detail-value" id="letterCount">0</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">数字</span>
          <span class="detail-value" id="numberCount">0</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">标点符号</span>
          <span class="detail-value" id="punctuationCount">0</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">空格</span>
          <span class="detail-value" id="spaceCount">0</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">换行符</span>
          <span class="detail-value" id="lineCount">0</span>
        </div>
      </div>
    </div>
  </div>

  <script>
    const inputText = document.getElementById('inputText');

    function countStats() {
      const text = inputText.value;
      
      // 基础统计
      const charCount = text.length;
      const charNoSpace = text.replace(/\s/g, '').length;
      
      // 中文字数
      const chineseMatches = text.match(/[\u4e00-\u9fa5]/g);
      const chineseCount = chineseMatches ? chineseMatches.length : 0;
      
      // 英文单词数
      const wordMatches = text.match(/[a-zA-Z]+/g);
      const wordCount = wordMatches ? wordMatches.length : 0;
      
      // 句子数 (以 .!? 。！？结尾)
      const sentenceMatches = text.match(/[.!?。！？]+/g);
      const sentenceCount = sentenceMatches ? sentenceMatches.length : 0;
      
      // 段落数
      const paragraphs = text.split(/\n\s*\n/).filter(p => p.trim().length > 0);
      const paragraphCount = text.trim() ? paragraphs.length : 0;
      
      // 详细统计
      const letterMatches = text.match(/[a-zA-Z]/g);
      const letterCount = letterMatches ? letterMatches.length : 0;
      
      const numberMatches = text.match(/[0-9]/g);
      const numberCount = numberMatches ? numberMatches.length : 0;
      
      const punctuationMatches = text.match(/[.,!?;:'"()\[\]{}，。！？；：""''（）【】「」]/g);
      const punctuationCount = punctuationMatches ? punctuationMatches.length : 0;
      
      const spaceMatches = text.match(/ /g);
      const spaceCount = spaceMatches ? spaceMatches.length : 0;
      
      const lineMatches = text.match(/\n/g);
      const lineCount = lineMatches ? lineMatches.length : 0;
      
      // 阅读时间 (中文 300字/分钟, 英文 200词/分钟)
      const readingMinutes = Math.ceil((chineseCount / 300) + (wordCount / 200));
      
      // 更新显示
      document.getElementById('charCount').textContent = charCount;
      document.getElementById('charNoSpace').textContent = charNoSpace;
      document.getElementById('wordCount').textContent = wordCount;
      document.getElementById('chineseCount').textContent = chineseCount;
      document.getElementById('sentenceCount').textContent = sentenceCount;
      document.getElementById('paragraphCount').textContent = paragraphCount;
      document.getElementById('letterCount').textContent = letterCount;
      document.getElementById('numberCount').textContent = numberCount;
      document.getElementById('punctuationCount').textContent = punctuationCount;
      document.getElementById('spaceCount').textContent = spaceCount;
      document.getElementById('lineCount').textContent = lineCount;
      document.getElementById('readingTime').textContent = readingMinutes + ' 分钟';
    }

    function clearText() {
      inputText.value = '';
      countStats();
    }

    function copyStats() {
      const stats = `字数统计结果：
字符数：${document.getElementById('charCount').textContent}
不含空格：${document.getElementById('charNoSpace').textContent}
单词数：${document.getElementById('wordCount').textContent}
中文字数：${document.getElementById('chineseCount').textContent}
句子数：${document.getElementById('sentenceCount').textContent}
段落数：${document.getElementById('paragraphCount').textContent}
预计阅读时间：${document.getElementById('readingTime').textContent}`;
      
      navigator.clipboard.writeText(stats).then(() => {
        alert('统计结果已复制到剪贴板');
      });
    }

    function loadSample() {
      inputText.value = `这是一段示例文本，用于演示字数统计工具的功能。

This is a sample paragraph in English. It demonstrates how the word counter handles mixed Chinese and English text.

工具会自动统计：
1. 总字符数（包含空格和换行）
2. 中文汉字数量
3. 英文单词数量
4. 句子和段落数

希望这个工具对您有所帮助！Have a nice day!`;
      countStats();
    }

    inputText.addEventListener('input', countStats);
    countStats();
  </script>
</body>
</html>
