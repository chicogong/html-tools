<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ²¹è€—è®¡ç®—å™¨</title>
    <style>
        :root {
            --bg-color: #f5f5f5;
            --card-bg: #fff;
            --text-color: #333;
            --border-color: #e0e0e0;
            --primary-color: #ff9800;
            --primary-hover: #f57c00;
            --shadow: 0 2px 12px rgba(0,0,0,0.1);
        }
        @media (prefers-color-scheme: dark) {
            :root {
                --bg-color: #1a1a1a;
                --card-bg: #2d2d2d;
                --text-color: #e0e0e0;
                --border-color: #444;
                --shadow: 0 2px 12px rgba(0,0,0,0.3);
            }
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: var(--bg-color);
            color: var(--text-color);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            margin-bottom: 8px;
            font-size: 24px;
        }
        .subtitle {
            text-align: center;
            color: #888;
            margin-bottom: 24px;
            font-size: 14px;
        }
        .card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 24px;
            box-shadow: var(--shadow);
            margin-bottom: 20px;
        }
        .tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 24px;
        }
        .tab {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            background: var(--bg-color);
            color: var(--text-color);
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .tab.active {
            background: var(--primary-color);
            color: white;
        }
        .tab:hover:not(.active) {
            background: var(--border-color);
        }
        .panel {
            display: none;
        }
        .panel.active {
            display: block;
        }
        .section-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            font-weight: 500;
        }
        .input-with-unit {
            display: flex;
            align-items: center;
        }
        .form-input {
            flex: 1;
            padding: 14px;
            border: 2px solid var(--border-color);
            border-radius: 8px 0 0 8px;
            background: var(--bg-color);
            color: var(--text-color);
            font-size: 16px;
            transition: border-color 0.3s;
        }
        .form-input:focus {
            outline: none;
            border-color: var(--primary-color);
        }
        .input-unit {
            padding: 14px 16px;
            background: var(--border-color);
            border: 2px solid var(--border-color);
            border-left: none;
            border-radius: 0 8px 8px 0;
            font-size: 14px;
            color: #666;
        }
        .form-select {
            width: 100%;
            padding: 14px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            background: var(--bg-color);
            color: var(--text-color);
            font-size: 16px;
        }
        .btn {
            width: 100%;
            padding: 16px;
            border: none;
            border-radius: 8px;
            background: var(--primary-color);
            color: white;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s;
        }
        .btn:hover {
            background: var(--primary-hover);
        }
        .result-card {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-hover));
            border-radius: 16px;
            padding: 32px;
            color: white;
            text-align: center;
        }
        .result-main {
            font-size: 56px;
            font-weight: 700;
        }
        .result-unit {
            font-size: 18px;
            opacity: 0.9;
        }
        .result-label {
            font-size: 14px;
            opacity: 0.8;
            margin-top: 8px;
        }
        .result-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            margin-top: 24px;
        }
        .result-item {
            background: rgba(255,255,255,0.15);
            border-radius: 12px;
            padding: 16px;
        }
        .result-item-value {
            font-size: 24px;
            font-weight: 700;
        }
        .result-item-label {
            font-size: 12px;
            opacity: 0.9;
            margin-top: 4px;
        }
        .detail-section {
            margin-top: 24px;
        }
        .detail-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }
        .detail-item {
            display: flex;
            justify-content: space-between;
            padding: 14px 16px;
            background: var(--bg-color);
            border-radius: 8px;
        }
        .detail-label {
            color: #888;
            font-size: 14px;
        }
        .detail-value {
            font-weight: 600;
        }
        .fuel-price-section {
            margin-top: 20px;
            padding: 16px;
            background: var(--bg-color);
            border-radius: 12px;
        }
        .price-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
        }
        .price-row:not(:last-child) {
            border-bottom: 1px solid var(--border-color);
        }
        .comparison-section {
            margin-top: 24px;
        }
        .comparison-bar {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
        }
        .comparison-label {
            width: 80px;
            font-size: 13px;
        }
        .comparison-track {
            flex: 1;
            height: 24px;
            background: var(--bg-color);
            border-radius: 12px;
            overflow: hidden;
            margin: 0 12px;
        }
        .comparison-fill {
            height: 100%;
            border-radius: 12px;
            transition: width 0.5s;
        }
        .comparison-value {
            width: 60px;
            text-align: right;
            font-size: 13px;
            font-weight: 600;
        }
        .tips-section {
            margin-top: 24px;
        }
        .tip-item {
            display: flex;
            gap: 12px;
            padding: 14px;
            background: var(--bg-color);
            border-radius: 8px;
            margin-bottom: 8px;
        }
        .tip-icon {
            font-size: 20px;
        }
        .tip-content {
            flex: 1;
        }
        .tip-title {
            font-weight: 500;
            margin-bottom: 4px;
        }
        .tip-desc {
            font-size: 13px;
            color: #888;
            line-height: 1.5;
        }
        @media (max-width: 480px) {
            .result-grid, .detail-grid {
                grid-template-columns: 1fr;
            }
            .result-main {
                font-size: 48px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>â›½ æ²¹è€—è®¡ç®—å™¨</h1>
        <p class="subtitle">è®¡ç®—ç™¾å…¬é‡Œæ²¹è€—ã€è¡Œç¨‹æ²¹è´¹ã€åŠ æ²¹é‡</p>

        <div class="card">
            <div class="tabs">
                <button class="tab active" onclick="switchTab('consumption')">è®¡ç®—æ²¹è€—</button>
                <button class="tab" onclick="switchTab('cost')">è®¡ç®—æ²¹è´¹</button>
                <button class="tab" onclick="switchTab('distance')">èƒ½è·‘å¤šè¿œ</button>
            </div>

            <!-- è®¡ç®—æ²¹è€— -->
            <div class="panel active" id="consumptionPanel">
                <div class="section-title">ğŸ“Š è®¡ç®—ç™¾å…¬é‡Œæ²¹è€—</div>
                
                <div class="form-group">
                    <label>è¡Œé©¶é‡Œç¨‹</label>
                    <div class="input-with-unit">
                        <input type="number" class="form-input" id="distance1" placeholder="æœ¬æ¬¡è¡Œé©¶å…¬é‡Œæ•°" step="0.1">
                        <span class="input-unit">km</span>
                    </div>
                </div>

                <div class="form-group">
                    <label>åŠ æ²¹é‡</label>
                    <div class="input-with-unit">
                        <input type="number" class="form-input" id="fuel1" placeholder="æœ¬æ¬¡åŠ æ²¹å‡æ•°" step="0.01">
                        <span class="input-unit">L</span>
                    </div>
                </div>

                <div class="form-group">
                    <label>æ²¹ä»· (å¯é€‰ï¼Œç”¨äºè®¡ç®—è´¹ç”¨)</label>
                    <div class="input-with-unit">
                        <input type="number" class="form-input" id="price1" placeholder="å½“å‰æ²¹ä»·" step="0.01" value="7.50">
                        <span class="input-unit">å…ƒ/L</span>
                    </div>
                </div>

                <button class="btn" onclick="calculateConsumption()">è®¡ç®—æ²¹è€—</button>
            </div>

            <!-- è®¡ç®—æ²¹è´¹ -->
            <div class="panel" id="costPanel">
                <div class="section-title">ğŸ’° è®¡ç®—è¡Œç¨‹æ²¹è´¹</div>
                
                <div class="form-group">
                    <label>è®¡åˆ’è¡Œé©¶é‡Œç¨‹</label>
                    <div class="input-with-unit">
                        <input type="number" class="form-input" id="distance2" placeholder="è®¡åˆ’è¡Œé©¶å…¬é‡Œæ•°" step="0.1">
                        <span class="input-unit">km</span>
                    </div>
                </div>

                <div class="form-group">
                    <label>ç™¾å…¬é‡Œæ²¹è€—</label>
                    <div class="input-with-unit">
                        <input type="number" class="form-input" id="consumption2" placeholder="æ‚¨çš„è½¦è¾†æ²¹è€—" step="0.1" value="8.0">
                        <span class="input-unit">L/100km</span>
                    </div>
                </div>

                <div class="form-group">
                    <label>æ²¹ä»·</label>
                    <div class="input-with-unit">
                        <input type="number" class="form-input" id="price2" placeholder="å½“å‰æ²¹ä»·" step="0.01" value="7.50">
                        <span class="input-unit">å…ƒ/L</span>
                    </div>
                </div>

                <button class="btn" onclick="calculateCost()">è®¡ç®—æ²¹è´¹</button>
            </div>

            <!-- èƒ½è·‘å¤šè¿œ -->
            <div class="panel" id="distancePanel">
                <div class="section-title">ğŸ›£ï¸ è®¡ç®—èƒ½è·‘å¤šè¿œ</div>
                
                <div class="form-group">
                    <label>å‰©ä½™æ²¹é‡</label>
                    <div class="input-with-unit">
                        <input type="number" class="form-input" id="remainFuel" placeholder="å½“å‰å‰©ä½™æ²¹é‡" step="0.1">
                        <span class="input-unit">L</span>
                    </div>
                </div>

                <div class="form-group">
                    <label>ç™¾å…¬é‡Œæ²¹è€—</label>
                    <div class="input-with-unit">
                        <input type="number" class="form-input" id="consumption3" placeholder="æ‚¨çš„è½¦è¾†æ²¹è€—" step="0.1" value="8.0">
                        <span class="input-unit">L/100km</span>
                    </div>
                </div>

                <button class="btn" onclick="calculateDistance()">è®¡ç®—ç»­èˆª</button>
            </div>
        </div>

        <div id="resultSection" style="display: none;"></div>
    </div>

    <script>
        function switchTab(tab) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
            
            const tabIndex = { consumption: 0, cost: 1, distance: 2 };
            document.querySelectorAll('.tab')[tabIndex[tab]].classList.add('active');
            document.getElementById(tab + 'Panel').classList.add('active');
            
            document.getElementById('resultSection').style.display = 'none';
        }

        function calculateConsumption() {
            const distance = parseFloat(document.getElementById('distance1').value);
            const fuel = parseFloat(document.getElementById('fuel1').value);
            const price = parseFloat(document.getElementById('price1').value) || 7.50;

            if (!distance || !fuel) {
                alert('è¯·å¡«å†™è¡Œé©¶é‡Œç¨‹å’ŒåŠ æ²¹é‡');
                return;
            }

            const consumption = (fuel / distance) * 100;
            const costPerKm = (consumption * price) / 100;
            const totalCost = fuel * price;

            // è¯„ä»·æ²¹è€—ç­‰çº§
            let level, levelColor;
            if (consumption < 6) {
                level = 'éå¸¸çœæ²¹';
                levelColor = '#4caf50';
            } else if (consumption < 8) {
                level = 'è¾ƒä¸ºçœæ²¹';
                levelColor = '#8bc34a';
            } else if (consumption < 10) {
                level = 'æ²¹è€—é€‚ä¸­';
                levelColor = '#ff9800';
            } else if (consumption < 12) {
                level = 'æ²¹è€—åé«˜';
                levelColor = '#ff5722';
            } else {
                level = 'æ²¹è€—è¾ƒé«˜';
                levelColor = '#f44336';
            }

            const html = `
                <div class="result-card">
                    <div class="result-label">ç™¾å…¬é‡Œæ²¹è€—</div>
                    <div class="result-main">${consumption.toFixed(2)}</div>
                    <div class="result-unit">L/100km</div>
                    <div style="margin-top: 12px; padding: 8px 16px; background: ${levelColor}; border-radius: 20px; display: inline-block;">${level}</div>
                    
                    <div class="result-grid">
                        <div class="result-item">
                            <div class="result-item-value">Â¥${costPerKm.toFixed(2)}</div>
                            <div class="result-item-label">æ¯å…¬é‡Œæ²¹è´¹</div>
                        </div>
                        <div class="result-item">
                            <div class="result-item-value">Â¥${totalCost.toFixed(0)}</div>
                            <div class="result-item-label">æœ¬æ¬¡åŠ æ²¹èŠ±è´¹</div>
                        </div>
                    </div>
                </div>

                <div class="card" style="margin-top: 20px;">
                    <div class="comparison-section">
                        <div class="section-title">ğŸ“ˆ æ²¹è€—å¯¹æ¯”</div>
                        ${generateComparison(consumption)}
                    </div>

                    <div class="tips-section">
                        <div class="section-title">ğŸ’¡ çœæ²¹å»ºè®®</div>
                        ${generateTips(consumption)}
                    </div>
                </div>
            `;

            document.getElementById('resultSection').innerHTML = html;
            document.getElementById('resultSection').style.display = 'block';
            document.getElementById('resultSection').scrollIntoView({ behavior: 'smooth' });
        }

        function calculateCost() {
            const distance = parseFloat(document.getElementById('distance2').value);
            const consumption = parseFloat(document.getElementById('consumption2').value);
            const price = parseFloat(document.getElementById('price2').value);

            if (!distance || !consumption || !price) {
                alert('è¯·å¡«å†™å®Œæ•´ä¿¡æ¯');
                return;
            }

            const fuelNeeded = (distance * consumption) / 100;
            const totalCost = fuelNeeded * price;
            const costPerKm = totalCost / distance;

            const html = `
                <div class="result-card">
                    <div class="result-label">é¢„è®¡æ²¹è´¹</div>
                    <div class="result-main">Â¥${totalCost.toFixed(0)}</div>
                    <div class="result-unit">å…ƒ</div>
                    
                    <div class="result-grid">
                        <div class="result-item">
                            <div class="result-item-value">${fuelNeeded.toFixed(1)}L</div>
                            <div class="result-item-label">é¢„è®¡è€—æ²¹é‡</div>
                        </div>
                        <div class="result-item">
                            <div class="result-item-value">Â¥${costPerKm.toFixed(2)}</div>
                            <div class="result-item-label">æ¯å…¬é‡Œè´¹ç”¨</div>
                        </div>
                    </div>
                </div>

                <div class="card" style="margin-top: 20px;">
                    <div class="detail-section">
                        <div class="section-title">ğŸ“‹ è´¹ç”¨æ˜ç»†</div>
                        <div class="detail-grid">
                            <div class="detail-item">
                                <span class="detail-label">è¡Œé©¶é‡Œç¨‹</span>
                                <span class="detail-value">${distance} km</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">ç™¾å…¬é‡Œæ²¹è€—</span>
                                <span class="detail-value">${consumption} L/100km</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">æ²¹ä»·</span>
                                <span class="detail-value">Â¥${price}/L</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">å¾€è¿”è´¹ç”¨</span>
                                <span class="detail-value">Â¥${(totalCost * 2).toFixed(0)}</span>
                            </div>
                        </div>
                    </div>

                    <div class="fuel-price-section" style="margin-top: 20px;">
                        <div class="section-title">â›½ ä¸åŒæ²¹ä»·å¯¹æ¯”</div>
                        <div class="price-row">
                            <span>92å· (Â¥7.20)</span>
                            <span class="detail-value">Â¥${((distance * consumption / 100) * 7.20).toFixed(0)}</span>
                        </div>
                        <div class="price-row">
                            <span>95å· (Â¥7.70)</span>
                            <span class="detail-value">Â¥${((distance * consumption / 100) * 7.70).toFixed(0)}</span>
                        </div>
                        <div class="price-row">
                            <span>98å· (Â¥8.70)</span>
                            <span class="detail-value">Â¥${((distance * consumption / 100) * 8.70).toFixed(0)}</span>
                        </div>
                    </div>
                </div>
            `;

            document.getElementById('resultSection').innerHTML = html;
            document.getElementById('resultSection').style.display = 'block';
            document.getElementById('resultSection').scrollIntoView({ behavior: 'smooth' });
        }

        function calculateDistance() {
            const remainFuel = parseFloat(document.getElementById('remainFuel').value);
            const consumption = parseFloat(document.getElementById('consumption3').value);

            if (!remainFuel || !consumption) {
                alert('è¯·å¡«å†™å‰©ä½™æ²¹é‡å’Œæ²¹è€—');
                return;
            }

            const maxDistance = (remainFuel / consumption) * 100;
            const safeDistance = maxDistance * 0.9; // ä¿ç•™10%ä½™é‡

            const html = `
                <div class="result-card">
                    <div class="result-label">é¢„è®¡ç»­èˆªé‡Œç¨‹</div>
                    <div class="result-main">${maxDistance.toFixed(0)}</div>
                    <div class="result-unit">å…¬é‡Œ</div>
                    
                    <div class="result-grid">
                        <div class="result-item">
                            <div class="result-item-value">${safeDistance.toFixed(0)}km</div>
                            <div class="result-item-label">å®‰å…¨ç»­èˆª(ä¿ç•™10%)</div>
                        </div>
                        <div class="result-item">
                            <div class="result-item-value">${remainFuel}L</div>
                            <div class="result-item-label">å‰©ä½™æ²¹é‡</div>
                        </div>
                    </div>
                </div>

                <div class="card" style="margin-top: 20px;">
                    <div class="tips-section">
                        <div class="section-title">âš ï¸ æ¸©é¦¨æç¤º</div>
                        <div class="tip-item">
                            <span class="tip-icon">ğŸš—</span>
                            <div class="tip-content">
                                <div class="tip-title">å®é™…ç»­èˆªå¯èƒ½æœ‰å·®å¼‚</div>
                                <div class="tip-desc">è·¯å†µã€é©¾é©¶ä¹ æƒ¯ã€ç©ºè°ƒä½¿ç”¨ç­‰éƒ½ä¼šå½±å“å®é™…æ²¹è€—ï¼Œå»ºè®®é¢„ç•™å……è¶³ä½™é‡</div>
                            </div>
                        </div>
                        <div class="tip-item">
                            <span class="tip-icon">â›½</span>
                            <div class="tip-content">
                                <div class="tip-title">é¿å…æ²¹ç®±è§åº•</div>
                                <div class="tip-desc">æ²¹é‡è¿‡ä½å¯èƒ½å¯¼è‡´æ²¹æ³µæŸåï¼Œå»ºè®®å‰©ä½™1/4æ²¹é‡æ—¶åŠ æ²¹</div>
                            </div>
                        </div>
                        ${maxDistance < 50 ? `
                        <div class="tip-item" style="background: #fff3e0;">
                            <span class="tip-icon">âš ï¸</span>
                            <div class="tip-content">
                                <div class="tip-title" style="color: #e65100;">æ²¹é‡è¾ƒä½</div>
                                <div class="tip-desc" style="color: #e65100;">å»ºè®®å°½å¿«åŠ æ²¹ï¼Œé¿å…åŠè·¯æŠ›é”š</div>
                            </div>
                        </div>
                        ` : ''}
                    </div>
                </div>
            `;

            document.getElementById('resultSection').innerHTML = html;
            document.getElementById('resultSection').style.display = 'block';
            document.getElementById('resultSection').scrollIntoView({ behavior: 'smooth' });
        }

        function generateComparison(consumption) {
            const comparisons = [
                { label: 'å°å‹è½¦', value: 6, color: '#4caf50' },
                { label: 'ç´§å‡‘å‹', value: 7, color: '#8bc34a' },
                { label: 'ä¸­å‹è½¦', value: 8.5, color: '#ff9800' },
                { label: 'æ‚¨çš„æ²¹è€—', value: consumption, color: '#2196f3' },
                { label: 'SUV', value: 10, color: '#ff5722' }
            ];

            const maxValue = Math.max(...comparisons.map(c => c.value), consumption);

            return comparisons.map(c => `
                <div class="comparison-bar">
                    <span class="comparison-label">${c.label}</span>
                    <div class="comparison-track">
                        <div class="comparison-fill" style="width: ${(c.value / maxValue) * 100}%; background: ${c.color};"></div>
                    </div>
                    <span class="comparison-value">${c.value.toFixed(1)}L</span>
                </div>
            `).join('');
        }

        function generateTips(consumption) {
            const tips = [];

            if (consumption > 10) {
                tips.push({
                    icon: 'ğŸš¦',
                    title: 'é¿å…æ€¥åŠ é€Ÿæ€¥åˆ¹è½¦',
                    desc: 'å¹³ç¨³é©¾é©¶å¯é™ä½15%-20%çš„æ²¹è€—'
                });
                tips.push({
                    icon: 'ğŸ›',
                    title: 'æ£€æŸ¥èƒå‹',
                    desc: 'èƒå‹ä¸è¶³ä¼šå¢åŠ æ»šåŠ¨é˜»åŠ›ï¼Œå»ºè®®ä¿æŒæ ‡å‡†èƒå‹'
                });
            }

            tips.push({
                icon: 'ğŸŒ¡ï¸',
                title: 'åˆç†ä½¿ç”¨ç©ºè°ƒ',
                desc: 'ç©ºè°ƒä¼šå¢åŠ 10%-15%æ²¹è€—ï¼Œä½é€Ÿæ—¶å¯å¼€çª—é€šé£'
            });

            tips.push({
                icon: 'ğŸ“¦',
                title: 'å‡å°‘è½¦å†…è´Ÿé‡',
                desc: 'æ¯å¢åŠ 100kgè´Ÿé‡ï¼Œæ²¹è€—å¢åŠ çº¦0.5L/100km'
            });

            tips.push({
                icon: 'â°',
                title: 'é¿å¼€é«˜å³°æ—¶æ®µ',
                desc: 'é¢‘ç¹å¯åœä¼šæ˜¾è‘—å¢åŠ æ²¹è€—ï¼Œé”™å³°å‡ºè¡Œæ›´çœæ²¹'
            });

            return tips.map(tip => `
                <div class="tip-item">
                    <span class="tip-icon">${tip.icon}</span>
                    <div class="tip-content">
                        <div class="tip-title">${tip.title}</div>
                        <div class="tip-desc">${tip.desc}</div>
                    </div>
                </div>
            `).join('');
        }
    </script>
</body>
</html>
