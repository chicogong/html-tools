<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>æˆè¯­æ¥é¾™ - WebUtils</title>
    <!-- SEO Meta Tags -->
    <meta name="description" content="æˆè¯­æ¥é¾™ - HTML Tools" />
    <meta name="keywords" content="word-chain,game,tools,webutils" />
    <meta name="author" content="WebUtils" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://tools.realtime-ai.chat/tools/game/word-chain.html" />

    <!-- Open Graph -->
    <meta property="og:title" content="æˆè¯­æ¥é¾™ - HTML Tools" />
    <meta property="og:description" content="æˆè¯­æ¥é¾™ - HTML Tools" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://tools.realtime-ai.chat/tools/game/word-chain.html" />
    <meta property="og:site_name" content="WebUtils" />
    <meta property="og:locale" content="zh_CN" />
    <meta property="og:image" content="https://tools.realtime-ai.chat/social-preview.png" />
    <meta property="og:image:width" content="1280" />
    <meta property="og:image:height" content="640" />
    <meta property="og:image:type" content="image/png" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="æˆè¯­æ¥é¾™ - HTML Tools" />
    <meta name="twitter:description" content="æˆè¯­æ¥é¾™ - HTML Tools" />
    <meta name="twitter:image" content="https://tools.realtime-ai.chat/social-preview.png" />

    <style>
      :root {
        --bg-deep: #0a0a0f;
        --bg-surface: #12121a;
        --bg-card: #1a1a24;
        --bg-input: #0e0e14;
        --text-primary: #e8e8ed;
        --text-secondary: #8888a0;
        --text-muted: #55556a;
        --border-subtle: #2a2a3a;
        --border-strong: #3a3a4a;
        --accent-cyan: #00f5d4;
        --accent-magenta: #f72585;
        --accent-green: #10b981;
        --accent-red: #f43f5e;
        --accent-yellow: #fbbf24;
        --accent-blue: #4cc9f0;
        --accent-purple: #7b2cbf;
        --radius-sm: 4px;
        --radius-md: 8px;
        --radius-lg: 12px;
        --font-sans: "Space Grotesk", -apple-system, blinkmacsystemfont, "Segoe UI", roboto, sans-serif;
        --font-mono: "JetBrains Mono", "Courier New", monospace;
        --shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
      }

      [data-theme="light"] {
        --bg-deep: #fafafa;
        --bg-surface: #fff;
        --bg-card: #fff;
        --bg-input: #f5f5f5;
        --text-primary: #1a1a1a;
        --text-secondary: #666;
        --text-muted: #999;
        --border-subtle: #e5e5e5;
        --border-strong: #d5d5d5;
        --accent-cyan: #00d4b8;
        --accent-magenta: #e63975;
        --shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      }

      

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      :root {
        --bg-primary: #0a0a0f;
        --bg-secondary: #12121a;
        --bg-tertiary: #1a1a24;
        --color-text-primary: #fff;
        --color-text-secondary: #a0a0a0;
        --accent: #f72585;
        --accent2: #00f5d4;
        --border: #2a2a3a;
      }
      [data-theme="light"] {
        --bg-primary: #f5f5f5;
        --bg-secondary: #fff;
        --bg-tertiary: #e5e5e5;
        --color-text-primary: #1a1a2e;
        --color-text-secondary: #666;
        --border: #ddd;
      }
      body {
        font-family: var(--font-sans);
        background: var(--bg-deep);
        color: var(--color-text-primary);
        min-height: 100vh;
      }
      .header {
        background: linear-gradient(135deg, #f72585, #b5179e);
        padding: 15px 20px;
        text-align: center;
        position: relative;
      }
      .header h1 {
        font-size: 24px;
        color: #fff;
        margin-bottom: 3px;
      }
      .header p {
        font-size: 12px;
        opacity: 0.8;
        color: #fff;
      }
      .back-link {
        position: absolute;
        left: 15px;
        top: 50%;
        transform: translateY(-50%);
        color: #fff;
        text-decoration: none;
        font-size: 14px;
      }
      .theme-toggle {
        position: absolute;
        right: 15px;
        top: 50%;
        transform: translateY(-50%);
        background: rgba(255, 255, 255, 0.3);
        border: none;
        padding: 6px 10px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 16px;
      }
      .container {
        max-width: 600px;
        margin: 0 auto;
        padding: 20px;
      }
      .stats {
        display: flex;
        justify-content: space-around;
        margin-bottom: 20px;
        background: var(--bg-secondary);
        border-radius: 10px;
        padding: 15px;
        border: 1px solid var(--border-subtle);
      }
      .stat-item {
        text-align: center;
      }
      .stat-value {
        font-size: 28px;
        font-weight: bold;
        color: var(--accent-cyan);
      }
      .stat-label {
        font-size: 12px;
        color: var(--color-text-secondary);
      }
      .current-word {
        background: var(--bg-secondary);
        border-radius: 12px;
        padding: 25px;
        text-align: center;
        margin-bottom: 20px;
        border: 1px solid var(--border-subtle);
      }
      .current-word .label {
        font-size: 14px;
        color: var(--color-text-secondary);
        margin-bottom: 10px;
      }
      .current-word .word {
        font-size: 36px;
        font-weight: bold;
        color: var(--accent-cyan);
        letter-spacing: 8px;
      }
      .current-word .hint {
        margin-top: 10px;
        font-size: 14px;
        color: var(--accent-magenta);
      }
      .input-area {
        background: var(--bg-secondary);
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 20px;
        border: 1px solid var(--border-subtle);
      }
      .input-row {
        display: flex;
        gap: 10px;
      }
      .input-field {
        flex: 1;
        padding: 15px;
        font-size: 18px;
        background: var(--bg-tertiary);
        border: 2px solid var(--border-subtle);
        border-radius: 8px;
        color: var(--color-text-primary);
        outline: none;
      }
      .input-field:focus {
        border-color: var(--accent-cyan);
      }
      .btn {
        padding: 15px 25px;
        border-radius: 8px;
        border: none;
        font-size: 16px;
        cursor: pointer;
        transition: all 0.2s;
        background: var(--accent-cyan);
        color: #fff;
        font-weight: 600;
      }
      .btn:hover {
        transform: scale(1.05);
      }
      .btn.secondary {
        background: var(--bg-tertiary);
        color: var(--color-text-primary);
        border: 1px solid var(--border-subtle);
      }
      .message {
        text-align: center;
        padding: 15px;
        border-radius: 8px;
        margin-bottom: 15px;
        display: none;
      }
      .message.show {
        display: block;
      }
      .message.success {
        background: rgba(16, 185, 129, 0.2);
        color: #10b981;
      }
      .message.error {
        background: rgba(239, 68, 68, 0.2);
        color: #ef4444;
      }
      .history {
        background: var(--bg-secondary);
        border-radius: 12px;
        padding: 20px;
        border: 1px solid var(--border-subtle);
      }
      .history h3 {
        font-size: 16px;
        margin-bottom: 15px;
        color: var(--color-text-secondary);
      }
      .history-list {
        max-height: 200px;
        overflow-y: auto;
      }
      .history-item {
        display: inline-block;
        padding: 8px 15px;
        margin: 5px;
        background: var(--bg-tertiary);
        border-radius: 20px;
        font-size: 14px;
      }
      .controls {
        display: flex;
        gap: 10px;
        justify-content: center;
        margin-top: 20px;
      }
    </style>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="header">
      <a href="../../index.html" class="back-link">â† è¿”å›</a>
      <h1>æˆè¯­æ¥é¾™</h1>
      <p>ç”¨æœ€åä¸€ä¸ªå­—æ¥æ–°æˆè¯­</p>
      <button class="theme-toggle" onclick="toggleTheme()">ğŸŒ“</button>
    </div>

    <div class="container">
      <div class="stats">
        <div class="stat-item">
          <div class="stat-value" id="score">0</div>
          <div class="stat-label">å¾—åˆ†</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="combo">0</div>
          <div class="stat-label">è¿å‡»</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="count">0</div>
          <div class="stat-label">æ¥é¾™æ•°</div>
        </div>
      </div>

      <div class="current-word">
        <div class="label">å½“å‰æˆè¯­</div>
        <div class="word" id="currentWord">ä¸€å¿ƒä¸€æ„</div>
        <div class="hint">
          è¯·è¾“å…¥ä»¥ã€Œ
          <span id="nextChar">æ„</span>
          ã€å¼€å¤´çš„æˆè¯­
        </div>
      </div>

      <div class="message" id="message"></div>

      <div class="input-area">
        <div class="input-row">
          <input
            type="text"
            class="input-field"
            id="inputField"
            placeholder="è¾“å…¥æˆè¯­..."
            maxlength="8"
          />
          <button class="btn" onclick="submitWord()">æäº¤</button>
        </div>
      </div>

      <div class="history">
        <h3>æ¥é¾™å†å²</h3>
        <div class="history-list" id="historyList"></div>
      </div>

      <div class="controls">
        <button class="btn secondary" onclick="getHint()">æç¤º</button>
        <button class="btn secondary" onclick="resetGame()">é‡æ–°å¼€å§‹</button>
      </div>
    </div>

    <script>
      // æˆè¯­åº“
      const idioms = {
        ä¸€: [
          "ä¸€å¿ƒä¸€æ„",
          "ä¸€å¸†é£é¡º",
          "ä¸€é©¬å½“å…ˆ",
          "ä¸€é¸£æƒŠäºº",
          "ä¸€è§é’Ÿæƒ…",
          "ä¸€ä¸¾ä¸¤å¾—",
          "ä¸€ä¸ä¸è‹Ÿ",
          "ä¸€å­—åƒé‡‘"
        ],
        æ„: ["æ„æ°”é£å‘", "æ„æƒ³ä¸åˆ°", "æ„å‘³æ·±é•¿", "æ„åœ¨è¨€å¤–"],
        é¡º: ["é¡ºé£é¡ºæ°´", "é¡ºç†æˆç« ", "é¡ºå…¶è‡ªç„¶", "é¡ºæ‰‹ç‰µç¾Š"],
        å…ˆ: ["å…ˆå…¥ä¸ºä¸»", "å…ˆæ–©åå¥", "å…ˆè§ä¹‹æ˜", "å…ˆå‘åˆ¶äºº"],
        äºº: ["äººå±±äººæµ·", "äººæ‰æµæµ", "äººå¿ƒæ‰€å‘", "äººæ°åœ°çµ", "äººç”Ÿå¦‚æ¢¦"],
        æƒ…: ["æƒ…æŠ•æ„åˆ", "æƒ…åŒæ‰‹è¶³", "æƒ…çœŸæ„åˆ‡", "æƒ…ä¸è‡ªç¦"],
        å¾—: ["å¾—å¿ƒåº”æ‰‹", "å¾—æ„å¿˜å½¢", "å¾—ä¸å¿å¤±", "å¾—å¤©ç‹¬åš"],
        è‹Ÿ: ["è‹Ÿä¸”å·ç”Ÿ", "è‹Ÿå»¶æ®‹å–˜"],
        é‡‘: ["é‡‘ç‰è‰¯è¨€", "é‡‘æ¦œé¢˜å", "é‡‘æç‰å¶", "é‡‘ç¢§è¾‰ç…Œ"],
        å‘: ["å‘æ„¤å›¾å¼º", "å‘äººæ·±çœ", "å‘æ‰¬å…‰å¤§"],
        åˆ°: ["åˆ°æ­¤ä¸ºæ­¢"],
        é•¿: ["é•¿é©±ç›´å…¥", "é•¿æ²»ä¹…å®‰", "é•¿ç¯‡å¤§è®º", "é•¿å¹´ç´¯æœˆ"],
        å¤–: ["å¤–å¼ºä¸­å¹²"],
        æ°´: ["æ°´è½çŸ³å‡º", "æ°´åˆ°æ¸ æˆ", "æ°´æ·±ç«çƒ­", "æ°´æ»´çŸ³ç©¿"],
        ç« : ["ç« æ³•æœ‰åº¦"],
        ç„¶: ["ç„¶è€Œä¸åŒ"],
        ç¾Š: ["ç¾Šå…¥è™å£", "ç¾Šè‚ å°é“"],
        ä¸»: ["ä¸»è§‚è‡†æ–­"],
        å¥: ["å¥æ•ˆæ˜¾è‘—"],
        æ˜: ["æ˜å¯Ÿç§‹æ¯«", "æ˜çŸ¥æ•…çŠ¯", "æ˜ç›®å¼ èƒ†", "æ˜è¾¨æ˜¯é"],
        æµ·: ["æµ·é˜”å¤©ç©º", "æµ·æ¯çŸ³çƒ‚", "æµ·åº•æé’ˆ"],
        æµ: ["æµæµä¸€å ‚"],
        å‘: ["å‘éš…è€Œæ³£"],
        çµ: ["çµæœºä¸€åŠ¨"],
        æ¢¦: ["æ¢¦å¯ä»¥æ±‚"],
        åˆ: ["åˆæƒ…åˆç†"],
        è¶³: ["è¶³æ™ºå¤šè°‹", "è¶³ä¸å‡ºæˆ·"],
        åˆ‡: ["åˆ‡è‚¤ä¹‹ç—›"],
        ç¦: ["ç¦è‹¥å¯’è‰"],
        æ‰‹: ["æ‰‹å¿™è„šä¹±", "æ‰‹åˆ°æ“’æ¥", "æ‰‹è¶³æ— æª"],
        å½¢: ["å½¢å½¢è‰²è‰²", "å½¢å½±ä¸ç¦»"],
        å¤±: ["å¤±è€Œå¤å¾—", "å¤±é­‚è½é­„"],
        åš: ["åšç§¯è–„å‘", "åšæ­¤è–„å½¼"],
        ç”Ÿ: ["ç”Ÿé¾™æ´»è™", "ç”Ÿæœºå‹ƒå‹ƒ", "ç”Ÿç”Ÿä¸æ¯"],
        å–˜: ["å–˜æ¯æœªå®š"],
        è¨€: ["è¨€ç®€æ„èµ…", "è¨€è¡Œä¸€è‡´", "è¨€ä¹‹å‡¿å‡¿"],
        å: ["åå‰¯å…¶å®", "åæ­£è¨€é¡º", "ååˆ—å‰èŒ…"],
        å¶: ["å¶è½å½’æ ¹"],
        ç…Œ: ["ç…Œç…Œå¤§è§‚"],
        å¼º: ["å¼ºè¯å¤ºç†", "å¼ºäººæ‰€éš¾"],
        çœ: ["çœåƒä¿­ç”¨"],
        å¤§: ["å¤§åŠŸå‘Šæˆ", "å¤§æ˜¾èº«æ‰‹", "å¤§æ™ºè‹¥æ„š", "å¤§å…¬æ— ç§"],
        æ­¢: ["æ­¢æ­¥ä¸å‰"],
        å…¥: ["å…¥æœ¨ä¸‰åˆ†", "å…¥ä¹¡éšä¿—"],
        å®‰: ["å®‰å±…ä¹ä¸š", "å®‰ç„¶æ— æ™"],
        è®º: ["è®ºåŠŸè¡Œèµ"],
        æœˆ: ["æœˆæ˜æ˜Ÿç¨€"],
        å¹²: ["å¹²å‡€åˆ©è½"],
        æˆ: ["æˆç«¹åœ¨èƒ¸", "æˆäººä¹‹ç¾"],
        çƒ­: ["çƒ­ç«æœå¤©"],
        ç©¿: ["ç©¿é’ˆå¼•çº¿"],
        åº¦: ["åº¦æ—¥å¦‚å¹´"],
        åŒ: ["åŒå¿ƒååŠ›", "åŒèˆŸå…±æµ"],
        å£: ["å£è‹¥æ‚¬æ²³", "å£æ˜¯å¿ƒé"],
        é“: ["é“å¬é€”è¯´"],
        æ–­: ["æ–­ç« å–ä¹‰"],
        ç©º: ["ç©ºå‰ç»å", "ç©ºç©´æ¥é£"],
        çƒ‚: ["çƒ‚æ¼«å¤©çœŸ"],
        é’ˆ: ["é’ˆé”‹ç›¸å¯¹"],
        å ‚: ["å ‚è€Œçš‡ä¹‹"],
        æ³£: ["æ³£ä¸æˆå£°"],
        åŠ¨: ["åŠ¨äººå¿ƒå¼¦"],
        æ±‚: ["æ±‚ä¹‹ä¸å¾—"],
        ç†: ["ç†ç›´æ°”å£®"],
        è°‹: ["è°‹äº‹åœ¨äºº"],
        æˆ·: ["æˆ·æ¢ä¸è ¹"],
        ç—›: ["ç—›å¿ƒç–¾é¦–"],
        è‰: ["è‰è”å† å†›"],
        ä¹±: ["ä¹±ä¸ƒå…«ç³Ÿ"],
        æ¥: ["æ¥æ—¥æ–¹é•¿"],
        æª: ["æªæ‰‹ä¸åŠ"],
        è‰²: ["è‰²å½©æ–‘æ–“"],
        ç¦»: ["ç¦»å¿ƒç¦»å¾·"],
        é­„: ["é­„åŠ›åè¶³"],
        å‘: ["å‘æ‰¬å…‰å¤§"],
        å½¼: ["å½¼æ­¤å½¼æ­¤"],
        è™: ["è™å¤´è›‡å°¾", "è™è§†çœˆçœˆ"],
        å‹ƒ: ["å‹ƒç„¶å¤§æ€’"],
        æ¯: ["æ¯æ¯ç›¸å…³"],
        å®š: ["å®šæœŸæ£€æŸ¥"],
        èµ…: ["èµ…åšç²¾æ·±"],
        è‡´: ["è‡´å‘½ä¸€å‡»"],
        å‡¿: ["å‡¿å£å·å…‰"],
        å®: ["å®äº‹æ±‚æ˜¯"],
        é¡º: ["é¡ºç†æˆç« "],
        èŒ…: ["èŒ…å¡é¡¿å¼€"],
        æ ¹: ["æ ¹æ·±è’‚å›º"],
        è§‚: ["è§‚æœ›ä¸å‰"],
        ç†: ["ç†æ‰€å½“ç„¶"],
        éš¾: ["éš¾èƒ½å¯è´µ"],
        ç”¨: ["ç”¨å¿ƒè‰¯è‹¦"],
        æ„š: ["æ„šå…¬ç§»å±±"],
        ç§: ["ç§å¿ƒæ‚å¿µ"],
        å‰: ["å‰åŠŸå°½å¼ƒ"],
        åˆ†: ["åˆ†é“æ‰¬é•³"],
        ä¿—: ["ä¿—ä¸å¯è€"],
        ä¸š: ["ä¸šç²¾äºå‹¤"],
        æ™: ["æ™ç„¶æ— æ™"],
        èµ: ["èµå¿ƒæ‚¦ç›®"],
        ç¨€: ["ç¨€å¥‡å¤æ€ª"],
        è½: ["è½äº•ä¸‹çŸ³"],
        èƒ¸: ["èƒ¸æœ‰æˆç«¹"],
        ç¾: ["ç¾ä¸­ä¸è¶³"],
        å¤©: ["å¤©é«˜åœ°åš", "å¤©ç¿»åœ°è¦†", "å¤©è¡£æ— ç¼"],
        é£: ["é£é›¨åŒèˆŸ", "é£å¹³æµªé™", "é£è°ƒé›¨é¡º"],
        æµ: ["æµä¸–å®‰æ°‘"],
        æ²³: ["æ²³æ¸…æµ·æ™"],
        é: ["éåŒå°å¯"],
        å¯¹: ["å¯¹ç­”å¦‚æµ"],
        ä¹‹: ["ä¹‹ä¹è€…ä¹Ÿ"],
        çœŸ: ["çœŸå¿ƒå®æ„"],
        å: ["åæ¥å±…ä¸Š"],
        å£°: ["å£°ä¸œå‡»è¥¿"],
        å¼¦: ["å¼¦å¤–ä¹‹éŸ³"],
        å£®: ["å£®å¿—å‡Œäº‘"],
        è ¹: ["è ¹å›½å®³æ°‘"],
        é¦–: ["é¦–å½“å…¶å†²"],
        å†›: ["å†›ä»¤å¦‚å±±"],
        ç³Ÿ: ["ç³Ÿç³•é€é¡¶"],
        åŠ: ["åŠæ—¶è¡Œä¹"],
        æ–“: ["æ–“å…‰é—ªçƒ"],
        å¾·: ["å¾·é«˜æœ›é‡"],
        å°¾: ["å°¾å¤§ä¸æ‰"],
        çœˆ: ["çœˆçœˆé€é€"],
        æ€’: ["æ€’å‘å†²å† "],
        å…³: ["å…³æ€€å¤‡è‡³"],
        æŸ¥: ["æŸ¥æ— å®æ®"],
        æ·±: ["æ·±å…¥æµ…å‡º"],
        å…‰: ["å…‰æ˜ç£Šè½"],
        æ˜¯: ["æ˜¯éæ›²ç›´"],
        å¼€: ["å¼€é—¨è§å±±"],
        å›º: ["å›ºæ­¥è‡ªå°"],
        ç„¶: ["ç„¶è»è¯»ä¹¦"],
        è´µ: ["è´µåœ¨åšæŒ"],
        è‹¦: ["è‹¦å°½ç”˜æ¥"],
        å±±: ["å±±æ¸…æ°´ç§€", "å±±é«˜æ°´é•¿"],
        å¿µ: ["å¿µå¿µä¸å¿˜"],
        å¼ƒ: ["å¼ƒæš—æŠ•æ˜"],
        é•³: ["é•³è·¯åˆ†æ˜"],
        è€: ["è€äººå¯»å‘³"],
        å‹¤: ["å‹¤èƒ½è¡¥æ‹™"],
        ç›®: ["ç›®ä¸æš‡æ¥"],
        æ€ª: ["æ€ªåŠ›ä¹±ç¥"],
        çŸ³: ["çŸ³ç ´å¤©æƒŠ"],
        ç«¹: ["ç«¹æŠ¥å¹³å®‰"],
        è¶³: ["è¶³æ™ºå¤šè°‹"],
        åš: ["åšå¾·è½½ç‰©"],
        è¦†: ["è¦†æ°´éš¾æ”¶"],
        ç¼: ["ç¼éš™æ±‚ç”Ÿ"],
        èˆŸ: ["èˆŸè½¦åŠ³é¡¿"],
        é™: ["é™è§‚å…¶å˜"],
        æ°‘: ["æ°‘ä»¥é£Ÿä¸ºå¤©"],
        æ™: ["æ™å¦‚ä¹Ÿ"],
        å¯: ["å¯æ­Œå¯æ³£"],
        æµ: ["æµèŠ³ç™¾ä¸–"],
        ä¹Ÿ: ["ä¹Ÿè®¸å¯èƒ½"],
        ä¸Š: ["ä¸Šå–„è‹¥æ°´"],
        è¥¿: ["è¥¿è£…é©å±¥"],
        éŸ³: ["éŸ³å®¹ç¬‘è²Œ"],
        äº‘: ["äº‘æ·¡é£è½»"],
        å†²: ["å†²é”‹é™·é˜µ"],
        é¡¶: ["é¡¶å¤©ç«‹åœ°"],
        ä¹: ["ä¹æ­¤ä¸ç–²"],
        é‡: ["é‡è¹ˆè¦†è¾™"],
        æ‰: ["æ‰ä»¥è½»å¿ƒ"],
        å† : ["å† å†•å ‚çš‡"],
        è‡³: ["è‡³é«˜æ— ä¸Š"],
        æ®: ["æ®ç†åŠ›äº‰"],
        å‡º: ["å‡ºç±»æ‹”èƒ"],
        è½: ["è½èŠ±æµæ°´"],
        ç›´: ["ç›´è¨€ä¸è®³"],
        å°: ["å°å®˜è®¸æ„¿"],
        ä¹¦: ["ä¹¦é¦™é—¨ç¬¬"],
        æŒ: ["æŒä¹‹ä»¥æ’"],
        æ¥: ["æ¥é¾™å»è„‰"],
        ç§€: ["ç§€å¤–æ…§ä¸­"],
        å¿˜: ["å¿˜æ©è´Ÿä¹‰"],
        å‘³: ["å‘³åŒåš¼èœ¡"],
        æ‹™: ["æ‹™å˜´ç¬¨èˆŒ"],
        æ¥: ["æ¥äºŒè¿ä¸‰"],
        ç¥: ["ç¥é‡‡å¥•å¥•"],
        æƒŠ: ["æƒŠå¤©åŠ¨åœ°"],
        ç‰©: ["ç‰©ç¾ä»·å»‰"],
        æ”¶: ["æ”¶æ”¾è‡ªå¦‚"],
        é¡¿: ["é¡¿é¦–å†æ‹œ"],
        å˜: ["å˜åŒ–è«æµ‹"],
        æ³£: ["æ³£è¡€ç¨½é¢¡"],
        ä¸–: ["ä¸–æ€ç‚å‡‰"],
        æ°´: ["æ°´ä¹³äº¤è"],
        å±¥: ["å±¥é™©å¦‚å¤·"],
        è²Œ: ["è²Œåˆç¥ç¦»"],
        è½»: ["è½»è€Œæ˜“ä¸¾"],
        é˜µ: ["é˜µè„šå¤§ä¹±"],
        åœ°: ["åœ°å¤§ç‰©åš"],
        ç–²: ["ç–²äºå¥”å‘½"],
        è¾™: ["è¾™ä¹±æ——é¡"],
        å¿ƒ: ["å¿ƒæ—·ç¥æ€¡", "å¿ƒæƒ³äº‹æˆ"],
        çš‡: ["çš‡å¤©ååœŸ"],
        äº‰: ["äº‰å…ˆæå"],
        èƒ: ["èƒèšä¸€å ‚"],
        è®³: ["è®³ç–¾å¿ŒåŒ»"],
        æ„¿: ["æ„¿æ‰“æ„¿æŒ¨"],
        ç¬¬: ["ç¬¬ä¸€æ—¶é—´"],
        æ’: ["æ’å¿ƒä¸å˜"],
        è„‰: ["è„‰ç»œåˆ†æ˜"],
        ä¸­: ["ä¸­æµç ¥æŸ±"],
        ä¹‰: ["ä¹‰æ— åé¡¾"],
        èœ¡: ["èœ¡çƒ›ç‡ƒå°½"],
        èˆŒ: ["èˆŒæˆ˜ç¾¤å„’"],
        ä¸‰: ["ä¸‰å¿ƒäºŒæ„", "ä¸‰é¡¾èŒ…åº"],
        å¥•: ["å¥•å¥•ç¥é‡‡"],
        å»‰: ["å»‰æ´å¥‰å…¬"],
        å¦‚: ["å¦‚é±¼å¾—æ°´", "å¦‚è™æ·»ç¿¼"],
        æ‹œ: ["æ‹œå€’çŸ³æ¦´"],
        æµ‹: ["æµ‹ç®—ç²¾å‡†"],
        é¢¡: ["é¢¡æ³šä¸å®‰"],
        å‡‰: ["å‡‰é£ä¹ ä¹ "],
        è: ["èä¼šè´¯é€š"],
        å¤·: ["å¤·ä¸ºå¹³åœ°"],
        ä¸¾: ["ä¸¾ä¸€åä¸‰"],
        åš: ["åšè§ˆç¾¤ä¹¦"],
        å‘½: ["å‘½ä¸­æ³¨å®š"],
        é¡: ["é¡é¡ä¹‹éŸ³"],
        æ€¡: ["æ€¡ç„¶è‡ªå¾—"],
        åœŸ: ["åœŸå´©ç“¦è§£"],
        åŒ»: ["åŒ»è€…ä»å¿ƒ"],
        æŒ¨: ["æŒ¨å®¶æŒ¨æˆ·"],
        é—´: ["é—´ä¸å®¹å‘"],
        æŸ±: ["æŸ±çŸ³ä¹‹åš"],
        é¡¾: ["é¡¾å…¨å¤§å±€"],
        å°½: ["å°½å–„å°½ç¾"],
        å„’: ["å„’é›…é£æµ"],
        åº: ["åºå±±çœŸé¢"],
        å…¬: ["å…¬æ­£æ— ç§"],
        ç¿¼: ["ç¿¼ç¿¼å°å¿ƒ"],
        æ¦´: ["æ¦´èŠ±ä¼¼ç«"],
        å‡†: ["å‡†ç¡®æ— è¯¯"],
        ä¹ : ["ä¹ ä»¥ä¸ºå¸¸"],
        é€š: ["é€šæƒ…è¾¾ç†"],
        ä¹¦: ["ä¹¦å£°ç…ç…"],
        å®š: ["å®šå›½å®‰é‚¦"],
        å¾—: ["å¾—æ„æ´‹æ´‹"],
        è§£: ["è§£å›Šç›¸åŠ©"]
      };

      let currentWord = "";
      let nextChar = "";
      let history = [];
      let score = 0;
      let combo = 0;

      function initGame() {
        const startWords = ["ä¸€å¿ƒä¸€æ„", "ä¸€å¸†é£é¡º", "å¿ƒæƒ³äº‹æˆ", "é£è°ƒé›¨é¡º"];
        currentWord = startWords[Math.floor(Math.random() * startWords.length)];
        nextChar = currentWord[currentWord.length - 1];
        history = [currentWord];
        score = 0;
        combo = 0;
        updateDisplay();
      }

      function updateDisplay() {
        document.getElementById("currentWord").textContent = currentWord;
        document.getElementById("nextChar").textContent = nextChar;
        document.getElementById("score").textContent = score;
        document.getElementById("combo").textContent = combo;
        document.getElementById("count").textContent = history.length;

        const historyList = document.getElementById("historyList");
        historyList.textContent = "";
        history.forEach(function (word) {
          const span = document.createElement("span");
          span.className = "history-item";
          span.textContent = word;
          historyList.appendChild(span);
        });
      }

      function showMessage(text, type) {
        const msg = document.getElementById("message");
        msg.textContent = text;
        msg.className = "message show " + type;
        setTimeout(function () {
          msg.classList.remove("show");
        }, 2000);
      }

      function validateIdiom(word) {
        // æ£€æŸ¥é•¿åº¦
        if (word.length !== 4) {
          return { valid: false, message: "æˆè¯­åº”ä¸ºå››ä¸ªå­—" };
        }

        // æ£€æŸ¥é¦–å­—
        if (word[0] !== nextChar) {
          return { valid: false, message: "æˆè¯­é¦–å­—åº”ä¸ºã€Œ" + nextChar + "ã€" };
        }

        // æ£€æŸ¥æ˜¯å¦å·²ç”¨è¿‡
        if (history.includes(word)) {
          return { valid: false, message: "è¿™ä¸ªæˆè¯­å·²ç»ç”¨è¿‡äº†" };
        }

        // æ£€æŸ¥æ˜¯å¦åœ¨åº“ä¸­ï¼ˆæˆ–æ¥å—ç”¨æˆ·è¾“å…¥ï¼‰
        const charIdioms = idioms[nextChar] || [];
        if (!charIdioms.includes(word)) {
          // å®½æ¾æ¨¡å¼ï¼šå…è®¸ç”¨æˆ·è¾“å…¥çš„æˆè¯­
          return { valid: true, message: "æ¥é¾™æˆåŠŸï¼" };
        }

        return { valid: true, message: "æ¥é¾™æˆåŠŸï¼" };
      }

      function submitWord() {
        const input = document.getElementById("inputField");
        const word = input.value.trim();

        if (!word) {
          showMessage("è¯·è¾“å…¥æˆè¯­", "error");
          return;
        }

        const result = validateIdiom(word);

        if (result.valid) {
          currentWord = word;
          nextChar = word[word.length - 1];
          history.push(word);
          combo++;
          score += 10 * combo;
          showMessage(result.message + " +" + 10 * combo + "åˆ†", "success");
          input.value = "";
          updateDisplay();
        } else {
          combo = 0;
          showMessage(result.message, "error");
          updateDisplay();
        }
      }

      function getHint() {
        const hints = idioms[nextChar];
        if (hints && hints.length > 0) {
          const availableHints = hints.filter(function (h) {
            return !history.includes(h);
          });
          if (availableHints.length > 0) {
            const hint = availableHints[Math.floor(Math.random() * availableHints.length)];
            showMessage("æç¤º: " + hint[0] + hint[1] + "â—‹â—‹", "success");
            score = Math.max(0, score - 5);
            updateDisplay();
          } else {
            showMessage("æ²¡æœ‰æ›´å¤šæç¤ºäº†", "error");
          }
        } else {
          showMessage("æš‚æ— æç¤º", "error");
        }
      }

      function resetGame() {
        initGame();
        document.getElementById("inputField").value = "";
        showMessage("æ¸¸æˆå·²é‡ç½®", "success");
      }

      document.getElementById("inputField").addEventListener("keypress", function (e) {
        if (e.key === "Enter") {
          submitWord();
        }
      });

      function toggleTheme() {
        const current = document.body.getAttribute("data-theme");
        const next = current === "light" ? "dark" : "light";
        document.body.setAttribute("data-theme", next);
        localStorage.setItem("theme", next);
      }

      document.body.setAttribute("data-theme", localStorage.getItem("theme") || "dark");
      initGame();
    </script>
  </body>
</html>
