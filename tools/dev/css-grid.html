<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS Grid ÁîüÊàêÂô®</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">
    <style>
        :root {
            --grid-gap: 10px;
            --cell-bg: #e3f2fd;
            --cell-border: #2196f3;
            --selected-bg: #bbdefb;
        }
        [data-theme="dark"] {
            --cell-bg: #1e3a5f;
            --cell-border: #64b5f6;
            --selected-bg: #0d47a1;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        @media (max-width: 1024px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
        }
        .controls-panel {
            padding: 20px;
            border-radius: 8px;
            background: var(--pico-card-background-color);
        }
        .control-group {
            margin-bottom: 20px;
        }
        .control-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }
        .slider-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .slider-container input[type="range"] {
            flex: 1;
        }
        .slider-value {
            min-width: 40px;
            text-align: center;
            font-weight: bold;
        }
        .presets-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }
        .preset-btn {
            padding: 10px;
            border: 2px solid var(--pico-primary);
            border-radius: 8px;
            background: transparent;
            cursor: pointer;
            transition: all 0.3s;
        }
        .preset-btn:hover {
            background: var(--pico-primary);
            color: white;
        }
        .preset-btn.active {
            background: var(--pico-primary);
            color: white;
        }
        .preview-area {
            min-height: 400px;
            border: 2px dashed var(--pico-muted-border-color);
            border-radius: 8px;
            padding: 20px;
        }
        .grid-preview {
            display: grid;
            gap: var(--grid-gap);
            min-height: 350px;
            padding: 10px;
            background: var(--pico-card-background-color);
            border-radius: 8px;
        }
        .grid-cell {
            background: var(--cell-bg);
            border: 2px solid var(--cell-border);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            min-height: 60px;
            font-weight: bold;
        }
        .grid-cell:hover {
            transform: scale(1.02);
        }
        .grid-cell.selected {
            background: var(--selected-bg);
            border-width: 3px;
        }
        .cell-editor {
            margin-top: 20px;
            padding: 15px;
            background: var(--pico-card-background-color);
            border-radius: 8px;
        }
        .cell-editor h4 {
            margin-bottom: 15px;
        }
        .cell-controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        .code-output {
            margin-top: 20px;
        }
        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            overflow-x: auto;
            white-space: pre-wrap;
            word-break: break-all;
        }
        .copy-btn {
            margin-top: 10px;
        }
        .theme-toggle {
            cursor: pointer;
            background: none;
            border: none;
            font-size: 24px;
        }
        .gap-control {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        .template-input {
            margin-top: 10px;
        }
        .custom-template {
            display: grid;
            gap: 10px;
            margin-top: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>CSS Grid ÁîüÊàêÂô®</h1>
            <button class="theme-toggle" onclick="toggleTheme()" title="ÂàáÊç¢‰∏ªÈ¢ò">üåì</button>
        </div>

        <div class="main-grid">
            <div class="controls-panel">
                <div class="control-group">
                    <label>È¢ÑËÆæÊ®°Êùø</label>
                    <div class="presets-grid">
                        <button class="preset-btn" onclick="applyPreset('basic', this)">Âü∫Á°ÄÁΩëÊ†º</button>
                        <button class="preset-btn" onclick="applyPreset('holy-grail', this)">Âú£ÊùØÂ∏ÉÂ±Ä</button>
                        <button class="preset-btn" onclick="applyPreset('sidebar', this)">‰æßËæπÊ†è</button>
                        <button class="preset-btn" onclick="applyPreset('card-grid', this)">Âç°ÁâáÁΩëÊ†º</button>
                        <button class="preset-btn" onclick="applyPreset('dashboard', this)">‰ª™Ë°®Áõò</button>
                        <button class="preset-btn" onclick="applyPreset('gallery', this)">ÂõæÁâáÁîªÂªä</button>
                    </div>
                </div>

                <div class="control-group">
                    <label>ÂàóÊï∞: <span id="colsValue">3</span></label>
                    <div class="slider-container">
                        <input type="range" id="cols" min="1" max="12" value="3" oninput="updateGrid()">
                    </div>
                </div>

                <div class="control-group">
                    <label>Ë°åÊï∞: <span id="rowsValue">3</span></label>
                    <div class="slider-container">
                        <input type="range" id="rows" min="1" max="12" value="3" oninput="updateGrid()">
                    </div>
                </div>

                <div class="control-group">
                    <label>Èó¥Ë∑ù (gap): <span id="gapValue">10</span>px</label>
                    <div class="slider-container">
                        <input type="range" id="gap" min="0" max="50" value="10" oninput="updateGrid()">
                    </div>
                </div>

                <div class="control-group">
                    <label>ÂàóÊ®°Êùø (grid-template-columns)</label>
                    <input type="text" id="colTemplate" value="1fr 1fr 1fr" class="template-input" oninput="updateGridFromTemplate()">
                </div>

                <div class="control-group">
                    <label>Ë°åÊ®°Êùø (grid-template-rows)</label>
                    <input type="text" id="rowTemplate" value="1fr 1fr 1fr" class="template-input" oninput="updateGridFromTemplate()">
                </div>

                <div class="cell-editor" id="cellEditor" style="display: none;">
                    <h4>ÂçïÂÖÉÊ†ºÁºñËæë: <span id="selectedCellName">Cell 1</span></h4>
                    <div class="cell-controls">
                        <div>
                            <label>grid-column-start</label>
                            <input type="number" id="colStart" min="1" max="13" value="1" onchange="updateCellSpan()">
                        </div>
                        <div>
                            <label>grid-column-end</label>
                            <input type="number" id="colEnd" min="1" max="13" value="2" onchange="updateCellSpan()">
                        </div>
                        <div>
                            <label>grid-row-start</label>
                            <input type="number" id="rowStart" min="1" max="13" value="1" onchange="updateCellSpan()">
                        </div>
                        <div>
                            <label>grid-row-end</label>
                            <input type="number" id="rowEnd" min="1" max="13" value="2" onchange="updateCellSpan()">
                        </div>
                    </div>
                </div>
            </div>

            <div class="preview-area">
                <h3>È¢ÑËßà</h3>
                <div class="grid-preview" id="gridPreview"></div>

                <div class="code-output">
                    <h3>CSS ‰ª£Á†Å</h3>
                    <div class="code-block" id="codeOutput"></div>
                    <button class="copy-btn" onclick="copyCode()">Â§çÂà∂‰ª£Á†Å</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let gridState = {
            cols: 3,
            rows: 3,
            gap: 10,
            colTemplate: '1fr 1fr 1fr',
            rowTemplate: '1fr 1fr 1fr',
            cells: [],
            selectedCell: null
        };

        function initGrid() {
            const totalCells = gridState.cols * gridState.rows;
            gridState.cells = [];
            for (let i = 0; i < totalCells; i++) {
                gridState.cells.push({
                    id: i + 1,
                    colStart: null,
                    colEnd: null,
                    rowStart: null,
                    rowEnd: null
                });
            }
            renderGrid();
        }

        function renderGrid() {
            const preview = document.getElementById('gridPreview');
            preview.style.gridTemplateColumns = gridState.colTemplate;
            preview.style.gridTemplateRows = gridState.rowTemplate;
            preview.style.gap = gridState.gap + 'px';
            
            while (preview.firstChild) {
                preview.removeChild(preview.firstChild);
            }
            
            gridState.cells.forEach((cell, index) => {
                const div = document.createElement('div');
                div.className = 'grid-cell';
                div.textContent = cell.id;
                div.addEventListener('click', () => selectCell(index));
                
                if (cell.colStart) div.style.gridColumnStart = cell.colStart;
                if (cell.colEnd) div.style.gridColumnEnd = cell.colEnd;
                if (cell.rowStart) div.style.gridRowStart = cell.rowStart;
                if (cell.rowEnd) div.style.gridRowEnd = cell.rowEnd;
                
                if (gridState.selectedCell === index) {
                    div.classList.add('selected');
                }
                
                preview.appendChild(div);
            });
            
            generateCode();
        }

        function updateGrid() {
            gridState.cols = parseInt(document.getElementById('cols').value);
            gridState.rows = parseInt(document.getElementById('rows').value);
            gridState.gap = parseInt(document.getElementById('gap').value);
            
            document.getElementById('colsValue').textContent = gridState.cols;
            document.getElementById('rowsValue').textContent = gridState.rows;
            document.getElementById('gapValue').textContent = gridState.gap;
            
            gridState.colTemplate = Array(gridState.cols).fill('1fr').join(' ');
            gridState.rowTemplate = Array(gridState.rows).fill('1fr').join(' ');
            
            document.getElementById('colTemplate').value = gridState.colTemplate;
            document.getElementById('rowTemplate').value = gridState.rowTemplate;
            
            initGrid();
        }

        function updateGridFromTemplate() {
            gridState.colTemplate = document.getElementById('colTemplate').value;
            gridState.rowTemplate = document.getElementById('rowTemplate').value;
            renderGrid();
        }

        function selectCell(index) {
            gridState.selectedCell = index;
            const cell = gridState.cells[index];
            
            document.getElementById('cellEditor').style.display = 'block';
            document.getElementById('selectedCellName').textContent = 'Cell ' + cell.id;
            document.getElementById('colStart').value = cell.colStart || '';
            document.getElementById('colEnd').value = cell.colEnd || '';
            document.getElementById('rowStart').value = cell.rowStart || '';
            document.getElementById('rowEnd').value = cell.rowEnd || '';
            
            renderGrid();
        }

        function updateCellSpan() {
            if (gridState.selectedCell === null) return;
            
            const cell = gridState.cells[gridState.selectedCell];
            const colStart = document.getElementById('colStart').value;
            const colEnd = document.getElementById('colEnd').value;
            const rowStart = document.getElementById('rowStart').value;
            const rowEnd = document.getElementById('rowEnd').value;
            
            cell.colStart = colStart ? parseInt(colStart) : null;
            cell.colEnd = colEnd ? parseInt(colEnd) : null;
            cell.rowStart = rowStart ? parseInt(rowStart) : null;
            cell.rowEnd = rowEnd ? parseInt(rowEnd) : null;
            
            renderGrid();
        }

        function applyPreset(preset, btn) {
            document.querySelectorAll('.preset-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            
            switch(preset) {
                case 'basic':
                    gridState.cols = 3;
                    gridState.rows = 3;
                    gridState.colTemplate = '1fr 1fr 1fr';
                    gridState.rowTemplate = '1fr 1fr 1fr';
                    gridState.cells = [];
                    for (let i = 0; i < 9; i++) {
                        gridState.cells.push({ id: i + 1, colStart: null, colEnd: null, rowStart: null, rowEnd: null });
                    }
                    break;
                    
                case 'holy-grail':
                    gridState.colTemplate = '200px 1fr 200px';
                    gridState.rowTemplate = '80px 1fr 60px';
                    gridState.cells = [
                        { id: 'Header', colStart: 1, colEnd: 4, rowStart: 1, rowEnd: 2 },
                        { id: 'Nav', colStart: 1, colEnd: 2, rowStart: 2, rowEnd: 3 },
                        { id: 'Main', colStart: 2, colEnd: 3, rowStart: 2, rowEnd: 3 },
                        { id: 'Aside', colStart: 3, colEnd: 4, rowStart: 2, rowEnd: 3 },
                        { id: 'Footer', colStart: 1, colEnd: 4, rowStart: 3, rowEnd: 4 }
                    ];
                    break;
                    
                case 'sidebar':
                    gridState.colTemplate = '250px 1fr';
                    gridState.rowTemplate = '60px 1fr';
                    gridState.cells = [
                        { id: 'Header', colStart: 1, colEnd: 3, rowStart: 1, rowEnd: 2 },
                        { id: 'Sidebar', colStart: 1, colEnd: 2, rowStart: 2, rowEnd: 3 },
                        { id: 'Content', colStart: 2, colEnd: 3, rowStart: 2, rowEnd: 3 }
                    ];
                    break;
                    
                case 'card-grid':
                    gridState.colTemplate = 'repeat(auto-fit, minmax(250px, 1fr))';
                    gridState.rowTemplate = 'auto';
                    gridState.cells = [];
                    for (let i = 0; i < 6; i++) {
                        gridState.cells.push({ id: 'Card ' + (i + 1), colStart: null, colEnd: null, rowStart: null, rowEnd: null });
                    }
                    break;
                    
                case 'dashboard':
                    gridState.colTemplate = 'repeat(4, 1fr)';
                    gridState.rowTemplate = 'auto 1fr 1fr';
                    gridState.cells = [
                        { id: 'Stat 1', colStart: 1, colEnd: 2, rowStart: 1, rowEnd: 2 },
                        { id: 'Stat 2', colStart: 2, colEnd: 3, rowStart: 1, rowEnd: 2 },
                        { id: 'Stat 3', colStart: 3, colEnd: 4, rowStart: 1, rowEnd: 2 },
                        { id: 'Stat 4', colStart: 4, colEnd: 5, rowStart: 1, rowEnd: 2 },
                        { id: 'Chart', colStart: 1, colEnd: 3, rowStart: 2, rowEnd: 4 },
                        { id: 'List', colStart: 3, colEnd: 5, rowStart: 2, rowEnd: 3 },
                        { id: 'Table', colStart: 3, colEnd: 5, rowStart: 3, rowEnd: 4 }
                    ];
                    break;
                    
                case 'gallery':
                    gridState.colTemplate = 'repeat(3, 1fr)';
                    gridState.rowTemplate = 'repeat(3, 1fr)';
                    gridState.cells = [
                        { id: 'Big', colStart: 1, colEnd: 3, rowStart: 1, rowEnd: 3 },
                        { id: 'Small 1', colStart: 3, colEnd: 4, rowStart: 1, rowEnd: 2 },
                        { id: 'Small 2', colStart: 3, colEnd: 4, rowStart: 2, rowEnd: 3 },
                        { id: 'Wide', colStart: 1, colEnd: 4, rowStart: 3, rowEnd: 4 }
                    ];
                    break;
            }
            
            document.getElementById('colTemplate').value = gridState.colTemplate;
            document.getElementById('rowTemplate').value = gridState.rowTemplate;
            
            gridState.selectedCell = null;
            document.getElementById('cellEditor').style.display = 'none';
            renderGrid();
        }

        function generateCode() {
            let css = '.grid-container {\n';
            css += '  display: grid;\n';
            css += '  grid-template-columns: ' + gridState.colTemplate + ';\n';
            css += '  grid-template-rows: ' + gridState.rowTemplate + ';\n';
            css += '  gap: ' + gridState.gap + 'px;\n';
            css += '}\n';
            
            gridState.cells.forEach((cell, index) => {
                if (cell.colStart || cell.colEnd || cell.rowStart || cell.rowEnd) {
                    css += '\n.item-' + (index + 1) + ' {\n';
                    if (cell.colStart) css += '  grid-column-start: ' + cell.colStart + ';\n';
                    if (cell.colEnd) css += '  grid-column-end: ' + cell.colEnd + ';\n';
                    if (cell.rowStart) css += '  grid-row-start: ' + cell.rowStart + ';\n';
                    if (cell.rowEnd) css += '  grid-row-end: ' + cell.rowEnd + ';\n';
                    css += '}';
                }
            });
            
            document.getElementById('codeOutput').textContent = css;
        }

        function copyCode() {
            const code = document.getElementById('codeOutput').textContent;
            navigator.clipboard.writeText(code).then(() => {
                const btn = document.querySelector('.copy-btn');
                btn.textContent = 'Â∑≤Â§çÂà∂!';
                setTimeout(() => {
                    btn.textContent = 'Â§çÂà∂‰ª£Á†Å';
                }, 2000);
            });
        }

        function toggleTheme() {
            const html = document.documentElement;
            const currentTheme = html.getAttribute('data-theme');
            html.setAttribute('data-theme', currentTheme === 'light' ? 'dark' : 'light');
        }

        initGrid();
    </script>
</body>
</html>
