<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GitHub Actions ç”Ÿæˆå™¨ - WebUtils</title>
  <!-- SEO Meta Tags -->
  <meta name="description" content="å¯è§†åŒ–ç”Ÿæˆ GitHub Actions å·¥ä½œæµé…ç½®ï¼Œæ”¯æŒå¤šç§ CI/CD æ¨¡æ¿" />
  <meta name="keywords" content="github actions workflow ci cd è‡ªåŠ¨åŒ– éƒ¨ç½² æµ‹è¯• yaml ç”Ÿæˆå™¨" />
  <meta name="author" content="WebUtils" />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href="https://tools.realtime-ai.chat/tools/dev/github-actions-generator.html" />
  
  <!-- Open Graph -->
  <meta property="og:title" content="GitHub Actions ç”Ÿæˆå™¨ - WebUtils" />
  <meta property="og:description" content="å¯è§†åŒ–ç”Ÿæˆ GitHub Actions å·¥ä½œæµé…ç½®ï¼Œæ”¯æŒå¤šç§ CI/CD æ¨¡æ¿" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://tools.realtime-ai.chat/tools/dev/github-actions-generator.html" />
  <meta property="og:site_name" content="WebUtils" />
  <meta property="og:locale" content="zh_CN" />
  
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="GitHub Actions ç”Ÿæˆå™¨ - WebUtils" />
  <meta name="twitter:description" content="å¯è§†åŒ–ç”Ÿæˆ GitHub Actions å·¥ä½œæµé…ç½®ï¼Œæ”¯æŒå¤šç§ CI/CD æ¨¡æ¿" />

  <style>
    :root {
      --bg: #f8f9fa;
      --card-bg: #fff;
      --text: #212529;
      --text-muted: #6c757d;
      --border: #dee2e6;
      --primary: #0d6efd;
      --primary-hover: #0b5ed7;
      --success: #198754;
      --danger: #dc3545;
      --shadow: 0 2px 8px rgb(0 0 0 / 8%);
      --radius: 8px;
    }
    [data-theme="dark"] {
      --bg: #0a0a0f;
      --card-bg: #1a1a24;
      --text: #e8e8ed;
      --text-muted: #8888a0;
      --border: #2a2a3a;
      --shadow: 0 2px 8px rgb(0 0 0 / 30%);
    }
    .theme-toggle {
      position: fixed;
      top: 1rem;
      right: 1rem;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: 1px solid var(--border);
      background: var(--card-bg);
      cursor: pointer;
      font-size: 1.2rem;
      z-index: 100;
      transition: all 0.2s;
    }
    .theme-toggle:hover {
      transform: scale(1.1);
    }
    * { box-sizing: border-box; }

    body {
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
      background: var(--bg);
      color: var(--text);
      margin: 0;
      padding: 24px;
      min-height: 100vh;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .back-link {
      display: inline-block;
      margin-bottom: 16px;
      color: var(--primary);
      text-decoration: none;
      font-size: 0.9rem;
    }

    .back-link:hover {
      text-decoration: underline;
    }

    h1 {
      font-size: 1.75rem;
      margin: 0 0 8px;
    }

    .desc {
      color: var(--text-muted);
      margin: 0 0 24px;
      font-size: 0.95rem;
    }

    .card {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow);
      margin-bottom: 20px;
    }

    .main-layout {
      display: grid;
      grid-template-columns: 380px 1fr;
      gap: 20px;
    }

    @media (width <= 900px) {
      .main-layout {
        grid-template-columns: 1fr;
      }
    }

    .form-section {
      margin-bottom: 24px;
    }

    .form-section h3 {
      font-size: 0.95rem;
      margin: 0 0 16px;
      color: var(--text);
      border-bottom: 1px solid var(--border);
      padding-bottom: 8px;
    }

    .form-group {
      margin-bottom: 16px;
    }

    .form-group label {
      display: block;
      font-size: 0.85rem;
      color: var(--text-muted);
      margin-bottom: 6px;
    }

    .form-group select,
    .form-group input {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      background: var(--card-bg);
      color: var(--text);
      font-size: 0.9rem;
    }

    .form-group select:focus,
    .form-group input:focus {
      outline: none;
      border-color: var(--primary);
    }

    .checkbox-group {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .checkbox-item {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 0.85rem;
    }

    .checkbox-item input[type="checkbox"] {
      width: 16px;
      height: 16px;
    }

    .templates {
      margin-bottom: 24px;
    }

    .template-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
    }

    .template-btn {
      padding: 12px;
      font-size: 0.8rem;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      background: var(--card-bg);
      color: var(--text);
      cursor: pointer;
      transition: all 0.2s;
      text-align: left;
    }

    .template-btn:hover {
      border-color: var(--primary);
      color: var(--primary);
    }

    .template-btn.active {
      border-color: var(--primary);
      background: var(--primary);
      color: #fff;
    }

    .template-btn .icon {
      font-size: 1.3rem;
      margin-bottom: 6px;
      display: block;
    }

    .template-btn .name {
      font-weight: 600;
      display: block;
      margin-bottom: 2px;
    }

    .template-btn .desc {
      font-size: 0.75rem;
      color: var(--text-muted);
      margin: 0;
    }

    .template-btn.active .desc {
      color: rgba(255,255,255,0.8);
    }

    .output-section h3 {
      font-size: 0.95rem;
      margin: 0 0 12px;
      color: var(--text);
    }

    .btn-row {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      margin-bottom: 16px;
    }

    button {
      padding: 10px 16px;
      font-size: 0.95rem;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      background: var(--card-bg);
      color: var(--text);
      cursor: pointer;
      transition: all 0.2s;
    }

    button:hover {
      border-color: var(--primary);
      color: var(--primary);
    }

    button.primary {
      background: var(--primary);
      border-color: var(--primary);
      color: #fff;
    }

    button.primary:hover {
      background: var(--primary-hover);
      border-color: var(--primary-hover);
      color: #fff;
    }

    .code-block {
      background: #1a1a2e;
      color: #e8e8ed;
      padding: 16px;
      border-radius: var(--radius);
      font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, monospace;
      font-size: 0.8rem;
      overflow-x: auto;
      white-space: pre;
      line-height: 1.5;
      min-height: 400px;
      max-height: 600px;
      overflow-y: auto;
    }

    [data-theme="light"] .code-block {
      background: #f5f5f5;
      color: #333;
    }

    .status {
      font-size: 0.85rem;
      margin-top: 12px;
      min-height: 20px;
    }

    .status.success {
      color: var(--success);
    }

    .status.error {
      color: var(--danger);
    }

    footer {
      text-align: center;
      margin-top: 32px;
      padding-top: 16px;
      border-top: 1px solid var(--border);
      color: var(--text-muted);
      font-size: 0.85rem;
    }

    footer a {
      color: var(--primary);
      text-decoration: none;
    }

    footer a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <div class="container">
    <a href="../../index.html" class="back-link">â† è¿”å›å·¥å…·åˆ—è¡¨</a>
    <button class="theme-toggle" onclick="toggleTheme()" title="åˆ‡æ¢ä¸»é¢˜">â˜€ï¸</button>
    <h1>GitHub Actions ç”Ÿæˆå™¨</h1>
    <p class="desc">å¯è§†åŒ–ç”Ÿæˆ GitHub Actions å·¥ä½œæµé…ç½®ï¼Œæ”¯æŒå¤šç§ CI/CD åœºæ™¯</p>

    <div class="card">
      <div class="main-layout">
        <div class="config-panel">
          <div class="templates">
            <h3>é€‰æ‹©æ¨¡æ¿</h3>
            <div class="template-grid">
              <button class="template-btn active" data-template="node-ci">
                <span class="icon">ğŸ“¦</span>
                <span class="name">Node.js CI</span>
                <p class="desc">æµ‹è¯• + æ„å»º + ç¼“å­˜</p>
              </button>
              <button class="template-btn" data-template="python-ci">
                <span class="icon">ğŸ</span>
                <span class="name">Python CI</span>
                <p class="desc">Pytest + å¤šç‰ˆæœ¬æµ‹è¯•</p>
              </button>
              <button class="template-btn" data-template="docker-build">
                <span class="icon">ğŸ³</span>
                <span class="name">Docker Build</span>
                <p class="desc">æ„å»ºå¹¶æ¨é€é•œåƒ</p>
              </button>
              <button class="template-btn" data-template="deploy-pages">
                <span class="icon">ğŸŒ</span>
                <span class="name">Deploy Pages</span>
                <p class="desc">éƒ¨ç½²åˆ° GitHub Pages</p>
              </button>
              <button class="template-btn" data-template="release">
                <span class="icon">ğŸ·ï¸</span>
                <span class="name">Auto Release</span>
                <p class="desc">è‡ªåŠ¨åˆ›å»º Release</p>
              </button>
              <button class="template-btn" data-template="lint">
                <span class="icon">ğŸ”</span>
                <span class="name">Lint & Format</span>
                <p class="desc">ä»£ç æ£€æŸ¥å’Œæ ¼å¼åŒ–</p>
              </button>
            </div>
          </div>

          <div class="form-section">
            <h3>åŸºç¡€é…ç½®</h3>
            
            <div class="form-group">
              <label>å·¥ä½œæµåç§°</label>
              <input type="text" id="workflowName" value="CI" />
            </div>

            <div class="form-group">
              <label>è§¦å‘åˆ†æ”¯</label>
              <input type="text" id="branches" value="main, master" placeholder="main, develop" />
            </div>

            <div class="form-group">
              <label>Node.js ç‰ˆæœ¬ï¼ˆå¤šç‰ˆæœ¬ç”¨é€—å·åˆ†éš”ï¼‰</label>
              <input type="text" id="nodeVersions" value="18, 20" />
            </div>

            <div class="form-group">
              <label>è¿è¡Œç¯å¢ƒ</label>
              <select id="runsOn">
                <option value="ubuntu-latest">ubuntu-latest</option>
                <option value="ubuntu-22.04">ubuntu-22.04</option>
                <option value="ubuntu-20.04">ubuntu-20.04</option>
                <option value="macos-latest">macos-latest</option>
                <option value="windows-latest">windows-latest</option>
              </select>
            </div>
          </div>

          <div class="form-section">
            <h3>å¯é€‰æ­¥éª¤</h3>
            <div class="checkbox-group">
              <label class="checkbox-item">
                <input type="checkbox" id="enableCache" checked />
                å¯ç”¨ä¾èµ–ç¼“å­˜
              </label>
              <label class="checkbox-item">
                <input type="checkbox" id="enableLint" checked />
                è¿è¡Œ Lint æ£€æŸ¥
              </label>
              <label class="checkbox-item">
                <input type="checkbox" id="enableTest" checked />
                è¿è¡Œæµ‹è¯•
              </label>
              <label class="checkbox-item">
                <input type="checkbox" id="enableBuild" checked />
                è¿è¡Œæ„å»º
              </label>
              <label class="checkbox-item">
                <input type="checkbox" id="enableCoverage" />
                ä¸Šä¼ æµ‹è¯•è¦†ç›–ç‡
              </label>
              <label class="checkbox-item">
                <input type="checkbox" id="enableArtifact" />
                ä¸Šä¼ æ„å»ºäº§ç‰©
              </label>
            </div>
          </div>
        </div>

        <div class="output-panel">
          <div class="output-section">
            <h3>ç”Ÿæˆçš„å·¥ä½œæµé…ç½®</h3>
            <div class="btn-row">
              <button class="primary" id="btnGenerate">ç”Ÿæˆ</button>
              <button id="btnCopy">å¤åˆ¶</button>
              <button id="btnDownload">ä¸‹è½½</button>
              <button id="btnShare">åˆ†äº«</button>
            </div>
            <div class="code-block" id="output"># é€‰æ‹©æ¨¡æ¿åç‚¹å‡»"ç”Ÿæˆ"</div>
            <div id="status" class="status"></div>
          </div>
        </div>
      </div>
    </div>

    <footer>
      <a href="https://github.com/chicogong/html-tools" target="_blank" rel="noreferrer">GitHub</a>
      Â· çº¯å‰ç«¯å·¥å…· Â· æ— æœåŠ¡å™¨ Â· 
      <a href="../../index.html">WebUtils</a>
    </footer>
  </div>

  <script>
    var workflowNameEl = document.getElementById('workflowName');
    var branchesEl = document.getElementById('branches');
    var nodeVersionsEl = document.getElementById('nodeVersions');
    var runsOnEl = document.getElementById('runsOn');
    var enableCacheEl = document.getElementById('enableCache');
    var enableLintEl = document.getElementById('enableLint');
    var enableTestEl = document.getElementById('enableTest');
    var enableBuildEl = document.getElementById('enableBuild');
    var enableCoverageEl = document.getElementById('enableCoverage');
    var enableArtifactEl = document.getElementById('enableArtifact');
    var outputEl = document.getElementById('output');
    var statusEl = document.getElementById('status');

    var currentTemplate = 'node-ci';

    var templates = {
      'node-ci': {
        name: 'CI',
        branches: 'main, master',
        nodeVersions: '18, 20',
        cache: true,
        lint: true,
        test: true,
        build: true,
        coverage: false,
        artifact: false
      },
      'python-ci': {
        name: 'Python CI',
        branches: 'main, master',
        nodeVersions: '3.10, 3.11, 3.12',
        cache: true,
        lint: true,
        test: true,
        build: false,
        coverage: true,
        artifact: false
      },
      'docker-build': {
        name: 'Docker Build',
        branches: 'main',
        nodeVersions: '',
        cache: false,
        lint: false,
        test: false,
        build: true,
        coverage: false,
        artifact: false
      },
      'deploy-pages': {
        name: 'Deploy to GitHub Pages',
        branches: 'main',
        nodeVersions: '20',
        cache: true,
        lint: false,
        test: false,
        build: true,
        coverage: false,
        artifact: false
      },
      'release': {
        name: 'Release',
        branches: '',
        nodeVersions: '20',
        cache: true,
        lint: false,
        test: true,
        build: true,
        coverage: false,
        artifact: true
      },
      'lint': {
        name: 'Lint',
        branches: 'main, master',
        nodeVersions: '20',
        cache: true,
        lint: true,
        test: false,
        build: false,
        coverage: false,
        artifact: false
      }
    };

    function applyTemplate(name) {
      currentTemplate = name;
      var t = templates[name];
      if (!t) return;
      
      workflowNameEl.value = t.name;
      branchesEl.value = t.branches;
      nodeVersionsEl.value = t.nodeVersions;
      enableCacheEl.checked = t.cache;
      enableLintEl.checked = t.lint;
      enableTestEl.checked = t.test;
      enableBuildEl.checked = t.build;
      enableCoverageEl.checked = t.coverage;
      enableArtifactEl.checked = t.artifact;
      
      document.querySelectorAll('.template-btn').forEach(function(btn) {
        btn.classList.toggle('active', btn.dataset.template === name);
      });
      
      generate();
    }

    window.generate = function() {
      var name = workflowNameEl.value || 'CI';
      var branches = branchesEl.value.split(',').map(function(b) { return b.trim(); }).filter(Boolean);
      var versions = nodeVersionsEl.value.split(',').map(function(v) { return v.trim(); }).filter(Boolean);
      var runsOn = runsOnEl.value;
      var enableCache = enableCacheEl.checked;
      var enableLint = enableLintEl.checked;
      var enableTest = enableTestEl.checked;
      var enableBuild = enableBuildEl.checked;
      var enableCoverage = enableCoverageEl.checked;
      var enableArtifact = enableArtifactEl.checked;

      var isPython = currentTemplate === 'python-ci';
      var isDocker = currentTemplate === 'docker-build';
      var isPages = currentTemplate === 'deploy-pages';
      var isRelease = currentTemplate === 'release';

      var lines = [];
      
      lines.push('name: ' + name);
      lines.push('');
      lines.push('on:');
      
      if (isRelease) {
        lines.push('  push:');
        lines.push('    tags:');
        lines.push('      - "v*"');
      } else if (branches.length > 0) {
        lines.push('  push:');
        lines.push('    branches: [' + branches.join(', ') + ']');
        lines.push('  pull_request:');
        lines.push('    branches: [' + branches.join(', ') + ']');
      } else {
        lines.push('  push:');
        lines.push('  pull_request:');
      }

      if (isPages) {
        lines.push('  workflow_dispatch:');
        lines.push('');
        lines.push('permissions:');
        lines.push('  contents: read');
        lines.push('  pages: write');
        lines.push('  id-token: write');
        lines.push('');
        lines.push('concurrency:');
        lines.push('  group: "pages"');
        lines.push('  cancel-in-progress: false');
      }

      lines.push('');
      lines.push('jobs:');

      if (isDocker) {
        // Docker build workflow
        lines.push('  build:');
        lines.push('    runs-on: ' + runsOn);
        lines.push('    steps:');
        lines.push('      - name: Checkout');
        lines.push('        uses: actions/checkout@v4');
        lines.push('');
        lines.push('      - name: Set up Docker Buildx');
        lines.push('        uses: docker/setup-buildx-action@v3');
        lines.push('');
        lines.push('      - name: Login to Docker Hub');
        lines.push('        uses: docker/login-action@v3');
        lines.push('        with:');
        lines.push('          username: ${{ secrets.DOCKERHUB_USERNAME }}');
        lines.push('          password: ${{ secrets.DOCKERHUB_TOKEN }}');
        lines.push('');
        lines.push('      - name: Build and push');
        lines.push('        uses: docker/build-push-action@v5');
        lines.push('        with:');
        lines.push('          context: .');
        lines.push('          push: true');
        lines.push('          tags: |');
        lines.push('            ${{ secrets.DOCKERHUB_USERNAME }}/app:latest');
        lines.push('            ${{ secrets.DOCKERHUB_USERNAME }}/app:${{ github.sha }}');
        lines.push('          cache-from: type=gha');
        lines.push('          cache-to: type=gha,mode=max');
      } else if (isPages) {
        // GitHub Pages deployment
        lines.push('  build:');
        lines.push('    runs-on: ' + runsOn);
        lines.push('    steps:');
        lines.push('      - name: Checkout');
        lines.push('        uses: actions/checkout@v4');
        lines.push('');
        if (versions.length > 0) {
          lines.push('      - name: Setup Node.js');
          lines.push('        uses: actions/setup-node@v4');
          lines.push('        with:');
          lines.push('          node-version: ' + versions[0]);
          if (enableCache) {
            lines.push('          cache: npm');
          }
          lines.push('');
          lines.push('      - name: Install dependencies');
          lines.push('        run: npm ci');
          lines.push('');
          lines.push('      - name: Build');
          lines.push('        run: npm run build');
          lines.push('');
        }
        lines.push('      - name: Setup Pages');
        lines.push('        uses: actions/configure-pages@v4');
        lines.push('');
        lines.push('      - name: Upload artifact');
        lines.push('        uses: actions/upload-pages-artifact@v3');
        lines.push('        with:');
        lines.push('          path: ./dist');
        lines.push('');
        lines.push('  deploy:');
        lines.push('    environment:');
        lines.push('      name: github-pages');
        lines.push('      url: ${{ steps.deployment.outputs.page_url }}');
        lines.push('    runs-on: ' + runsOn);
        lines.push('    needs: build');
        lines.push('    steps:');
        lines.push('      - name: Deploy to GitHub Pages');
        lines.push('        id: deployment');
        lines.push('        uses: actions/deploy-pages@v4');
      } else if (isPython) {
        // Python CI
        lines.push('  test:');
        lines.push('    runs-on: ' + runsOn);
        if (versions.length > 1) {
          lines.push('    strategy:');
          lines.push('      matrix:');
          lines.push('        python-version: [' + versions.map(function(v) { return '"' + v + '"'; }).join(', ') + ']');
        }
        lines.push('    steps:');
        lines.push('      - name: Checkout');
        lines.push('        uses: actions/checkout@v4');
        lines.push('');
        lines.push('      - name: Set up Python');
        lines.push('        uses: actions/setup-python@v5');
        lines.push('        with:');
        lines.push('          python-version: ' + (versions.length > 1 ? '${{ matrix.python-version }}' : (versions[0] || '3.12')));
        if (enableCache) {
          lines.push('          cache: pip');
        }
        lines.push('');
        lines.push('      - name: Install dependencies');
        lines.push('        run: |');
        lines.push('          python -m pip install --upgrade pip');
        lines.push('          pip install -r requirements.txt');
        if (enableLint) {
          lines.push('');
          lines.push('      - name: Lint with ruff');
          lines.push('        run: |');
          lines.push('          pip install ruff');
          lines.push('          ruff check .');
        }
        if (enableTest) {
          lines.push('');
          lines.push('      - name: Test with pytest');
          lines.push('        run: |');
          lines.push('          pip install pytest' + (enableCoverage ? ' pytest-cov' : ''));
          lines.push('          pytest' + (enableCoverage ? ' --cov=./ --cov-report=xml' : ''));
        }
        if (enableCoverage) {
          lines.push('');
          lines.push('      - name: Upload coverage');
          lines.push('        uses: codecov/codecov-action@v4');
          lines.push('        with:');
          lines.push('          token: ${{ secrets.CODECOV_TOKEN }}');
        }
      } else {
        // Node.js CI (default)
        lines.push('  build:');
        lines.push('    runs-on: ' + runsOn);
        if (versions.length > 1) {
          lines.push('    strategy:');
          lines.push('      matrix:');
          lines.push('        node-version: [' + versions.join(', ') + ']');
        }
        lines.push('    steps:');
        lines.push('      - name: Checkout');
        lines.push('        uses: actions/checkout@v4');
        lines.push('');
        lines.push('      - name: Setup Node.js');
        lines.push('        uses: actions/setup-node@v4');
        lines.push('        with:');
        lines.push('          node-version: ' + (versions.length > 1 ? '${{ matrix.node-version }}' : (versions[0] || '20')));
        if (enableCache) {
          lines.push('          cache: npm');
        }
        lines.push('');
        lines.push('      - name: Install dependencies');
        lines.push('        run: npm ci');
        
        if (enableLint) {
          lines.push('');
          lines.push('      - name: Lint');
          lines.push('        run: npm run lint');
        }
        
        if (enableTest) {
          lines.push('');
          lines.push('      - name: Test');
          lines.push('        run: npm test');
        }
        
        if (enableBuild) {
          lines.push('');
          lines.push('      - name: Build');
          lines.push('        run: npm run build');
        }
        
        if (enableCoverage) {
          lines.push('');
          lines.push('      - name: Upload coverage');
          lines.push('        uses: codecov/codecov-action@v4');
          lines.push('        with:');
          lines.push('          token: ${{ secrets.CODECOV_TOKEN }}');
        }
        
        if (enableArtifact) {
          lines.push('');
          lines.push('      - name: Upload artifact');
          lines.push('        uses: actions/upload-artifact@v4');
          lines.push('        with:');
          lines.push('          name: build-${{ github.sha }}');
          lines.push('          path: dist/');
        }

        if (isRelease) {
          lines.push('');
          lines.push('  release:');
          lines.push('    needs: build');
          lines.push('    runs-on: ' + runsOn);
          lines.push('    steps:');
          lines.push('      - name: Checkout');
          lines.push('        uses: actions/checkout@v4');
          lines.push('');
          lines.push('      - name: Download artifact');
          lines.push('        uses: actions/download-artifact@v4');
          lines.push('        with:');
          lines.push('          name: build-${{ github.sha }}');
          lines.push('          path: dist/');
          lines.push('');
          lines.push('      - name: Create Release');
          lines.push('        uses: softprops/action-gh-release@v1');
          lines.push('        with:');
          lines.push('          files: dist/*');
          lines.push('          generate_release_notes: true');
        }
      }

      outputEl.textContent = lines.join('\n');
      saveToUrl();
    };

    // Template buttons
    document.querySelectorAll('.template-btn').forEach(function(btn) {
      btn.addEventListener('click', function() {
        applyTemplate(btn.dataset.template);
      });
    });

    // Generate button
    document.getElementById('btnGenerate').addEventListener('click', generate);

    // Auto-generate on input change
    [workflowNameEl, branchesEl, nodeVersionsEl, runsOnEl,
     enableCacheEl, enableLintEl, enableTestEl, enableBuildEl,
     enableCoverageEl, enableArtifactEl].forEach(function(el) {
      el.addEventListener('change', generate);
      el.addEventListener('input', generate);
    });

    // Copy
    document.getElementById('btnCopy').addEventListener('click', async function() {
      try {
        await navigator.clipboard.writeText(outputEl.textContent);
        showStatus('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿', 'success');
      } catch (e) {
        showStatus('å¤åˆ¶å¤±è´¥', 'error');
      }
    });

    // Download
    document.getElementById('btnDownload').addEventListener('click', function() {
      var content = outputEl.textContent;
      var blob = new Blob([content], { type: 'text/yaml' });
      var url = URL.createObjectURL(blob);
      var a = document.createElement('a');
      a.href = url;
      a.download = 'ci.yml';
      a.click();
      URL.revokeObjectURL(url);
      showStatus('å·²ä¸‹è½½ ci.yml', 'success');
    });

    // Share
    document.getElementById('btnShare').addEventListener('click', async function() {
      saveToUrl();
      try {
        await navigator.clipboard.writeText(location.href);
        showStatus('åˆ†äº«é“¾æ¥å·²å¤åˆ¶', 'success');
      } catch (e) {
        showStatus('å¤åˆ¶å¤±è´¥', 'error');
      }
    });

    function showStatus(msg, type) {
      statusEl.textContent = msg;
      statusEl.className = 'status ' + (type || '');
    }

    // URL state
    function saveToUrl() {
      var state = {
        t: currentTemplate,
        n: workflowNameEl.value,
        b: branchesEl.value,
        v: nodeVersionsEl.value,
        r: runsOnEl.value,
        c: enableCacheEl.checked,
        l: enableLintEl.checked,
        te: enableTestEl.checked,
        bu: enableBuildEl.checked,
        co: enableCoverageEl.checked,
        ar: enableArtifactEl.checked
      };
      try {
        history.replaceState(null, '', '#' + btoa(JSON.stringify(state)));
      } catch (e) {
        // ignore
      }
    }

    window.loadFromUrl = function() {
      var hash = location.hash.slice(1);
      if (!hash) return false;
      try {
        var state = JSON.parse(atob(hash));
        if (state.t) currentTemplate = state.t;
        if (state.n) workflowNameEl.value = state.n;
        if (state.b !== undefined) branchesEl.value = state.b;
        if (state.v !== undefined) nodeVersionsEl.value = state.v;
        if (state.r) runsOnEl.value = state.r;
        if (state.c !== undefined) enableCacheEl.checked = state.c;
        if (state.l !== undefined) enableLintEl.checked = state.l;
        if (state.te !== undefined) enableTestEl.checked = state.te;
        if (state.bu !== undefined) enableBuildEl.checked = state.bu;
        if (state.co !== undefined) enableCoverageEl.checked = state.co;
        if (state.ar !== undefined) enableArtifactEl.checked = state.ar;
        
        document.querySelectorAll('.template-btn').forEach(function(btn) {
          btn.classList.toggle('active', btn.dataset.template === currentTemplate);
        });
        return true;
      } catch (e) {
        // ignore
      }
      return false;
    };

    // Theme
    window.toggleTheme = function() {
      var html = document.documentElement;
      var btn = document.querySelector('.theme-toggle');
      var next = html.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
      html.setAttribute('data-theme', next);
      btn.textContent = next === 'dark' ? 'ğŸŒ™' : 'â˜€ï¸';
      localStorage.setItem('theme', next);
    };

    // Init
    (function() {
      var saved = localStorage.getItem('theme');
      if (saved) {
        document.documentElement.setAttribute('data-theme', saved);
        var btn = document.querySelector('.theme-toggle');
        if (btn) btn.textContent = saved === 'dark' ? 'ğŸŒ™' : 'â˜€ï¸';
      }
      
      if (!loadFromUrl()) {
        generate();
      } else {
        generate();
      }
    })();
  </script>
</body>
</html>
