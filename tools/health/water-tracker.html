<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>å–æ°´æé†’ - WebUtils</title>
  <meta name="description" content="è®°å½•æ¯æ—¥é¥®æ°´é‡ï¼Œå…»æˆå¥åº·å–æ°´ä¹ æƒ¯" />
  <meta name="keywords" content="å–æ°´ é¥®æ°´ å¥åº· æé†’ water intake hydration tracker reminder" />
  <meta name="author" content="WebUtils" />
  <link rel="canonical" href="https://tools.realtime-ai.chat/tools/health/water-tracker.html" />

  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    :root{--bg-deep:#0a0a0f;--bg-surface:#12121a;--bg-card:#1a1a24;--text-primary:#e8e8ed;--text-secondary:#9898a4;--text-muted:#5c5c66;--accent-blue:#4d9fff;--accent-cyan:#00f5d4;--accent-green:#00d26a;--border-subtle:#2a2a36;--radius-sm:6px;--radius-md:10px;--radius-lg:14px}
    [data-theme="light"]{--bg-deep:#fafafa;--bg-surface:#fff;--bg-card:#fff;--text-primary:#1a1a1a;--text-secondary:#666;--text-muted:#999;--border-subtle:#e5e5e5}
    *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
    body{font-family:'Space Grotesk',system-ui,sans-serif;background:var(--bg-deep);color:var(--text-primary);min-height:100vh;line-height:1.6}
    .bg-grid{position:fixed;inset:0;background-image:linear-gradient(rgba(77,159,255,.03) 1px,transparent 1px),linear-gradient(90deg,rgba(77,159,255,.03) 1px,transparent 1px);background-size:50px 50px;pointer-events:none;z-index:0}
    .container{position:relative;z-index:1;max-width:600px;margin:0 auto;padding:2rem 1.5rem}
    .theme-toggle{position:fixed;top:1rem;right:1rem;width:40px;height:40px;border-radius:50%;border:1px solid var(--border-subtle);background:var(--bg-card);cursor:pointer;font-size:1.2rem;z-index:100;transition:all .2s}
    .theme-toggle:hover{border-color:var(--accent-cyan);transform:scale(1.1)}
    .breadcrumb{display:flex;align-items:center;gap:8px;font-size:.85rem;padding:8px 14px;background:var(--bg-surface);border:1px solid var(--border-subtle);border-radius:var(--radius-sm);margin-bottom:1.5rem;flex-wrap:wrap}
    .breadcrumb a{color:var(--text-secondary);text-decoration:none}
    .breadcrumb a:hover{color:var(--accent-cyan)}
    .breadcrumb-separator{color:var(--text-muted)}
    .breadcrumb-current{color:var(--text-primary);font-weight:500}
    h1{font-size:2rem;font-weight:600;margin-bottom:.5rem;background:linear-gradient(135deg,var(--text-primary),var(--accent-cyan));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-align:center}
    .subtitle{color:var(--text-secondary);margin-bottom:2rem;text-align:center}
    .progress-card{background:linear-gradient(135deg,rgba(0,245,212,.1),rgba(77,159,255,.1));border:2px solid var(--accent-cyan);border-radius:var(--radius-lg);padding:2rem;text-align:center;margin-bottom:2rem}
    .progress-label{font-size:.9rem;color:var(--text-secondary);margin-bottom:.5rem}
    .progress-value{font-family:'JetBrains Mono',monospace;font-size:3rem;font-weight:700;color:var(--accent-cyan);margin-bottom:.5rem}
    .progress-target{font-size:.9rem;color:var(--text-muted)}
    .progress-bar-container{width:100%;height:30px;background:var(--bg-surface);border-radius:20px;overflow:hidden;margin:1.5rem 0;border:1px solid var(--border-subtle)}
    .progress-bar{height:100%;background:linear-gradient(90deg,var(--accent-cyan),var(--accent-blue));transition:width .5s ease;display:flex;align-items:center;justify-content:flex-end;padding:0 1rem;font-size:.85rem;font-weight:600;color:#000}
    .quick-add{display:grid;grid-template-columns:repeat(4,1fr);gap:.75rem;margin-bottom:2rem}
    .quick-btn{aspect-ratio:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem;border:1px solid var(--border-subtle);border-radius:var(--radius-md);background:var(--bg-card);cursor:pointer;transition:all .2s;padding:1rem}
    .quick-btn:hover{border-color:var(--accent-cyan);transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,245,212,.2)}
    .quick-btn-icon{font-size:1.8rem}
    .quick-btn-text{font-size:.85rem;color:var(--text-secondary);font-weight:500}
    .custom-add{background:var(--bg-card);border:1px solid var(--border-subtle);border-radius:var(--radius-lg);padding:1.5rem;margin-bottom:2rem}
    .custom-add-title{font-size:1rem;font-weight:600;margin-bottom:1rem;color:var(--accent-cyan)}
    .custom-input-group{display:flex;gap:.75rem}
    .custom-input-group input{flex:1;padding:.75rem;border:1px solid var(--border-subtle);border-radius:var(--radius-sm);background:var(--bg-surface);color:var(--text-primary);font-family:'JetBrains Mono',monospace;font-size:.95rem;text-align:center}
    .custom-input-group input:focus{outline:none;border-color:var(--accent-blue)}
    .custom-input-group button{padding:.75rem 1.5rem;border:none;border-radius:var(--radius-sm);background:var(--accent-blue);color:#000;font-weight:600;cursor:pointer;transition:all .2s}
    .custom-input-group button:hover{transform:translateY(-1px)}
    .history{background:var(--bg-card);border:1px solid var(--border-subtle);border-radius:var(--radius-lg);padding:1.5rem}
    .history-title{font-size:1rem;font-weight:600;margin-bottom:1rem;color:var(--accent-cyan);display:flex;justify-content:space-between;align-items:center}
    .clear-btn{font-size:.85rem;color:var(--text-muted);cursor:pointer;font-weight:400;transition:all .2s}
    .clear-btn:hover{color:var(--accent-cyan)}
    .history-list{display:flex;flex-direction:column;gap:.5rem}
    .history-item{display:flex;justify-content:space-between;align-items:center;padding:.75rem;background:var(--bg-surface);border-radius:var(--radius-sm)}
    .history-time{font-family:'JetBrains Mono',monospace;font-size:.85rem;color:var(--text-muted)}
    .history-amount{font-family:'JetBrains Mono',monospace;font-weight:600;color:var(--accent-cyan)}
    .history-delete{background:none;border:none;color:var(--text-muted);cursor:pointer;padding:.25rem;transition:all .2s}
    .history-delete:hover{color:var(--accent-cyan);transform:scale(1.1)}
    .empty-history{text-align:center;padding:2rem;color:var(--text-muted);font-size:.9rem}
    .goal-reached{background:linear-gradient(135deg,rgba(0,210,106,.1),rgba(0,245,212,.1));border-color:var(--accent-green)}
    .goal-reached .progress-value{color:var(--accent-green)}
    .goal-reached .progress-bar{background:linear-gradient(90deg,var(--accent-green),var(--accent-cyan))}
    footer{margin-top:3rem;padding-top:1.5rem;border-top:1px solid var(--border-subtle);text-align:center;color:var(--text-muted);font-size:.85rem}
    footer a{color:var(--accent-blue);text-decoration:none}
    @media(max-width:500px){.quick-add{grid-template-columns:repeat(2,1fr)}.progress-value{font-size:2.5rem}}
  </style>
</head>
<body>
  <div class="bg-grid"></div>
  <div class="container">
    <button class="theme-toggle" onclick="toggleTheme()" title="åˆ‡æ¢ä¸»é¢˜">ğŸŒ™</button>

    <nav class="breadcrumb">
      <a href="../../index.html">é¦–é¡µ</a>
      <span class="breadcrumb-separator">/</span>
      <a href="../../index.html#health">åŒ»ç–—å¥åº·</a>
      <span class="breadcrumb-separator">/</span>
      <span class="breadcrumb-current">å–æ°´æé†’</span>
    </nav>

    <h1>ğŸ’§ å–æ°´æé†’</h1>
    <p class="subtitle">è®°å½•æ¯æ—¥é¥®æ°´ï¼Œå…»æˆå¥åº·ä¹ æƒ¯</p>

    <div class="progress-card" id="progressCard">
      <div class="progress-label">ä»Šæ—¥é¥®æ°´é‡</div>
      <div class="progress-value" id="currentAmount">0 ml</div>
      <div class="progress-target">ç›®æ ‡: <span id="targetAmount">2000</span> ml</div>
      <div class="progress-bar-container">
        <div class="progress-bar" id="progressBar" style="width:0%">
          <span id="progressPercent">0%</span>
        </div>
      </div>
    </div>

    <div class="quick-add">
      <button class="quick-btn" onclick="addWater(100)">
        <div class="quick-btn-icon">â˜•</div>
        <div class="quick-btn-text">100ml</div>
      </button>
      <button class="quick-btn" onclick="addWater(200)">
        <div class="quick-btn-icon">ğŸ¥¤</div>
        <div class="quick-btn-text">200ml</div>
      </button>
      <button class="quick-btn" onclick="addWater(300)">
        <div class="quick-btn-icon">ğŸ¥›</div>
        <div class="quick-btn-text">300ml</div>
      </button>
      <button class="quick-btn" onclick="addWater(500)">
        <div class="quick-btn-icon">ğŸ¶</div>
        <div class="quick-btn-text">500ml</div>
      </button>
    </div>

    <div class="custom-add">
      <div class="custom-add-title">âš™ï¸ è‡ªå®šä¹‰</div>
      <div class="custom-input-group">
        <input type="number" id="customAmount" placeholder="è¾“å…¥æ¯«å‡æ•°" min="1" max="2000" step="50">
        <button onclick="addCustom()">æ·»åŠ </button>
      </div>
    </div>

    <div class="history">
      <div class="history-title">
        <span>ğŸ“œ ä»Šæ—¥è®°å½•</span>
        <span class="clear-btn" onclick="clearHistory()">æ¸…ç©º</span>
      </div>
      <div class="history-list" id="historyList">
        <div class="empty-history">ä»Šå¤©è¿˜æ²¡æœ‰å–æ°´è®°å½•</div>
      </div>
    </div>

    <footer>
      <a href="https://github.com/nicexe/html-tools" target="_blank">GitHub</a>
    </footer>
  </div>

  <script>
    const TARGET = 2000; // ml
    let todayData = loadTodayData();

    function loadTodayData() {
      const saved = localStorage.getItem('water_tracker');
      if (!saved) return { date: getToday(), records: [], total: 0 };

      const data = JSON.parse(saved);
      if (data.date !== getToday()) {
        // New day, reset
        return { date: getToday(), records: [], total: 0 };
      }

      return data;
    }

    function saveTodayData() {
      localStorage.setItem('water_tracker', JSON.stringify(todayData));
    }

    function getToday() {
      return new Date().toISOString().split('T')[0];
    }

    function addWater(amount) {
      todayData.records.push({
        time: new Date().toISOString(),
        amount
      });
      todayData.total += amount;

      saveTodayData();
      render();

      // Check if goal reached
      if (todayData.total >= TARGET && (todayData.total - amount) < TARGET) {
        setTimeout(() => {
          alert('ğŸ‰ æ­å–œï¼ä»Šæ—¥é¥®æ°´ç›®æ ‡å·²è¾¾æˆï¼');
        }, 500);
      }
    }

    function addCustom() {
      const input = document.getElementById('customAmount');
      const amount = parseInt(input.value);

      if (!amount || amount <= 0) {
        alert('è¯·è¾“å…¥æœ‰æ•ˆçš„æ¯«å‡æ•°');
        return;
      }

      addWater(amount);
      input.value = '';
    }

    function deleteRecord(index) {
      const record = todayData.records[index];
      todayData.total -= record.amount;
      todayData.records.splice(index, 1);

      saveTodayData();
      render();
    }

    function clearHistory() {
      if (confirm('ç¡®å®šè¦æ¸…ç©ºä»Šæ—¥æ‰€æœ‰è®°å½•å—ï¼Ÿ')) {
        todayData.records = [];
        todayData.total = 0;
        saveTodayData();
        render();
      }
    }

    function formatTime(isoString) {
      const date = new Date(isoString);
      return date.toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' });
    }

    function render() {
      // Update progress
      document.getElementById('currentAmount').textContent = todayData.total + ' ml';
      document.getElementById('targetAmount').textContent = TARGET;

      const percent = Math.min(100, Math.round((todayData.total / TARGET) * 100));
      const progressBar = document.getElementById('progressBar');
      progressBar.style.width = percent + '%';
      document.getElementById('progressPercent').textContent = percent + '%';

      // Update card style if goal reached
      const progressCard = document.getElementById('progressCard');
      if (todayData.total >= TARGET) {
        progressCard.classList.add('goal-reached');
      } else {
        progressCard.classList.remove('goal-reached');
      }

      // Update history
      const historyList = document.getElementById('historyList');
      if (todayData.records.length === 0) {
        historyList.innerHTML = '<div class="empty-history">ä»Šå¤©è¿˜æ²¡æœ‰å–æ°´è®°å½•</div>';
        return;
      }

      historyList.innerHTML = todayData.records.map((record, index) => `
        <div class="history-item">
          <span class="history-time">${formatTime(record.time)}</span>
          <span class="history-amount">+${record.amount} ml</span>
          <button class="history-delete" onclick="deleteRecord(${index})">Ã—</button>
        </div>
      `).reverse().join('');
    }

    // Initialize
    render();

    // Handle Enter key
    document.getElementById('customAmount').addEventListener('keypress', (e) => {
      if (e.key === 'Enter') addCustom();
    });

    window.toggleTheme = function() {
      const html = document.documentElement;
      const btn = document.querySelector('.theme-toggle');
      const current = html.getAttribute('data-theme');
      const next = current === 'light' ? 'dark' : 'light';
      html.setAttribute('data-theme', next);
      btn.textContent = next === 'light' ? 'â˜€ï¸' : 'ğŸŒ™';
      localStorage.setItem('theme', next);
    };

    (function() {
      const saved = localStorage.getItem('theme');
      if (saved) {
        document.documentElement.setAttribute('data-theme', saved);
        document.querySelector('.theme-toggle').textContent = saved === 'light' ? 'â˜€ï¸' : 'ğŸŒ™';
      }
    })();
  </script>
</body>
</html>
