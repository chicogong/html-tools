<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>æ­£åˆ™å¯è§†åŒ–è§£é‡Šå™¨ - WebUtils</title>
    <!-- SEO Meta Tags -->
    <meta name="description" content="æ­£åˆ™å¯è§†åŒ–è§£é‡Šå™¨ - WebUtils" />
    <meta name="keywords" content="regex-explainer,dev,tools,webutils" />
    <meta name="author" content="WebUtils" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://tools.realtime-ai.chat/tools/dev/regex-explainer.html" />

    <!-- Open Graph -->
    <meta property="og:title" content="æ­£åˆ™å¯è§†åŒ–è§£é‡Šå™¨ - WebUtils" />
    <meta property="og:description" content="æ­£åˆ™å¯è§†åŒ–è§£é‡Šå™¨ - WebUtils" />
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://tools.realtime-ai.chat/tools/dev/regex-explainer.html"
    />
    <meta property="og:site_name" content="WebUtils" />
    <meta property="og:locale" content="zh_CN" />
    <meta property="og:image" content="https://tools.realtime-ai.chat/social-preview.png" />
    <meta property="og:image:width" content="1280" />
    <meta property="og:image:height" content="640" />
    <meta property="og:image:type" content="image/png" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="æ­£åˆ™å¯è§†åŒ–è§£é‡Šå™¨ - WebUtils" />
    <meta name="twitter:description" content="æ­£åˆ™å¯è§†åŒ–è§£é‡Šå™¨ - WebUtils" />
    <meta name="twitter:image" content="https://tools.realtime-ai.chat/social-preview.png" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css" />
    <style>
      :root {
        --color-bg-deep: #0a0a0f;
        --color-bg-surface: #12121a;
        --color-bg-card: #1a1a24;
        --bg-input: #0e0e14;
        --color-text-primary: #e8e8ed;
        --color-text-secondary: #8888a0;
        --color-text-muted: #55556a;
        --border-subtle: #2a2a3a;
        --border-strong: #3a3a4a;
        --color-accent-cyan: #00f5d4;
        --accent-green: #10b981;
        --accent-red: #f43f5e;
        --accent-yellow: #fbbf24;
        --color-accent-purple: #a855f7;
        --glow-cyan: rgb(0, 245, 212, 0.15);
        --glow-green: rgb(16, 185, 129, 0.15);
        --glow-red: rgb(244, 63, 94, 0.15);
        --radius-sm: 4px;
        --radius-md: 8px;
        --radius-lg: 12px;
      
  /* å­—ä½“å˜é‡ */
  --font-sans: 'Space Grotesk', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-mono: 'JetBrains Mono', 'Courier New', monospace;
}

      [data-theme="light"] {
        --color-bg-deep: #fafafa;
        --color-bg-surface: #fff;
        --color-bg-card: #fff;
        --bg-input: #f5f5f5;
        --bg-hover: #f5f5f5;
        --color-text-primary: #1a1a1a;
        --color-text-secondary: #666;
        --color-text-muted: #999;
        --border-subtle: #e5e5e5;
        --border-strong: #d5d5d5;
      }

      .theme-toggle {
        position: fixed;
        top: 1rem;
        right: 1rem;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        border: 1px solid var(--border-subtle);
        background: var(--color-bg-card);
        cursor: pointer;
        font-size: 1.2rem;
        z-index: 100;
        transition: all 0.2s;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .theme-toggle:hover {
        transform: scale(1.1);
      }

      body {
        padding: 1rem;
      }
      .container {
        max-width: 1000px;
      }
      header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
      }
      header h1 {
        margin: 0;
        font-size: 1.5rem;
      }
      .input-section {
        margin-bottom: 1.5rem;
      }
      .input-section input {
        font-family: Monaco, Menlo, monospace;
        font-size: 1rem;
      }
      .flags-group {
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
        margin-top: 0.5rem;
      }
      .flags-group label {
        display: flex;
        align-items: center;
        gap: 0.25rem;
        margin: 0;
        font-size: 0.85rem;
      }
      .explanation-panel {
        background: var(--pico-card-background-color);
        border-radius: 8px;
        padding: 1rem;
        margin-bottom: 1rem;
      }
      .explanation-panel h3 {
        margin: 0 0 0.75rem;
        font-size: 1rem;
      }
      .token-list {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }
      .token-item {
        display: flex;
        gap: 1rem;
        padding: 0.5rem;
        border-radius: 4px;
        background: var(--pico-background-color);
        border-left: 3px solid var(--pico-primary);
      }
      .token-pattern {
        font-family: var(--font-mono);
        font-weight: bold;
        min-width: 100px;
        color: var(--pico-primary);
      }
      .token-desc {
        flex: 1;
      }
      .token-type {
        font-size: 0.75rem;
        padding: 0.125rem 0.5rem;
        border-radius: 10px;
        background: var(--pico-primary-background);
        color: var(--pico-primary);
      }
      .visual-regex {
        font-family: var(--font-mono);
        font-size: 1.25rem;
        padding: 1rem;
        background: var(--pico-card-background-color);
        border-radius: 8px;
        margin-bottom: 1rem;
        line-height: 2;
        word-break: break-all;
      }
      .visual-regex .char {
        padding: 0.125rem 0.25rem;
        border-radius: 2px;
        margin: 0 1px;
      }
      .visual-regex .literal {
        background: #e8f5e9;
        color: #2e7d32;
      }
      .visual-regex .meta {
        background: #e3f2fd;
        color: #1565c0;
      }
      .visual-regex .quantifier {
        background: #fff3e0;
        color: #ef6c00;
      }
      .visual-regex .group {
        background: #f3e5f5;
        color: #7b1fa2;
      }
      .visual-regex .anchor {
        background: #fce4ec;
        color: #c2185b;
      }
      .visual-regex .charset {
        background: #e0f7fa;
        color: #00838f;
      }
      .visual-regex .escape {
        background: #fff8e1;
        color: #f9a825;
      }
      [data-theme="dark"] .visual-regex .literal {
        background: #1b5e20;
        color: #a5d6a7;
      }
      [data-theme="dark"] .visual-regex .meta {
        background: #0d47a1;
        color: #90caf9;
      }
      [data-theme="dark"] .visual-regex .quantifier {
        background: #e65100;
        color: #ffcc80;
      }
      [data-theme="dark"] .visual-regex .group {
        background: #4a148c;
        color: #ce93d8;
      }
      [data-theme="dark"] .visual-regex .anchor {
        background: #880e4f;
        color: #f48fb1;
      }
      [data-theme="dark"] .visual-regex .charset {
        background: #006064;
        color: #80deea;
      }
      [data-theme="dark"] .visual-regex .escape {
        background: #f57f17;
        color: #fff59d;
      }
      .test-section {
        margin-top: 1.5rem;
      }
      .test-section textarea {
        font-family: inherit;
        min-height: 100px;
      }
      .match-result {
        margin-top: 1rem;
        padding: 1rem;
        background: var(--pico-card-background-color);
        border-radius: 8px;
      }
      .match-highlight {
        background: #ffeb3b;
        color: #000;
        padding: 0 2px;
        border-radius: 2px;
      }
      .match-info {
        font-size: 0.85rem;
        color: var(--pico-muted-color);
        margin-top: 0.5rem;
      }
      .examples {
        display: flex;
        gap: 0.5rem;
        flex-wrap: wrap;
        margin-bottom: 1rem;
      }
      .examples button {
        padding: 0.25rem 0.5rem;
        font-size: 0.75rem;
      }
      .legend {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        margin-bottom: 1rem;
        font-size: 0.8rem;
      }
      .legend-item {
        display: flex;
        align-items: center;
        gap: 0.25rem;
      }
      .legend-color {
        width: 16px;
        height: 16px;
        border-radius: 2px;
      }

      .breadcrumb {
        background: rgba(255, 255, 255, 0.95);
        padding: 8px 15px;
        border-radius: 20px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        font-size: 0.85rem;
      }
      .breadcrumb a {
        color: #667eea;
        text-decoration: none;
      }
      .breadcrumb a:hover {
        text-decoration: underline;
      }
      .breadcrumb span {
        color: #999;
        margin: 0 5px;
      }
    </style>
    <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
  <body>
    <button class="theme-toggle" onclick="toggleTheme()" aria-label="åˆ‡æ¢ä¸»é¢˜">
      <span id="theme-icon">ğŸŒ™</span>
    </button>

    <nav class="breadcrumb">
      <a href="../../index.html">é¦–é¡µ</a>
      <span>â€º</span>
      æ­£åˆ™å¯è§†åŒ–è§£é‡Šå™¨
    </nav>
    <main class="container">
      <header>
        <h1>ğŸ” æ­£åˆ™å¯è§†åŒ–è§£é‡Šå™¨</h1>
        <button id="themeToggle" class="outline" style="padding: 0.5rem">ğŸŒ“</button>
      </header>

      <div class="examples">
        <span style="line-height: 2">ç¤ºä¾‹ï¼š</span>
        <button class="outline" onclick="loadExample('email')">é‚®ç®±</button>
        <button class="outline" onclick="loadExample('phone')">æ‰‹æœºå·</button>
        <button class="outline" onclick="loadExample('url')">URL</button>
        <button class="outline" onclick="loadExample('ip')">IPåœ°å€</button>
        <button class="outline" onclick="loadExample('date')">æ—¥æœŸ</button>
        <button class="outline" onclick="loadExample('password')">å¯†ç å¼ºåº¦</button>
      </div>

      <div class="input-section">
        <input
          type="text"
          id="regexInput"
          placeholder="è¾“å…¥æ­£åˆ™è¡¨è¾¾å¼..."
          value="^[\w.-]+@[\w.-]+\.[a-zA-Z]{2,}$"
        />
        <div class="flags-group">
          <label>
            <input type="checkbox" id="flagG" />
            g (å…¨å±€)
          </label>
          <label>
            <input type="checkbox" id="flagI" />
            i (å¿½ç•¥å¤§å°å†™)
          </label>
          <label>
            <input type="checkbox" id="flagM" />
            m (å¤šè¡Œ)
          </label>
          <label>
            <input type="checkbox" id="flagS" />
            s (å•è¡Œ)
          </label>
          <label>
            <input type="checkbox" id="flagU" />
            u (Unicode)
          </label>
        </div>
      </div>

      <div class="legend">
        <div class="legend-item">
          <div class="legend-color" style="background: #e8f5e9"></div>
          å­—é¢é‡
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background: #e3f2fd"></div>
          å…ƒå­—ç¬¦
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background: #fff3e0"></div>
          é‡è¯
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background: #f3e5f5"></div>
          åˆ†ç»„
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background: #fce4ec"></div>
          é”šç‚¹
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background: #e0f7fa"></div>
          å­—ç¬¦é›†
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background: #fff8e1"></div>
          è½¬ä¹‰
        </div>
      </div>

      <div class="visual-regex" id="visualRegex"></div>

      <div class="explanation-panel">
        <h3>é€æ­¥è§£æ</h3>
        <div class="token-list" id="tokenList"></div>
      </div>

      <div class="test-section">
        <h3 style="margin-bottom: 0.5rem">æµ‹è¯•åŒ¹é…</h3>
        <textarea id="testInput" placeholder="è¾“å…¥æµ‹è¯•æ–‡æœ¬...">
test@example.com
invalid-email
user.name@domain.co.uk
another@test.org</textarea
        >
        <div class="match-result" id="matchResult"></div>
      </div>
    </main>

    <script>
      const examples = {
        email: {
          regex: "^[\\w.-]+@[\\w.-]+\\.[a-zA-Z]{2,}$",
          flags: "gm",
          test: "test@example.com\ninvalid-email\nuser@domain.co.uk"
        },
        phone: {
          regex: "^1[3-9]\\d{9}$",
          flags: "gm",
          test: "13812345678\n12345678901\n18899998888"
        },
        url: {
          regex: "https?://[\\w.-]+(?:/[\\w./-]*)?",
          flags: "gi",
          test: "Visit https://example.com/path\nOr http://test.org"
        },
        ip: {
          regex: "\\b(?:\\d{1,3}\\.){3}\\d{1,3}\\b",
          flags: "g",
          test: "192.168.1.1\n10.0.0.255\n999.999.999.999"
        },
        date: {
          regex: "\\d{4}[-/]\\d{2}[-/]\\d{2}",
          flags: "g",
          test: "2024-01-15\n2023/12/25\ninvalid-date"
        },
        password: {
          regex: "^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$",
          flags: "m",
          test: "Weak123\nStrong@Pass1\nNoSpecial1A"
        }
      };

      const tokenPatterns = [
        { pattern: /^\^/, type: "anchor", desc: "åŒ¹é…å­—ç¬¦ä¸²å¼€å§‹ä½ç½®" },
        { pattern: /^\$/, type: "anchor", desc: "åŒ¹é…å­—ç¬¦ä¸²ç»“æŸä½ç½®" },
        { pattern: /^\\b/, type: "anchor", desc: "åŒ¹é…å•è¯è¾¹ç•Œ" },
        { pattern: /^\\B/, type: "anchor", desc: "åŒ¹é…éå•è¯è¾¹ç•Œ" },
        { pattern: /^\\d/, type: "meta", desc: "åŒ¹é…ä»»æ„æ•°å­— [0-9]" },
        { pattern: /^\\D/, type: "meta", desc: "åŒ¹é…ä»»æ„éæ•°å­—" },
        { pattern: /^\\w/, type: "meta", desc: "åŒ¹é…å•è¯å­—ç¬¦ [a-zA-Z0-9_]" },
        { pattern: /^\\W/, type: "meta", desc: "åŒ¹é…éå•è¯å­—ç¬¦" },
        { pattern: /^\\s/, type: "meta", desc: "åŒ¹é…ç©ºç™½å­—ç¬¦" },
        { pattern: /^\\S/, type: "meta", desc: "åŒ¹é…éç©ºç™½å­—ç¬¦" },
        { pattern: /^\\n/, type: "escape", desc: "åŒ¹é…æ¢è¡Œç¬¦" },
        { pattern: /^\\t/, type: "escape", desc: "åŒ¹é…åˆ¶è¡¨ç¬¦" },
        { pattern: /^\\r/, type: "escape", desc: "åŒ¹é…å›è½¦ç¬¦" },
        { pattern: /^\\./, type: "meta", desc: "åŒ¹é…ä»»æ„å­—ç¬¦ï¼ˆé™¤æ¢è¡Œï¼‰" },
        {
          pattern: /^\\\\./,
          type: "escape",
          desc: function (m) {
            return 'åŒ¹é…å­—é¢é‡ "' + m[0].slice(1) + '"';
          }
        },
        { pattern: /^\(\?:/, type: "group", desc: "éæ•è·åˆ†ç»„å¼€å§‹" },
        { pattern: /^\(\?=/, type: "group", desc: "æ­£å‘å…ˆè¡Œæ–­è¨€" },
        { pattern: /^\(\?!/, type: "group", desc: "è´Ÿå‘å…ˆè¡Œæ–­è¨€" },
        { pattern: /^\(\?<=/, type: "group", desc: "æ­£å‘åè¡Œæ–­è¨€" },
        { pattern: /^\(\?<!/, type: "group", desc: "è´Ÿå‘åè¡Œæ–­è¨€" },
        { pattern: /^\(/, type: "group", desc: "æ•è·åˆ†ç»„å¼€å§‹" },
        { pattern: /^\)/, type: "group", desc: "åˆ†ç»„ç»“æŸ" },
        {
          pattern: /^\[([^\]\\]|\\.)*\]/,
          type: "charset",
          desc: function (m) {
            return "å­—ç¬¦é›†: " + m[0];
          }
        },
        {
          pattern: /^\{(\d+)(,)?(\d*)?\}/,
          type: "quantifier",
          desc: function (m) {
            if (m[2] && m[3]) return "é‡å¤ " + m[1] + " åˆ° " + m[3] + " æ¬¡";
            if (m[2]) return "é‡å¤è‡³å°‘ " + m[1] + " æ¬¡";
            return "é‡å¤æ°å¥½ " + m[1] + " æ¬¡";
          }
        },
        { pattern: /^\*\?/, type: "quantifier", desc: "åŒ¹é… 0 æ¬¡æˆ–å¤šæ¬¡ï¼ˆéè´ªå©ªï¼‰" },
        { pattern: /^\+\?/, type: "quantifier", desc: "åŒ¹é… 1 æ¬¡æˆ–å¤šæ¬¡ï¼ˆéè´ªå©ªï¼‰" },
        { pattern: /^\?\?/, type: "quantifier", desc: "åŒ¹é… 0 æ¬¡æˆ– 1 æ¬¡ï¼ˆéè´ªå©ªï¼‰" },
        { pattern: /^\*/, type: "quantifier", desc: "åŒ¹é… 0 æ¬¡æˆ–å¤šæ¬¡" },
        { pattern: /^\+/, type: "quantifier", desc: "åŒ¹é… 1 æ¬¡æˆ–å¤šæ¬¡" },
        { pattern: /^\?/, type: "quantifier", desc: "åŒ¹é… 0 æ¬¡æˆ– 1 æ¬¡" },
        { pattern: /^\|/, type: "meta", desc: "æˆ–ï¼ˆåŒ¹é…å·¦ä¾§æˆ–å³ä¾§ï¼‰" }
      ];

      function parseRegex(regex) {
        const tokens = [];
        let pos = 0;

        while (pos < regex.length) {
          let matched = false;

          for (const tp of tokenPatterns) {
            const match = regex.slice(pos).match(tp.pattern);
            if (match) {
              const desc = typeof tp.desc === "function" ? tp.desc(match) : tp.desc;
              tokens.push({ text: match[0], type: tp.type, desc });
              pos += match[0].length;
              matched = true;
              break;
            }
          }

          if (!matched) {
            // å­—é¢é‡å­—ç¬¦
            tokens.push({
              text: regex[pos],
              type: "literal",
              desc: 'åŒ¹é…å­—é¢é‡ "' + regex[pos] + '"'
            });
            pos++;
          }
        }

        return tokens;
      }

      function renderVisual(tokens) {
        const container = document.getElementById("visualRegex");
        container.textContent = "";

        tokens.forEach((token) => {
          const span = document.createElement("span");
          span.className = "char " + token.type;
          span.textContent = token.text;
          span.title = token.desc;
          container.appendChild(span);
        });
      }

      function renderTokenList(tokens) {
        const container = document.getElementById("tokenList");
        container.textContent = "";

        tokens.forEach((token, i) => {
          const item = document.createElement("div");
          item.className = "token-item";

          const pattern = document.createElement("span");
          pattern.className = "token-pattern";
          pattern.textContent = token.text;

          const desc = document.createElement("span");
          desc.className = "token-desc";
          desc.textContent = token.desc;

          const type = document.createElement("span");
          type.className = "token-type";
          type.textContent = token.type;

          item.appendChild(pattern);
          item.appendChild(desc);
          item.appendChild(type);
          container.appendChild(item);
        });
      }

      function getFlags() {
        let flags = "";
        if (document.getElementById("flagG").checked) flags += "g";
        if (document.getElementById("flagI").checked) flags += "i";
        if (document.getElementById("flagM").checked) flags += "m";
        if (document.getElementById("flagS").checked) flags += "s";
        if (document.getElementById("flagU").checked) flags += "u";
        return flags;
      }

      function testMatch() {
        const regexStr = document.getElementById("regexInput").value;
        const testText = document.getElementById("testInput").value;
        const resultDiv = document.getElementById("matchResult");

        if (!regexStr) {
          resultDiv.textContent = "è¯·è¾“å…¥æ­£åˆ™è¡¨è¾¾å¼";
          return;
        }

        try {
          const flags = getFlags();
          const regex = new RegExp(regexStr, flags);
          const matches = [];
          let match;

          if (flags.includes("g")) {
            while ((match = regex.exec(testText)) !== null) {
              matches.push({ index: match.index, text: match[0], groups: match.slice(1) });
            }
          } else {
            match = regex.exec(testText);
            if (match) {
              matches.push({ index: match.index, text: match[0], groups: match.slice(1) });
            }
          }

          if (matches.length === 0) {
            resultDiv.textContent = "æ— åŒ¹é…ç»“æœ";
            return;
          }

          // é«˜äº®æ˜¾ç¤ºåŒ¹é…
          let highlighted = "";
          let lastIndex = 0;

          matches.forEach((m) => {
            highlighted += escapeHtml(testText.slice(lastIndex, m.index));
            highlighted += '<span class="match-highlight">' + escapeHtml(m.text) + "</span>";
            lastIndex = m.index + m.text.length;
          });
          highlighted += escapeHtml(testText.slice(lastIndex));

          resultDiv.innerHTML = "";
          const pre = document.createElement("pre");
          pre.style.whiteSpace = "pre-wrap";
          pre.style.margin = "0";
          pre.innerHTML = highlighted;
          resultDiv.appendChild(pre);

          const info = document.createElement("div");
          info.className = "match-info";
          info.textContent = "æ‰¾åˆ° " + matches.length + " ä¸ªåŒ¹é…";
          if (matches[0].groups && matches[0].groups.length > 0) {
            info.textContent +=
              "ï¼Œæ•è·ç»„: " +
              matches[0].groups
                .map(function (g, i) {
                  return "(" + (i + 1) + ") " + (g || "ç©º");
                })
                .join(", ");
          }
          resultDiv.appendChild(info);
        } catch (e) {
          resultDiv.textContent = "æ­£åˆ™è¡¨è¾¾å¼é”™è¯¯: " + e.message;
        }
      }

      window.escapeHtml = function (text) {
        const div = document.createElement("div");
        div.textContent = text;
        return div.innerHTML;
      };

      window.analyze = function () {
        const regex = document.getElementById("regexInput").value;
        const tokens = parseRegex(regex);
        renderVisual(tokens);
        renderTokenList(tokens);
        testMatch();
      };

      window.loadExample = function (name) {
        const ex = examples[name];
        if (ex) {
          document.getElementById("regexInput").value = ex.regex;
          document.getElementById("testInput").value = ex.test;
          document.getElementById("flagG").checked = ex.flags.includes("g");
          document.getElementById("flagI").checked = ex.flags.includes("i");
          document.getElementById("flagM").checked = ex.flags.includes("m");
          document.getElementById("flagS").checked = ex.flags.includes("s");
          document.getElementById("flagU").checked = ex.flags.includes("u");
          analyze();
        }
      };

      // äº‹ä»¶ç›‘å¬
      document.getElementById("regexInput").addEventListener("input", analyze);
      document.getElementById("testInput").addEventListener("input", testMatch);
      document.querySelectorAll(".flags-group input").forEach(function (el) {
        el.addEventListener("change", testMatch);
      });

      // ä¸»é¢˜åˆ‡æ¢
      const themeToggle = document.getElementById("themeToggle");
      const html = document.documentElement;
      const savedTheme = localStorage.getItem("theme") || "light";
      html.setAttribute("data-theme", savedTheme);

      themeToggle.addEventListener("click", function () {
        const current = html.getAttribute("data-theme");
        const next = current === "light" ? "dark" : "light";
        html.setAttribute("data-theme", next);
        localStorage.setItem("theme", next);
      });

      // åˆå§‹åŒ–
      analyze();

      // Theme toggle
      function toggleTheme() {
        const html = document.documentElement;
        const currentTheme = html.getAttribute("data-theme");
        const newTheme = currentTheme === "light" ? "dark" : "light";
        html.setAttribute("data-theme", newTheme);
        document.getElementById("theme-icon").textContent = newTheme === "light" ? "â˜€ï¸" : "ğŸŒ™";
        localStorage.setItem("theme", newTheme);
      }
    </script>
  </body>
</html>
