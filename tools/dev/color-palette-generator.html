<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è°ƒè‰²æ¿ç”Ÿæˆå™¨ - WebUtils</title>
    <meta name="description" content="åœ¨çº¿ç”Ÿæˆé…è‰²æ–¹æ¡ˆï¼Œæ”¯æŒäº’è¡¥è‰²ã€ç±»ä¼¼è‰²ã€ä¸‰è§’è‰²ç­‰å¤šç§é…è‰²æ¨¡å¼">
    <meta name="keywords" content="è°ƒè‰²æ¿,é…è‰²,color palette,äº’è¡¥è‰²,é¢œè‰²æ­é…">
    <link rel="canonical" href="https://html-tools.cnb.cool/tools/dev/color-palette-generator.html">
    <style>
        :root {
            --bg-color: #f5f5f5;
            --text-color: #333;
            --border-color: #ddd;
            --card-bg: #fff;
            --primary-color: #e91e63;
            --primary-hover: #c2185b;
            --shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        [data-theme="dark"] {
            --bg-color: #1a1a1a;
            --text-color: #e0e0e0;
            --border-color: #444;
            --card-bg: #2d2d2d;
            --shadow: 0 2px 8px rgba(0,0,0,0.3);
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: var(--bg-color);
            color: var(--text-color);
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 1000px; margin: 0 auto; }
        header { text-align: center; margin-bottom: 30px; }
        h1 { font-size: 1.8rem; margin-bottom: 10px; color: var(--primary-color); }
        .subtitle { color: var(--text-color); opacity: 0.7; font-size: 0.95rem; }
        .theme-toggle {
            position: fixed; top: 20px; right: 20px;
            padding: 8px 16px; border: 1px solid var(--border-color);
            border-radius: 20px; background: var(--card-bg);
            color: var(--text-color); cursor: pointer; font-size: 14px;
        }
        .card {
            background: var(--card-bg); border-radius: 12px;
            padding: 24px; box-shadow: var(--shadow); margin-bottom: 20px;
        }
        .card-title {
            font-size: 1rem; font-weight: 600; margin-bottom: 16px;
            padding-bottom: 10px; border-bottom: 1px solid var(--border-color);
        }
        .controls { display: flex; gap: 20px; flex-wrap: wrap; align-items: center; }
        .control-item { display: flex; align-items: center; gap: 10px; }
        .control-item label { font-size: 14px; font-weight: 500; }
        input[type="color"] {
            width: 60px; height: 40px; border: none; border-radius: 8px;
            cursor: pointer; background: none;
        }
        input[type="text"] {
            width: 100px; padding: 10px; border: 1px solid var(--border-color);
            border-radius: 6px; font-size: 14px; background: var(--bg-color);
            color: var(--text-color); font-family: monospace;
        }
        select {
            padding: 10px 14px; border: 1px solid var(--border-color);
            border-radius: 6px; font-size: 14px; background: var(--bg-color);
            color: var(--text-color); cursor: pointer;
        }
        .btn {
            padding: 10px 20px; border: none; border-radius: 6px;
            font-size: 14px; cursor: pointer; background: var(--primary-color);
            color: white; transition: all 0.3s;
        }
        .btn:hover { background: var(--primary-hover); }
        .palette-display { display: flex; border-radius: 12px; overflow: hidden; margin-bottom: 20px; }
        .palette-color {
            flex: 1; height: 120px; display: flex; flex-direction: column;
            align-items: center; justify-content: center; cursor: pointer;
            transition: transform 0.2s; position: relative;
        }
        .palette-color:hover { transform: scale(1.05); z-index: 1; }
        .palette-color .hex {
            font-family: monospace; font-weight: 600; font-size: 14px;
            padding: 4px 8px; border-radius: 4px; background: rgba(0,0,0,0.2);
        }
        .palette-color .name { font-size: 11px; margin-top: 4px; opacity: 0.8; }
        .palette-color.light { color: #333; }
        .palette-color.light .hex { background: rgba(255,255,255,0.3); }
        .palette-color.dark { color: #fff; }
        .shades-grid { display: grid; grid-template-columns: repeat(10, 1fr); gap: 4px; margin-top: 16px; }
        .shade-item {
            aspect-ratio: 1; border-radius: 6px; cursor: pointer;
            display: flex; align-items: center; justify-content: center;
            font-size: 10px; font-family: monospace; transition: transform 0.2s;
        }
        .shade-item:hover { transform: scale(1.1); z-index: 1; }
        .export-section { display: flex; gap: 10px; flex-wrap: wrap; }
        .code-block {
            background: var(--bg-color); border-radius: 8px; padding: 16px;
            font-family: monospace; font-size: 13px; overflow-x: auto;
            white-space: pre; margin-top: 16px;
        }
        .preset-colors { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 16px; }
        .preset-color {
            width: 32px; height: 32px; border-radius: 50%; cursor: pointer;
            border: 2px solid transparent; transition: all 0.3s;
        }
        .preset-color:hover { transform: scale(1.1); border-color: var(--text-color); }
        .harmony-modes { display: flex; gap: 8px; flex-wrap: wrap; }
        .mode-btn {
            padding: 8px 16px; border: 1px solid var(--border-color);
            border-radius: 20px; background: transparent; color: var(--text-color);
            font-size: 13px; cursor: pointer; transition: all 0.3s;
        }
        .mode-btn:hover { border-color: var(--primary-color); }
        .mode-btn.active { background: var(--primary-color); border-color: var(--primary-color); color: white; }
        .copy-toast {
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            background: #333; color: white; padding: 10px 20px; border-radius: 8px;
            font-size: 14px; opacity: 0; transition: opacity 0.3s; pointer-events: none;
        }
        .copy-toast.show { opacity: 1; }
    
        .breadcrumb { position: fixed; top: 10px; left: 10px; z-index: 1000; background: rgba(255,255,255,0.95); padding: 8px 15px; border-radius: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); font-size: 0.85rem; }
        .breadcrumb a { color: #667eea; text-decoration: none; }
        .breadcrumb a:hover { text-decoration: underline; }
        .breadcrumb span { color: #999; margin: 0 5px; }
    </style>
</head>
<body>
    <nav class="breadcrumb"><a href="../../index.html">é¦–é¡µ</a><span>â€º</span><a href="../../index.html#dev">å¼€å‘å·¥å…·</a><span>â€º</span>è°ƒè‰²æ¿ç”Ÿæˆå™¨</nav>
    <button class="theme-toggle" onclick="toggleTheme()">ğŸŒ“ ä¸»é¢˜</button>
    
    <div class="container">
        <header>
            <h1>ğŸ¨ è°ƒè‰²æ¿ç”Ÿæˆå™¨</h1>
            <p class="subtitle">åŸºäºè‰²å½©ç†è®ºç”Ÿæˆå’Œè°é…è‰²æ–¹æ¡ˆ</p>
        </header>

        <div class="card">
            <div class="card-title">åŸºç¡€é¢œè‰²</div>
            <div class="preset-colors" id="presetColors"></div>
            <div class="controls">
                <div class="control-item">
                    <label>é€‰æ‹©é¢œè‰²:</label>
                    <input type="color" id="baseColor" value="#e91e63" onchange="updateFromPicker()">
                    <input type="text" id="hexInput" value="#e91e63" onchange="updateFromHex()">
                </div>
                <button class="btn" onclick="randomColor()">ğŸ² éšæœºé¢œè‰²</button>
            </div>
        </div>

        <div class="card">
            <div class="card-title">é…è‰²æ¨¡å¼</div>
            <div class="harmony-modes">
                <button class="mode-btn active" data-mode="complementary" onclick="setMode('complementary')">äº’è¡¥è‰²</button>
                <button class="mode-btn" data-mode="analogous" onclick="setMode('analogous')">ç±»ä¼¼è‰²</button>
                <button class="mode-btn" data-mode="triadic" onclick="setMode('triadic')">ä¸‰è§’è‰²</button>
                <button class="mode-btn" data-mode="split" onclick="setMode('split')">åˆ†è£‚äº’è¡¥</button>
                <button class="mode-btn" data-mode="tetradic" onclick="setMode('tetradic')">å››è§’è‰²</button>
                <button class="mode-btn" data-mode="monochromatic" onclick="setMode('monochromatic')">å•è‰²ç³»</button>
            </div>
        </div>

        <div class="card">
            <div class="card-title">è°ƒè‰²æ¿é¢„è§ˆ</div>
            <div class="palette-display" id="paletteDisplay"></div>
            <div class="card-title" style="margin-top: 20px;">è‰²é˜¶å˜åŒ–</div>
            <div class="shades-grid" id="shadesGrid"></div>
        </div>

        <div class="card">
            <div class="card-title">å¯¼å‡ºä»£ç </div>
            <div class="export-section">
                <button class="btn" onclick="exportCSS()">CSS å˜é‡</button>
                <button class="btn" onclick="exportSCSS()">SCSS å˜é‡</button>
                <button class="btn" onclick="exportJSON()">JSON</button>
                <button class="btn" onclick="exportTailwind()">Tailwind</button>
            </div>
            <div class="code-block" id="codeOutput"></div>
        </div>
    </div>

    <div class="copy-toast" id="toast">å·²å¤åˆ¶åˆ°å‰ªè´´æ¿</div>

    <script>
        let currentMode = 'complementary';
        let baseHex = '#e91e63';
        let palette = [];

        window.toggleTheme = function() {
            const html = document.documentElement;
            const newTheme = html.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
            html.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
        };
        (function() {
            const savedTheme = localStorage.getItem('theme') || 
                (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
            document.documentElement.setAttribute('data-theme', savedTheme);
        })();

        // Color conversion utilities
        function hexToHsl(hex) {
            let r = parseInt(hex.slice(1, 3), 16) / 255;
            let g = parseInt(hex.slice(3, 5), 16) / 255;
            let b = parseInt(hex.slice(5, 7), 16) / 255;
            
            const max = Math.max(r, g, b), min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;

            if (max === min) {
                h = s = 0;
            } else {
                const d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                switch (max) {
                    case r: h = ((g - b) / d + (g < b ? 6 : 0)) / 6; break;
                    case g: h = ((b - r) / d + 2) / 6; break;
                    case b: h = ((r - g) / d + 4) / 6; break;
                }
            }
            return { h: h * 360, s: s * 100, l: l * 100 };
        }

        function hslToHex(h, s, l) {
            h /= 360; s /= 100; l /= 100;
            let r, g, b;
            if (s === 0) {
                r = g = b = l;
            } else {
                const hue2rgb = (p, q, t) => {
                    if (t < 0) t += 1;
                    if (t > 1) t -= 1;
                    if (t < 1/6) return p + (q - p) * 6 * t;
                    if (t < 1/2) return q;
                    if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;
                    return p;
                };
                const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                const p = 2 * l - q;
                r = hue2rgb(p, q, h + 1/3);
                g = hue2rgb(p, q, h);
                b = hue2rgb(p, q, h - 1/3);
            }
            const toHex = x => {
                const hex = Math.round(x * 255).toString(16);
                return hex.length === 1 ? '0' + hex : hex;
            };
            return `#${toHex(r)}${toHex(g)}${toHex(b)}`;
        }

        function isLight(hex) {
            const r = parseInt(hex.slice(1, 3), 16);
            const g = parseInt(hex.slice(3, 5), 16);
            const b = parseInt(hex.slice(5, 7), 16);
            return (r * 299 + g * 587 + b * 114) / 1000 > 128;
        }

        function generatePalette() {
            const hsl = hexToHsl(baseHex);
            palette = [];
            
            switch (currentMode) {
                case 'complementary':
                    palette = [
                        { hex: baseHex, name: 'åŸºç¡€è‰²' },
                        { hex: hslToHex((hsl.h + 180) % 360, hsl.s, hsl.l), name: 'äº’è¡¥è‰²' }
                    ];
                    break;
                case 'analogous':
                    palette = [
                        { hex: hslToHex((hsl.h - 30 + 360) % 360, hsl.s, hsl.l), name: 'ç±»ä¼¼è‰² 1' },
                        { hex: baseHex, name: 'åŸºç¡€è‰²' },
                        { hex: hslToHex((hsl.h + 30) % 360, hsl.s, hsl.l), name: 'ç±»ä¼¼è‰² 2' }
                    ];
                    break;
                case 'triadic':
                    palette = [
                        { hex: baseHex, name: 'åŸºç¡€è‰²' },
                        { hex: hslToHex((hsl.h + 120) % 360, hsl.s, hsl.l), name: 'ä¸‰è§’è‰² 1' },
                        { hex: hslToHex((hsl.h + 240) % 360, hsl.s, hsl.l), name: 'ä¸‰è§’è‰² 2' }
                    ];
                    break;
                case 'split':
                    palette = [
                        { hex: baseHex, name: 'åŸºç¡€è‰²' },
                        { hex: hslToHex((hsl.h + 150) % 360, hsl.s, hsl.l), name: 'åˆ†è£‚ 1' },
                        { hex: hslToHex((hsl.h + 210) % 360, hsl.s, hsl.l), name: 'åˆ†è£‚ 2' }
                    ];
                    break;
                case 'tetradic':
                    palette = [
                        { hex: baseHex, name: 'åŸºç¡€è‰²' },
                        { hex: hslToHex((hsl.h + 90) % 360, hsl.s, hsl.l), name: 'å››è§’ 1' },
                        { hex: hslToHex((hsl.h + 180) % 360, hsl.s, hsl.l), name: 'å››è§’ 2' },
                        { hex: hslToHex((hsl.h + 270) % 360, hsl.s, hsl.l), name: 'å››è§’ 3' }
                    ];
                    break;
                case 'monochromatic':
                    palette = [
                        { hex: hslToHex(hsl.h, hsl.s, 20), name: 'æš—è‰²' },
                        { hex: hslToHex(hsl.h, hsl.s, 40), name: 'æ·±è‰²' },
                        { hex: baseHex, name: 'åŸºç¡€è‰²' },
                        { hex: hslToHex(hsl.h, hsl.s, 70), name: 'æµ…è‰²' },
                        { hex: hslToHex(hsl.h, hsl.s, 85), name: 'æ·¡è‰²' }
                    ];
                    break;
            }
            
            renderPalette();
            renderShades();
        }

        function renderPalette() {
            const container = document.getElementById('paletteDisplay');
            container.innerHTML = palette.map(c => `
                <div class="palette-color ${isLight(c.hex) ? 'light' : 'dark'}" 
                     style="background: ${c.hex}" 
                     onclick="copyColor('${c.hex}')">
                    <span class="hex">${c.hex.toUpperCase()}</span>
                    <span class="name">${c.name}</span>
                </div>
            `).join('');
        }

        function renderShades() {
            const hsl = hexToHsl(baseHex);
            const shades = [];
            for (let i = 5; i <= 95; i += 10) {
                shades.push(hslToHex(hsl.h, hsl.s, i));
            }
            
            const container = document.getElementById('shadesGrid');
            container.innerHTML = shades.map(hex => `
                <div class="shade-item ${isLight(hex) ? 'light' : 'dark'}" 
                     style="background: ${hex}" 
                     onclick="copyColor('${hex}')"
                     title="${hex}">
                </div>
            `).join('');
        }

        window.updateFromPicker = function() {
            baseHex = document.getElementById('baseColor').value;
            document.getElementById('hexInput').value = baseHex;
            generatePalette();
        };

        window.updateFromHex = function() {
            let hex = document.getElementById('hexInput').value;
            if (!hex.startsWith('#')) hex = '#' + hex;
            if (/^#[0-9A-Fa-f]{6}$/.test(hex)) {
                baseHex = hex;
                document.getElementById('baseColor').value = hex;
                generatePalette();
            }
        };

        window.setMode = function(mode) {
            currentMode = mode;
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.mode === mode);
            });
            generatePalette();
        };

        window.randomColor = function() {
            baseHex = '#' + Math.floor(Math.random()*16777215).toString(16).padStart(6, '0');
            document.getElementById('baseColor').value = baseHex;
            document.getElementById('hexInput').value = baseHex;
            generatePalette();
        };

        window.copyColor = function(hex) {
            navigator.clipboard.writeText(hex);
            showToast();
        };

        function showToast() {
            const toast = document.getElementById('toast');
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2000);
        }

        window.exportCSS = function() {
            const css = `:root {\n${palette.map((c, i) => `  --color-${i + 1}: ${c.hex};`).join('\n')}\n}`;
            document.getElementById('codeOutput').textContent = css;
            navigator.clipboard.writeText(css);
            showToast();
        };

        window.exportSCSS = function() {
            const scss = palette.map((c, i) => `$color-${i + 1}: ${c.hex};`).join('\n');
            document.getElementById('codeOutput').textContent = scss;
            navigator.clipboard.writeText(scss);
            showToast();
        };

        window.exportJSON = function() {
            const json = JSON.stringify(palette.map(c => c.hex), null, 2);
            document.getElementById('codeOutput').textContent = json;
            navigator.clipboard.writeText(json);
            showToast();
        };

        window.exportTailwind = function() {
            const tw = `colors: {\n  palette: {\n${palette.map((c, i) => `    '${(i + 1) * 100}': '${c.hex}',`).join('\n')}\n  }\n}`;
            document.getElementById('codeOutput').textContent = tw;
            navigator.clipboard.writeText(tw);
            showToast();
        };

        // Initialize preset colors
        const presets = ['#f44336', '#e91e63', '#9c27b0', '#673ab7', '#3f51b5', '#2196f3', '#03a9f4', '#00bcd4', '#009688', '#4caf50', '#8bc34a', '#cddc39', '#ffeb3b', '#ffc107', '#ff9800', '#ff5722'];
        document.getElementById('presetColors').innerHTML = presets.map(c => 
            `<div class="preset-color" style="background: ${c}" onclick="setBaseColor('${c}')"></div>`
        ).join('');

        window.setBaseColor = function(hex) {
            baseHex = hex;
            document.getElementById('baseColor').value = hex;
            document.getElementById('hexInput').value = hex;
            generatePalette();
        };

        generatePalette();
    </script>
</body>
</html>
