<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IP åœ°å€è®¡ç®—å™¨ - WebUtils</title>
  <!-- SEO Meta Tags -->
  <meta name="description" content="IP åœ°å€è®¡ç®—å™¨ - WebUtils" />
  <meta name="keywords" content="ip-calculator,network,tools,webutils" />
  <meta name="author" content="WebUtils" />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href="https://tools.realtime-ai.chat/tools/network/ip-calculator.html" />

  <!-- Open Graph -->
  <meta property="og:title" content="IP åœ°å€è®¡ç®—å™¨ - WebUtils" />
  <meta property="og:description" content="IP åœ°å€è®¡ç®—å™¨ - WebUtils" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://tools.realtime-ai.chat/tools/network/ip-calculator.html" />
  <meta property="og:site_name" content="WebUtils" />
  <meta property="og:locale" content="zh_CN" />
  <meta property="og:image" content="https://tools.realtime-ai.chat/social-preview.png" />
  <meta property="og:image:width" content="1280" />
  <meta property="og:image:height" content="640" />
  <meta property="og:image:type" content="image/png" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="IP åœ°å€è®¡ç®—å™¨ - WebUtils" />
  <meta name="twitter:description" content="IP åœ°å€è®¡ç®—å™¨ - WebUtils" />
  <meta name="twitter:image" content="https://tools.realtime-ai.chat/social-preview.png" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">
    <style>
    :root {
      --bg-deep: #0a0a0f;
      --bg-surface: #12121a;
      --bg-card: #1a1a24;
      --bg-input: #0e0e14;
      --text-primary: #e8e8ed;
      --text-secondary: #8888a0;
      --text-muted: #55556a;
      --border-subtle: #2a2a3a;
      --border-strong: #3a3a4a;
      --accent-cyan: #00f5d4;
      --accent-green: #10b981;
      --accent-red: #f43f5e;
      --accent-yellow: #fbbf24;
      --accent-purple: #a855f7;
      --glow-cyan: rgb(0, 245, 212, 0.15);
      --glow-green: rgb(16, 185, 129, 0.15);
      --glow-red: rgb(244, 63, 94, 0.15);
      --radius-sm: 4px;
      --radius-md: 8px;
      --radius-lg: 12px;
    }

    [data-theme="light"] {
      --bg-deep: #fafafa;
      --bg-surface: #fff;
      --bg-card: #fff;
      --bg-input: #f5f5f5;
      --bg-hover: #f5f5f5;
      --text-primary: #1a1a1a;
      --text-secondary: #666;
      --text-muted: #999;
      --border-subtle: #e5e5e5;
      --border-strong: #d5d5d5;
    }

        :root { --primary: #3b82f6; }
        body { padding: 1rem; min-height: 100vh; }
        .container { max-width: 900px; margin: 0 auto; }
        header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; }
        header h1 { margin: 0; font-size: 1.5rem; }
        .input-section { background: var(--pico-card-background-color); border-radius: 10px; padding: 1rem; margin-bottom: 1rem; }
        .input-row { display: flex; gap: 0.5rem; align-items: flex-end; flex-wrap: wrap; }
        .input-row .form-group { flex: 1; min-width: 150px; }
        .input-row .form-group label { display: block; font-size: 0.85rem; margin-bottom: 0.25rem; }
        .input-row .form-group input, .input-row .form-group select { margin: 0; }
        .input-row button { margin: 0; }
        .results { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem; }
        .result-card { background: var(--pico-card-background-color); border-radius: 10px; padding: 1rem; }
        .result-card h3 { margin: 0 0 1rem; font-size: 1rem; color: var(--primary); }
        .result-item { display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid var(--pico-muted-border-color); }
        .result-item:last-child { border-bottom: none; }
        .result-item .label { color: var(--pico-muted-color); font-size: 0.9rem; }
        .result-item .value { font-family: monospace; font-weight: 500; }
        .binary-display { background: var(--pico-code-background-color); padding: 1rem; border-radius: 8px; font-family: monospace; font-size: 0.8rem; overflow-x: auto; margin-top: 0.5rem; }
        .binary-display .octet { display: inline-block; margin-right: 0.5rem; }
        .binary-display .network { color: var(--primary); }
        .binary-display .host { color: #22c55e; }
        .quick-masks { display: flex; flex-wrap: wrap; gap: 0.25rem; margin-top: 0.5rem; }
        .quick-masks button { padding: 0.2rem 0.5rem; margin: 0; font-size: 0.75rem; }
        .ip-range { background: var(--pico-code-background-color); padding: 0.75rem; border-radius: 6px; font-family: monospace; font-size: 0.85rem; margin-top: 0.5rem; }
    
        .breadcrumb {     background: rgba(255,255,255,0.95); padding: 8px 15px; border-radius: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); font-size: 0.85rem; }
        .breadcrumb a { color: #667eea; text-decoration: none; }
        .breadcrumb a:hover { text-decoration: underline; }
        .breadcrumb span { color: #999; margin: 0 5px; }
    </style>
</head>
<body>
    <nav class="breadcrumb"><a href="../../index.html">é¦–é¡µ</a><span>â€º</span>IP åœ°å€è®¡ç®—å™¨</nav>
    <div class="container">
        <header>
            <h1>ğŸŒ IP åœ°å€è®¡ç®—å™¨</h1>
            <button id="themeToggle" class="outline">ğŸŒ™</button>
        </header>
        <div class="input-section">
            <div class="input-row">
                <div class="form-group" style="flex:2;"><label>IP åœ°å€</label><input type="text" id="ipInput" placeholder="192.168.1.100" value="192.168.1.100"></div>
                <div class="form-group"><label>CIDR / æ©ç </label><input type="text" id="maskInput" placeholder="/24 æˆ– 255.255.255.0" value="/24"></div>
                <button onclick="calculate()" class="primary">è®¡ç®—</button>
            </div>
            <div class="quick-masks">
                å¸¸ç”¨æ©ç ï¼š
                <button onclick="setMask('/8')">/8</button>
                <button onclick="setMask('/16')">/16</button>
                <button onclick="setMask('/24')">/24</button>
                <button onclick="setMask('/25')">/25</button>
                <button onclick="setMask('/26')">/26</button>
                <button onclick="setMask('/27')">/27</button>
                <button onclick="setMask('/28')">/28</button>
                <button onclick="setMask('/29')">/29</button>
                <button onclick="setMask('/30')">/30</button>
            </div>
        </div>
        <div class="results" id="results"></div>
    </div>
    <script>
        const $ = id => document.getElementById(id);
        function ipToInt(ip) { return ip.split('.').reduce((acc, oct) => (acc << 8) + parseInt(oct), 0) >>> 0; }
        function intToIp(int) { return [(int >>> 24) & 255, (int >>> 16) & 255, (int >>> 8) & 255, int & 255].join('.'); }
        function ipToBinary(ip) { return ip.split('.').map(o => parseInt(o).toString(2).padStart(8, '0')).join('.'); }
        function cidrToMask(cidr) { return (~0 << (32 - cidr)) >>> 0; }
        function maskToCidr(mask) { return (mask.toString(2).match(/1/g) || []).length; }
        function parseMask(input) {
            input = input.trim();
            if (input.startsWith('/')) return parseInt(input.slice(1));
            if (input.includes('.')) return maskToCidr(ipToInt(input));
            return parseInt(input);
        }
        window.setMask = function(m) { $('maskInput').value = m; calculate(); };
        window.calculate = function() {
            const ipStr = $('ipInput').value.trim();
            const maskStr = $('maskInput').value.trim();
            if (!ipStr || !maskStr) return;
            const ipParts = ipStr.split('.');
            if (ipParts.length !== 4 || ipParts.some(p => isNaN(p) || p < 0 || p > 255)) {
                $('results').innerHTML = '<div class="result-card"><h3>é”™è¯¯</h3><p>æ— æ•ˆçš„ IP åœ°å€æ ¼å¼</p></div>';
                return;
            }
            const ip = ipToInt(ipStr);
            const cidr = parseMask(maskStr);
            if (isNaN(cidr) || cidr < 0 || cidr > 32) {
                $('results').innerHTML = '<div class="result-card"><h3>é”™è¯¯</h3><p>æ— æ•ˆçš„å­ç½‘æ©ç </p></div>';
                return;
            }
            const mask = cidrToMask(cidr);
            const network = (ip & mask) >>> 0;
            const broadcast = (network | ~mask) >>> 0;
            const firstHost = network + 1;
            const lastHost = broadcast - 1;
            const totalHosts = Math.pow(2, 32 - cidr);
            const usableHosts = cidr < 31 ? totalHosts - 2 : (cidr === 31 ? 2 : 1);
            const wildcard = (~mask) >>> 0;
            // Determine class
            const firstOctet = (ip >>> 24) & 255;
            let ipClass = 'E';
            if (firstOctet < 128) ipClass = 'A';
            else if (firstOctet < 192) ipClass = 'B';
            else if (firstOctet < 224) ipClass = 'C';
            else if (firstOctet < 240) ipClass = 'D (ç»„æ’­)';
            // Check private
            let isPrivate = false;
            if (firstOctet === 10) isPrivate = true;
            else if (firstOctet === 172 && ((ip >>> 16) & 255) >= 16 && ((ip >>> 16) & 255) <= 31) isPrivate = true;
            else if (firstOctet === 192 && ((ip >>> 16) & 255) === 168) isPrivate = true;
            // Binary display
            const ipBin = ipToBinary(ipStr);
            const maskBin = ipToBinary(intToIp(mask));
            $('results').innerHTML = `
                <div class="result-card">
                    <h3>ğŸ“ åŸºæœ¬ä¿¡æ¯</h3>
                    <div class="result-item"><span class="label">IP åœ°å€</span><span class="value">${ipStr}</span></div>
                    <div class="result-item"><span class="label">å­ç½‘æ©ç </span><span class="value">${intToIp(mask)}</span></div>
                    <div class="result-item"><span class="label">CIDR è¡¨ç¤º</span><span class="value">/${cidr}</span></div>
                    <div class="result-item"><span class="label">é€šé…ç¬¦æ©ç </span><span class="value">${intToIp(wildcard)}</span></div>
                    <div class="result-item"><span class="label">IP ç±»å‹</span><span class="value">Class ${ipClass}${isPrivate ? ' (ç§æœ‰)' : ' (å…¬ç½‘)'}</span></div>
                </div>
                <div class="result-card">
                    <h3>ğŸ“Š ç½‘ç»œèŒƒå›´</h3>
                    <div class="result-item"><span class="label">ç½‘ç»œåœ°å€</span><span class="value">${intToIp(network)}</span></div>
                    <div class="result-item"><span class="label">å¹¿æ’­åœ°å€</span><span class="value">${intToIp(broadcast)}</span></div>
                    <div class="result-item"><span class="label">ç¬¬ä¸€ä¸ªå¯ç”¨</span><span class="value">${cidr < 31 ? intToIp(firstHost) : 'N/A'}</span></div>
                    <div class="result-item"><span class="label">æœ€åå¯ç”¨</span><span class="value">${cidr < 31 ? intToIp(lastHost) : 'N/A'}</span></div>
                    <div class="result-item"><span class="label">å¯ç”¨ä¸»æœºæ•°</span><span class="value">${usableHosts.toLocaleString()}</span></div>
                    <div class="result-item"><span class="label">æ€» IP æ•°</span><span class="value">${totalHosts.toLocaleString()}</span></div>
                    <div class="ip-range">${intToIp(network)}/${cidr} â†’ ${cidr < 31 ? intToIp(firstHost) + ' - ' + intToIp(lastHost) : (cidr === 31 ? intToIp(network) + ' - ' + intToIp(broadcast) : intToIp(network) + ' (å•ä¸ªä¸»æœº)')}</div>
                </div>
                <div class="result-card" style="grid-column: 1 / -1;">
                    <h3>ğŸ”¢ äºŒè¿›åˆ¶è¡¨ç¤º</h3>
                    <div class="result-item"><span class="label">IP äºŒè¿›åˆ¶</span></div>
                    <div class="binary-display">${ipBin.split('.').map((oct, i) => {
                        const bits = cidr - i * 8;
                        if (bits >= 8) return '<span class="octet"><span class="network">' + oct + '</span></span>';
                        if (bits <= 0) return '<span class="octet"><span class="host">' + oct + '</span></span>';
                        return '<span class="octet"><span class="network">' + oct.slice(0, bits) + '</span><span class="host">' + oct.slice(bits) + '</span></span>';
                    }).join('.')}</div>
                    <div class="result-item" style="margin-top:0.5rem;"><span class="label">æ©ç äºŒè¿›åˆ¶</span></div>
                    <div class="binary-display">${maskBin}</div>
                    <div style="font-size:0.75rem;color:var(--pico-muted-color);margin-top:0.5rem;"><span class="network" style="color:var(--primary);">â– </span> ç½‘ç»œä½ <span class="host" style="color:#22c55e;">â– </span> ä¸»æœºä½</div>
                </div>
            `;
        };
        function loadTheme() { const t = localStorage.getItem('theme') || 'light'; document.documentElement.setAttribute('data-theme', t); $('themeToggle').textContent = t === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™'; }
        window.toggleTheme = function() { const c = document.documentElement.getAttribute('data-theme'); const n = c === 'dark' ? 'light' : 'dark'; document.documentElement.setAttribute('data-theme', n); localStorage.setItem('theme', n); $('themeToggle').textContent = n === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™'; };
        $('themeToggle').onclick = toggleTheme;
        $('ipInput').onkeypress = $('maskInput').onkeypress = e => { if (e.key === 'Enter') calculate(); };
        loadTheme();
        calculate();
    </script>
</body>
</html>
