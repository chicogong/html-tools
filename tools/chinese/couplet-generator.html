<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å¯¹è”ç”Ÿæˆå™¨ - WebUtils</title>
    <!-- SEO Meta Tags -->
    <meta name="description" content="å¯¹è”ç”Ÿæˆå™¨ - WebUtils" />
    <meta name="keywords" content="couplet-generator,chinese,tools,webutils" />
    <meta name="author" content="WebUtils" />
    <meta name="robots" content="index, follow" />
    <link
      rel="canonical"
      href="https://tools.realtime-ai.chat/tools/chinese/couplet-generator.html"
    />

    <!-- Open Graph -->
    <meta property="og:title" content="å¯¹è”ç”Ÿæˆå™¨ - WebUtils" />
    <meta property="og:description" content="å¯¹è”ç”Ÿæˆå™¨ - WebUtils" />
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://tools.realtime-ai.chat/tools/chinese/couplet-generator.html"
    />
    <meta property="og:site_name" content="WebUtils" />
    <meta property="og:locale" content="zh_CN" />
    <meta property="og:image" content="https://tools.realtime-ai.chat/social-preview.png" />
    <meta property="og:image:width" content="1280" />
    <meta property="og:image:height" content="640" />
    <meta property="og:image:type" content="image/png" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="å¯¹è”ç”Ÿæˆå™¨ - WebUtils" />
    <meta name="twitter:description" content="å¯¹è”ç”Ÿæˆå™¨ - WebUtils" />
    <meta name="twitter:image" content="https://tools.realtime-ai.chat/social-preview.png" />

    <style>
      :root {
        --bg-deep: #0a0a0f;
        --bg-surface: #12121a;
        --bg-card: #1a1a24;
        --bg-input: #0e0e14;
        --text-primary: #e8e8ed;
        --text-secondary: #8888a0;
        --text-muted: #55556a;
        --border-subtle: #2a2a3a;
        --border-strong: #3a3a4a;
        --accent-cyan: #00f5d4;
        --accent-green: #10b981;
        --accent-red: #f43f5e;
        --accent-yellow: #fbbf24;
        --accent-purple: #a855f7;
        --glow-cyan: rgb(0, 245, 212, 0.15);
        --glow-green: rgb(16, 185, 129, 0.15);
        --glow-red: rgb(244, 63, 94, 0.15);
        --radius-sm: 4px;
        --radius-md: 8px;
        --radius-lg: 12px;
      }

      [data-theme="light"] {
        --bg-deep: #fafafa;
        --bg-surface: #fff;
        --bg-card: #fff;
        --bg-input: #f5f5f5;
        --bg-hover: #f5f5f5;
        --text-primary: #1a1a1a;
        --text-secondary: #666;
        --text-muted: #999;
        --border-subtle: #e5e5e5;
        --border-strong: #d5d5d5;
      }

      .theme-toggle {
        position: fixed;
        top: 1rem;
        right: 1rem;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        border: 1px solid var(--border-subtle);
        background: var(--bg-card);
        cursor: pointer;
        font-size: 1.2rem;
        z-index: 100;
        transition: all 0.2s;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .theme-toggle:hover {
        transform: scale(1.1);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      :root {
        --bg: #0a0a0f;
        --card: #12121a;
        --border: #2a2a3a;
        --text: #fff;
        --text2: #888;
        --accent: #dc2626;
        --accent2: #b91c1c;
      }
      @media (prefers-color-scheme: light) {
        :root {
          --bg: #f5f5f5;
          --card: #fff;
          --border: #e0e0e0;
          --text: #333;
          --text2: #666;
        }
      }
      body {
        font-family:
          system-ui,
          -apple-system,
          sans-serif;
        background: var(--bg);
        color: var(--text);
        min-height: 100vh;
        padding: 20px;
      }
      .container {
        max-width: 900px;
        margin: 0 auto;
      }
      h1 {
        text-align: center;
        margin-bottom: 8px;
        font-size: 1.8rem;
      }
      .subtitle {
        text-align: center;
        color: var(--text2);
        margin-bottom: 24px;
      }
      .card {
        background: var(--card);
        border: 1px solid var(--border);
        border-radius: 12px;
        padding: 24px;
        margin-bottom: 20px;
      }
      .card-title {
        font-size: 1rem;
        color: var(--text2);
        margin-bottom: 16px;
        font-weight: 500;
      }
      .theme-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-bottom: 16px;
      }
      .theme-tag {
        padding: 10px 18px;
        background: var(--bg);
        border: 1px solid var(--border);
        border-radius: 8px;
        cursor: pointer;
        font-size: 0.95rem;
        transition: all 0.2s;
      }
      .theme-tag.active {
        border-color: var(--accent);
        background: rgba(220, 38, 38, 0.1);
        color: var(--accent);
      }
      .theme-tag:hover {
        border-color: var(--accent);
      }
      .btn {
        padding: 14px 28px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1rem;
        transition: all 0.2s;
      }
      .btn-primary {
        background: linear-gradient(135deg, var(--accent), var(--accent2));
        color: white;
        width: 100%;
        margin-top: 16px;
      }
      .btn-primary:hover {
        opacity: 0.9;
      }
      .couplet-display {
        display: flex;
        gap: 24px;
        justify-content: center;
        margin: 30px 0;
        flex-wrap: wrap;
      }
      .couplet-scroll {
        background: linear-gradient(to bottom, #8b0000, #a52a2a);
        padding: 20px 12px;
        border-radius: 8px;
        min-width: 80px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(139, 0, 0, 0.3);
      }
      .couplet-scroll.horizontal {
        padding: 12px 20px;
      }
      .scroll-text {
        writing-mode: vertical-rl;
        font-family: KaiTi, STKaiti, SimSun, serif;
        font-size: 2rem;
        color: #ffd700;
        letter-spacing: 8px;
        line-height: 1.5;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
      }
      .scroll-text.horizontal {
        writing-mode: horizontal-tb;
        letter-spacing: 12px;
      }
      .couplet-info {
        text-align: center;
        margin-top: 20px;
      }
      .couplet-info .theme {
        color: var(--accent);
        font-size: 1.1rem;
        margin-bottom: 8px;
      }
      .couplet-info .meaning {
        color: var(--text2);
        font-size: 0.95rem;
        line-height: 1.6;
      }
      .custom-input {
        margin-top: 20px;
        padding-top: 20px;
        border-top: 1px solid var(--border);
      }
      .custom-input label {
        display: block;
        margin-bottom: 8px;
        color: var(--text2);
        font-size: 0.9rem;
      }
      .custom-input input {
        width: 100%;
        padding: 14px;
        border: 1px solid var(--border);
        border-radius: 8px;
        background: var(--bg);
        color: var(--text);
        font-size: 1.1rem;
        margin-bottom: 12px;
      }
      .custom-input input:focus {
        outline: none;
        border-color: var(--accent);
      }
      .history-section {
        margin-top: 20px;
      }
      .history-title {
        font-size: 0.9rem;
        color: var(--text2);
        margin-bottom: 12px;
      }
      .history-list {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }
      .history-item {
        padding: 12px 16px;
        background: var(--bg);
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.2s;
      }
      .history-item:hover {
        background: rgba(220, 38, 38, 0.1);
      }
      .history-item .upper {
        color: var(--accent);
      }
      .history-item .lower {
        color: var(--text);
      }
      .copy-btn {
        padding: 8px 16px;
        background: var(--bg);
        border: 1px solid var(--border);
        border-radius: 6px;
        cursor: pointer;
        color: var(--text);
        font-size: 0.9rem;
        margin-top: 16px;
      }
      .copy-btn:hover {
        border-color: var(--accent);
      }
      .hidden {
        display: none;
      }
      .tips {
        margin-top: 16px;
        padding: 16px;
        background: var(--bg);
        border-radius: 8px;
      }
      .tips h4 {
        font-size: 0.95rem;
        color: var(--text);
        margin-bottom: 12px;
      }
      .tips ul {
        padding-left: 20px;
        color: var(--text2);
        font-size: 0.9rem;
        line-height: 1.8;
      }
      .back-link {
        display: inline-block;
        margin-bottom: 16px;
        color: var(--accent);
        text-decoration: none;
        font-size: 0.9rem;
      }
      .back-link:hover {
        text-decoration: underline;
      }

      .breadcrumb {
        background: rgba(255, 255, 255, 0.95);
        padding: 8px 15px;
        border-radius: 20px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        font-size: 0.85rem;
      }
      .breadcrumb a {
        color: #667eea;
        text-decoration: none;
      }
      .breadcrumb a:hover {
        text-decoration: underline;
      }
      .breadcrumb span {
        color: #999;
        margin: 0 5px;
      }
    </style>
  </head>
  <body>
    <button class="theme-toggle" onclick="toggleTheme()" aria-label="åˆ‡æ¢ä¸»é¢˜">
      <span id="theme-icon">ğŸŒ™</span>
    </button>

    <nav class="breadcrumb">
      <a href="../../index.html">é¦–é¡µ</a>
      <span>â€º</span>
      å¯¹è”ç”Ÿæˆå™¨
    </nav>
    <div class="container">
      <a href="../../index.html" class="back-link">â† è¿”å›</a>
      <h1>å¯¹è”ç”Ÿæˆå™¨</h1>
      <p class="subtitle">ç”Ÿæˆå„ç§ä¸»é¢˜çš„ä¸­å›½ä¼ ç»Ÿå¯¹è”</p>

      <div class="card">
        <div class="card-title">é€‰æ‹©å¯¹è”ä¸»é¢˜</div>
        <div class="theme-tags">
          <span class="theme-tag active" data-theme="spring" onclick="setTheme('spring')">
            æ˜¥èŠ‚
          </span>
          <span class="theme-tag" data-theme="wedding" onclick="setTheme('wedding')">å©šåº†</span>
          <span class="theme-tag" data-theme="birthday" onclick="setTheme('birthday')">å¯¿åº†</span>
          <span class="theme-tag" data-theme="business" onclick="setTheme('business')">å¼€ä¸š</span>
          <span class="theme-tag" data-theme="study" onclick="setTheme('study')">åŠ±å¿—</span>
          <span class="theme-tag" data-theme="home" onclick="setTheme('home')">ä¹”è¿</span>
          <span class="theme-tag" data-theme="classic" onclick="setTheme('classic')">ç»å…¸</span>
          <span class="theme-tag" data-theme="nature" onclick="setTheme('nature')">è‡ªç„¶</span>
        </div>

        <button class="btn btn-primary" onclick="generate()">ç”Ÿæˆå¯¹è”</button>

        <div class="custom-input">
          <label>æˆ–è¾“å…¥ä¸Šè”ï¼Œè‡ªåŠ¨åŒ¹é…ä¸‹è”ï¼š</label>
          <input type="text" id="upperInput" placeholder="è¯·è¾“å…¥ä¸Šè”ï¼ˆ5-11å­—ï¼‰" maxlength="11" />
          <button class="btn btn-primary" onclick="matchLower()">åŒ¹é…ä¸‹è”</button>
        </div>
      </div>

      <div class="card" id="resultCard">
        <div class="couplet-display">
          <div class="couplet-scroll">
            <div class="scroll-text" id="upperText">å¤©å¢å²æœˆäººå¢å¯¿</div>
          </div>
          <div class="couplet-scroll horizontal">
            <div class="scroll-text horizontal" id="horizontalText">ç¦</div>
          </div>
          <div class="couplet-scroll">
            <div class="scroll-text" id="lowerText">æ˜¥æ»¡ä¹¾å¤ç¦æ»¡é—¨</div>
          </div>
        </div>

        <div class="couplet-info">
          <div class="theme" id="coupletTheme">æ˜¥èŠ‚å¯¹è”</div>
          <div class="meaning" id="coupletMeaning">
            å¯“æ„ï¼šå²æœˆå¢é•¿ï¼Œäººä¹Ÿå¢æ·»å¯¿å‘½ï¼›æ˜¥å¤©å……æ»¡å¤©åœ°ï¼Œç¦æ°”å……æ»¡å®¶é—¨ã€‚è¡¨è¾¾å¯¹æ–°å¹´çš„ç¾å¥½ç¥æ„¿ã€‚
          </div>
        </div>

        <div style="text-align: center">
          <button class="copy-btn" onclick="copyCouplet()">å¤åˆ¶å¯¹è”</button>
        </div>
      </div>

      <div class="card">
        <div class="history-section">
          <div class="history-title">æœ€è¿‘ç”Ÿæˆ</div>
          <div class="history-list" id="historyList">
            <div style="color: var(--text2); text-align: center; padding: 20px">æš‚æ— å†å²è®°å½•</div>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="tips">
          <h4>å¯¹è”å°çŸ¥è¯†</h4>
          <ul>
            <li>
              <strong>ä¸Šè”</strong>
              ï¼šè´´åœ¨é—¨å³è¾¹ï¼ˆé¢å¯¹é—¨æ—¶çš„å³æ‰‹è¾¹ï¼‰ï¼Œæœ€åä¸€ä¸ªå­—ä¸ºä»„å£°ï¼ˆä¸‰å£°ã€å››å£°ï¼‰
            </li>
            <li>
              <strong>ä¸‹è”</strong>
              ï¼šè´´åœ¨é—¨å·¦è¾¹ï¼ˆé¢å¯¹é—¨æ—¶çš„å·¦æ‰‹è¾¹ï¼‰ï¼Œæœ€åä¸€ä¸ªå­—ä¸ºå¹³å£°ï¼ˆä¸€å£°ã€äºŒå£°ï¼‰
            </li>
            <li>
              <strong>æ¨ªæ‰¹</strong>
              ï¼šè´´åœ¨é—¨æ¥£ä¸Šæ–¹ï¼Œä¸€èˆ¬ä¸ºå››ä¸ªå­—
            </li>
            <li>
              <strong>å¯¹ä»—</strong>
              ï¼šä¸Šä¸‹è”å­—æ•°ç›¸ç­‰ï¼Œè¯æ€§ç›¸åŒï¼Œå¹³ä»„ç›¸å¯¹
            </li>
          </ul>
        </div>
      </div>
    </div>

    <script>
      // å¯¹è”æ•°æ®åº“
      const coupletDatabase = {
        spring: [
          {
            upper: "å¤©å¢å²æœˆäººå¢å¯¿",
            lower: "æ˜¥æ»¡ä¹¾å¤ç¦æ»¡é—¨",
            horizontal: "ç¦æ˜Ÿé«˜ç…§",
            meaning: "å²æœˆå¢é•¿äººä¹Ÿå¢å¯¿ï¼Œæ˜¥å¤©å……æ»¡å¤©åœ°ç¦æ°”å……æ»¡å®¶é—¨ã€‚"
          },
          {
            upper: "çˆ†ç«¹å£°å£°è¾æ—§å²",
            lower: "æ¢…èŠ±ç‚¹ç‚¹è¿æ–°æ˜¥",
            horizontal: "è¾æ—§è¿æ–°",
            meaning: "çˆ†ç«¹å£°å£°é€èµ°æ—§çš„ä¸€å¹´ï¼Œæ¢…èŠ±æœµæœµè¿æ¥æ–°çš„æ˜¥å¤©ã€‚"
          },
          {
            upper: "ä¸€å¸†é£é¡ºå¹´å¹´å¥½",
            lower: "ä¸‡äº‹å¦‚æ„æ­¥æ­¥é«˜",
            horizontal: "å‰ç¥¥å¦‚æ„",
            meaning: "ç¥æ„¿äº‹ä¸šé¡ºåˆ©å¹´å¹´å¥½è¿ï¼Œä¸‡äº‹å¦‚æ„¿æ­¥æ­¥é«˜å‡ã€‚"
          },
          {
            upper: "é‡‘é¸¡æŠ¥æ™“è¿æ˜¥æ¥",
            lower: "å–œé¹Šç™»æ¢…æŠ¥å–œè®¯",
            horizontal: "æ˜¥å›å¤§åœ°",
            meaning: "é‡‘é¸¡æŠ¥æ™“è¿æ¥æ˜¥å¤©åˆ°æ¥ï¼Œå–œé¹Šç™»ä¸Šæ¢…ææŠ¥å‘Šå–œè®¯ã€‚"
          },
          {
            upper: "çº¢æ¢…å«è‹å‚²å†¬é›ª",
            lower: "ç»¿æŸ³åçµ®è¿æ˜¥é£",
            horizontal: "æ˜¥æ„ç›ç„¶",
            meaning: "çº¢æ¢…å«è‹å‚²ç«‹å†¬é›ªä¸­ï¼Œç»¿æŸ³åå‡ºæŸ³çµ®è¿æ˜¥é£ã€‚"
          },
          {
            upper: "æ˜¥é£é€æš–å…¥å± è‹",
            lower: "ç‘é›ªå…†ä¸°è¿å‰å¹´",
            horizontal: "æ–°æ˜¥å¤§å‰",
            meaning: "æ˜¥é£å¸¦æ¥æ¸©æš–ï¼Œç•…é¥®å± è‹é…’ï¼›ç‘é›ªé¢„ç¤ºä¸°å¹´ï¼Œè¿æ¥å‰ç¥¥å¹´ã€‚"
          },
          {
            upper: "å’Œé¡ºä¸€é—¨æœ‰ç™¾ç¦",
            lower: "å¹³å®‰äºŒå­—å€¼åƒé‡‘",
            horizontal: "ä¸‡è±¡æ›´æ–°",
            meaning: "å®¶åº­å’Œé¡ºå°±æœ‰ç™¾ç§ç¦æ°”ï¼Œå¹³å®‰äºŒå­—ä»·å€¼åƒé‡‘ã€‚"
          },
          {
            upper: "å››å­£å¹³å®‰å¥½è¿æ¥",
            lower: "å…«æ–¹è´¢å®è¿›é—¨åº­",
            horizontal: "æ‹›è´¢è¿›å®",
            meaning: "å››å­£å¹³å®‰å¥½è¿é™ä¸´ï¼Œå…«æ–¹è´¢å®è¿›å…¥å®¶é—¨ã€‚"
          }
        ],
        wedding: [
          {
            upper: "ç™¾å¹´æ©çˆ±åŒå¿ƒç»“",
            lower: "åƒé‡Œå§»ç¼˜ä¸€çº¿ç‰µ",
            horizontal: "å¤©ä½œä¹‹åˆ",
            meaning: "ç™¾å¹´æ©çˆ±ä¸¤é¢—å¿ƒç›¸è¿ï¼Œåƒé‡Œå§»ç¼˜ä¸€æ¡çº¢çº¿ç‰µã€‚"
          },
          {
            upper: "é¾™å‡¤å‘ˆç¥¥æ·»å–œæ°”",
            lower: "é¸³é¸¯æ¯”ç¿¼å…±ç¿±ç¿”",
            horizontal: "æ°¸ç»“åŒå¿ƒ",
            meaning: "é¾™å‡¤å‘ˆç¥¥å¢æ·»å–œåº†æ°”æ°›ï¼Œé¸³é¸¯æ¯”ç¿¼å…±åŒé£ç¿”ã€‚"
          },
          {
            upper: "èŠ±å¥½æœˆåœ†äººå›¢èš",
            lower: "ç´ç‘Ÿå’Œé¸£æ°¸ç›¸éš",
            horizontal: "ç™¾å¹´å¥½åˆ",
            meaning: "èŠ±å¥½æœˆåœ†äººå›¢èšï¼Œç´ç‘Ÿå’Œè°æ°¸ç›¸ä¼´ã€‚"
          },
          {
            upper: "æ‰å­ä½³äººå¤©è®¾åœ°é€ ",
            lower: "éƒæƒ…å¦¾æ„åœ°ä¹…å¤©é•¿",
            horizontal: "ä½³å¶å¤©æˆ",
            meaning: "æ‰å­ä½³äººæ˜¯å¤©é€ åœ°è®¾çš„ä¸€å¯¹ï¼Œéƒæƒ…å¦¾æ„åœ°ä¹…å¤©é•¿ã€‚"
          },
          {
            upper: "çº¢çƒ›æ˜ç½—å¸æ´æˆ¿æ˜¥æš–",
            lower: "å½©ç¯ç»“ç»®çª—æ–°äººå–œä¸´",
            horizontal: "å–œç»“è‰¯ç¼˜",
            meaning: "çº¢çƒ›æ˜ ç…§ç½—å¸æ´æˆ¿æ˜¥æš–ï¼Œå½©ç¯è£…é¥°çª—æˆ·æ–°äººå–œä¸´ã€‚"
          }
        ],
        birthday: [
          {
            upper: "ç¦å¦‚ä¸œæµ·é•¿æµæ°´",
            lower: "å¯¿æ¯”å—å±±ä¸è€æ¾",
            horizontal: "ç¦å¯¿åŒå…¨",
            meaning: "ç¦æ°”å¦‚ä¸œæµ·æ°´é•¿æµä¸æ¯ï¼Œå¯¿å‘½å¦‚å—å±±æ¾é•¿é’ä¸è€ã€‚"
          },
          {
            upper: "æ˜¥ç§‹ä¸è€å¸¸é’æ ‘",
            lower: "å²æœˆç•™é¦™æ»¡åº­èŠ³",
            horizontal: "å¯¿æ¯”å—å±±",
            meaning: "å²æœˆä¸è€å¦‚å¸¸é’æ ‘ï¼Œæ—¶å…‰ç•™é¦™æ»¡åº­èŠ¬èŠ³ã€‚"
          },
          {
            upper: "æ—¥æœˆåŒè¾‰å¢ç¦å¯¿",
            lower: "å±±æ²³å¹¶ç§€ç¥é•¿æ˜¥",
            horizontal: "æ¾é¹¤å»¶å¹´",
            meaning: "æ—¥æœˆåŒè¾‰å¢æ·»ç¦å¯¿ï¼Œå±±æ²³å¹¶ç§€ç¥æ„¿é•¿å¯¿ã€‚"
          },
          {
            upper: "ä»è€…é™å¯¿å¾·è€…åº·",
            lower: "æ™ºè€…ä¹æ°´ç¦è€…å®",
            horizontal: "ä»å¯¿åŒå…¨",
            meaning: "ä»å¾·ä¹‹äººé™äº«é•¿å¯¿ï¼Œæ™ºæ…§ä¹‹äººç¦å¯¿å®‰å®ã€‚"
          }
        ],
        business: [
          {
            upper: "ç”Ÿæ„å…´éš†é€šå››æµ·",
            lower: "è´¢æºèŒ‚ç››è¾¾ä¸‰æ±Ÿ",
            horizontal: "æ‹›è´¢è¿›å®",
            meaning: "ç”Ÿæ„å…´éš†é€šè¾¾å››æµ·ï¼Œè´¢æºèŒ‚ç››éåŠä¸‰æ±Ÿã€‚"
          },
          {
            upper: "é—¨è¿ç™¾ç¦ç¦ä¸´é—¨",
            lower: "æˆ·çº³åƒç¥¥ç¥¥æ»¡æˆ·",
            horizontal: "å¼€ä¸šå¤§å‰",
            meaning: "é—¨å‰è¿æ¥ç™¾ç¦ç¦æ°”ä¸´é—¨ï¼Œæˆ·ä¸­çº³å…¥åƒç¥¥ç¥¥ç‘æ»¡æˆ·ã€‚"
          },
          {
            upper: "é¸¿å›¾å¤§å±•æ·»é”¦ç»£",
            lower: "äº‹ä¸šè¾‰ç…Œè€€æ—¥æœˆ",
            horizontal: "è´¢æºå¹¿è¿›",
            meaning: "å®å›¾å¤§å±•å‰ç¨‹é”¦ç»£ï¼Œäº‹ä¸šè¾‰ç…Œå…‰è€€æ—¥æœˆã€‚"
          },
          {
            upper: "è¯šä¿¡ä¸ºæœ¬èª‰æ»¡å¤©ä¸‹",
            lower: "å“è´¨ç¬¬ä¸€å®¢ä¼¼äº‘æ¥",
            horizontal: "æ—¥è¿›æ–—é‡‘",
            meaning: "ä»¥è¯šä¿¡ä¸ºæœ¬ç¾èª‰æ»¡å¤©ä¸‹ï¼Œä»¥å“è´¨ä¸ºå…ˆé¡¾å®¢å¦‚äº‘æ¥ã€‚"
          }
        ],
        study: [
          {
            upper: "ä¹¦å±±æœ‰è·¯å‹¤ä¸ºå¾„",
            lower: "å­¦æµ·æ— æ¶¯è‹¦ä½œèˆŸ",
            horizontal: "å¤©é“é…¬å‹¤",
            meaning: "è¯»ä¹¦æ”€ç™»è¦ä»¥å‹¤å¥‹ä¸ºè·¯ï¼Œå­¦æµ·æ— è¾¹è¦ä»¥åˆ»è‹¦ä¸ºèˆŸã€‚"
          },
          {
            upper: "å®å‰‘é”‹ä»ç£¨ç ºå‡º",
            lower: "æ¢…èŠ±é¦™è‡ªè‹¦å¯’æ¥",
            horizontal: "è‡ªå¼ºä¸æ¯",
            meaning: "å®å‰‘é”‹åˆ©æ¥è‡ªç£¨ç ºï¼Œæ¢…èŠ±èŠ¬èŠ³æºäºè‹¦å¯’ã€‚"
          },
          {
            upper: "åšå­¦å¤šæ‰é“¸æ ‹æ¢",
            lower: "å‹¤å¥‹å¥½å­¦æˆå¤§å™¨",
            horizontal: "å­¦æµ·æ— æ¶¯",
            meaning: "åšå­¦å¤šæ‰èƒ½æˆä¸ºæ ‹æ¢ä¹‹æï¼Œå‹¤å¥‹å¥½å­¦èƒ½æˆå°±å¤§å™¨ã€‚"
          },
          {
            upper: "åƒæ·˜ä¸‡æ¼‰è™½è¾›è‹¦",
            lower: "å¹å°½ç‹‚æ²™å§‹åˆ°é‡‘",
            horizontal: "æŒä¹‹ä»¥æ’",
            meaning: "åƒæ·˜ä¸‡æ¼‰è™½ç„¶è¾›è‹¦ï¼Œå¹å°½ç‹‚æ²™æ‰èƒ½å¾—åˆ°çœŸé‡‘ã€‚"
          }
        ],
        home: [
          {
            upper: "ä¹”è¿å–œå¤©åœ°äººå…±å–œ",
            lower: "æ–°å±…è£å¯Œè´µç¦æ¥ä¸´",
            horizontal: "ä¹”è¿ä¹‹å–œ",
            meaning: "ä¹”è¿ä¹‹å–œå¤©åœ°äººå…±åŒæ¬¢å–œï¼Œæ–°å±…è£è€€å¯Œè´µç¦æ°”æ¥ä¸´ã€‚"
          },
          {
            upper: "åå ‚ç„•å½©è¿æ˜¥åˆ°",
            lower: "æ–°å±…å¢è¾‰æ²å–œæ¥",
            horizontal: "å‰å®…çº³ç¦",
            meaning: "åç¾å…å ‚ç„•å‘å…‰å½©è¿æ¥æ˜¥å¤©ï¼Œæ–°å±…å¢æ·»å…‰è¾‰æ²æµ´å–œæ°”ã€‚"
          },
          {
            upper: "é—¨åº­è‹¥å¸‚è´¢æºå¹¿",
            lower: "å®¶é“å…´éš†ç¦æ»¡å ‚",
            horizontal: "ç´«æ°”ä¸œæ¥",
            meaning: "é—¨åº­å¦‚å¸‚è´¢æºå¹¿è¿›ï¼Œå®¶é“å…´éš†ç¦æ»¡å ‚ã€‚"
          }
        ],
        classic: [
          {
            upper: "é£å£°é›¨å£°è¯»ä¹¦å£°å£°å£°å…¥è€³",
            lower: "å®¶äº‹å›½äº‹å¤©ä¸‹äº‹äº‹äº‹å…³å¿ƒ",
            horizontal: "å¿ƒç³»å¤©ä¸‹",
            meaning: "é£å£°é›¨å£°è¯»ä¹¦å£°å£°å£°éƒ½å¬å…¥è€³ä¸­ï¼Œå®¶äº‹å›½äº‹å¤©ä¸‹äº‹äº‹äº‹éƒ½è¦å…³å¿ƒã€‚"
          },
          {
            upper: "æœ‰å¿—è€…äº‹ç«Ÿæˆ",
            lower: "è‹¦å¿ƒäººå¤©ä¸è´Ÿ",
            horizontal: "å¤©é“é…¬å‹¤",
            meaning: "æœ‰å¿—å‘çš„äººäº‹æƒ…ç»ˆç©¶èƒ½æˆåŠŸï¼Œæœ‰è‹¦å¿ƒçš„äººè€å¤©ä¸ä¼šè¾œè´Ÿã€‚"
          },
          {
            upper: "æµ·çº³ç™¾å·æœ‰å®¹ä¹ƒå¤§",
            lower: "å£ç«‹åƒä»æ— æ¬²åˆ™åˆš",
            horizontal: "å¤§æµ·æ— ç–†",
            meaning: "å¤§æµ·å®¹çº³ç™¾å·æ˜¯å› ä¸ºæœ‰å®¹é‡æ‰èƒ½å¹¿å¤§ï¼Œå³­å£ç›´ç«‹åƒä»æ˜¯å› ä¸ºæ— æ¬²æœ›æ‰èƒ½åˆšå¼ºã€‚"
          },
          {
            upper: "æ¬²ç©·åƒé‡Œç›®",
            lower: "æ›´ä¸Šä¸€å±‚æ¥¼",
            horizontal: "ç™»é«˜æœ›è¿œ",
            meaning: "æƒ³è¦çœ‹åˆ°åƒé‡Œä¹‹å¤–çš„æ™¯è‰²ï¼Œå°±è¦å†ç™»ä¸Šä¸€å±‚æ¥¼ã€‚"
          }
        ],
        nature: [
          {
            upper: "å±±æ¸…æ°´ç§€é£å…‰å¥½",
            lower: "é¸Ÿè¯­èŠ±é¦™æ˜¥æ„æµ“",
            horizontal: "æ˜¥è‰²æ»¡å›­",
            meaning: "å±±æ¸…æ°´ç§€é£å…‰ç¾å¥½ï¼Œé¸Ÿè¯­èŠ±é¦™æ˜¥æ„æµ“éƒã€‚"
          },
          {
            upper: "äº‘æ·¡é£è½»è¿‘åˆå¤©",
            lower: "å‚èŠ±éšæŸ³è¿‡å‰å·",
            horizontal: "å¿ƒæ—·ç¥æ€¡",
            meaning: "äº‘æ·¡é£è½»æ¥è¿‘ä¸­åˆæ—¶åˆ†ï¼Œå‚ç€èŠ±ä¸›éšç€æŸ³æ ‘èµ°è¿‡å‰é¢çš„æ²³å·ã€‚"
          },
          {
            upper: "ç¢§æ°´é’å±±æ˜ æ—¥æœˆ",
            lower: "é‡‘é£ç‰éœ²æ¶¦äººé—´",
            horizontal: "å¤©åœ°å’Œè°",
            meaning: "ç¢§æ°´é’å±±æ˜ ç…§æ—¥æœˆï¼Œé‡‘é£ç‰éœ²æ»‹æ¶¦äººé—´ã€‚"
          }
        ]
      };

      let currentTheme = "spring";
      let currentCouplet = null;
      let history = [];

      function setTheme(theme) {
        currentTheme = theme;
        document.querySelectorAll(".theme-tag").forEach((tag) => {
          tag.classList.toggle("active", tag.dataset.theme === theme);
        });
      }

      function generate() {
        const couplets = coupletDatabase[currentTheme];
        const randomIndex = Math.floor(Math.random() * couplets.length);
        currentCouplet = couplets[randomIndex];

        displayCouplet(currentCouplet);
        addToHistory(currentCouplet);
      }

      function displayCouplet(couplet) {
        document.getElementById("upperText").textContent = couplet.upper;
        document.getElementById("lowerText").textContent = couplet.lower;
        document.getElementById("horizontalText").textContent = couplet.horizontal;

        const themeNames = {
          spring: "æ˜¥èŠ‚å¯¹è”",
          wedding: "å©šåº†å¯¹è”",
          birthday: "å¯¿åº†å¯¹è”",
          business: "å¼€ä¸šå¯¹è”",
          study: "åŠ±å¿—å¯¹è”",
          home: "ä¹”è¿å¯¹è”",
          classic: "ç»å…¸å¯¹è”",
          nature: "è‡ªç„¶å¯¹è”"
        };
        document.getElementById("coupletTheme").textContent = themeNames[currentTheme] || "å¯¹è”";
        document.getElementById("coupletMeaning").textContent = "å¯“æ„ï¼š" + couplet.meaning;
      }

      function matchLower() {
        const upperInput = document.getElementById("upperInput").value.trim();
        if (!upperInput) {
          alert("è¯·è¾“å…¥ä¸Šè”");
          return;
        }

        if (upperInput.length < 5 || upperInput.length > 11) {
          alert("ä¸Šè”é•¿åº¦åº”åœ¨5-11å­—ä¹‹é—´");
          return;
        }

        // ç®€å•çš„ä¸‹è”åŒ¹é…é€»è¾‘
        const lowerResponses = {
          å¤©å¢å²æœˆäººå¢å¯¿: "æ˜¥æ»¡ä¹¾å¤ç¦æ»¡é—¨",
          çˆ†ç«¹å£°å£°è¾æ—§å²: "æ¢…èŠ±ç‚¹ç‚¹è¿æ–°æ˜¥",
          ä¹¦å±±æœ‰è·¯å‹¤ä¸ºå¾„: "å­¦æµ·æ— æ¶¯è‹¦ä½œèˆŸ",
          ç¦å¦‚ä¸œæµ·é•¿æµæ°´: "å¯¿æ¯”å—å±±ä¸è€æ¾",
          ç”Ÿæ„å…´éš†é€šå››æµ·: "è´¢æºèŒ‚ç››è¾¾ä¸‰æ±Ÿ",
          æµ·çº³ç™¾å·æœ‰å®¹ä¹ƒå¤§: "å£ç«‹åƒä»æ— æ¬²åˆ™åˆš"
        };

        let matchedLower = lowerResponses[upperInput];

        if (!matchedLower) {
          // ç”Ÿæˆä¸€ä¸ªéšæœºä¸‹è”
          const genericLowers = [
            "ç¦æ»¡äººé—´å–œç›ˆé—¨",
            "æ˜¥å›å¤§åœ°æ™¯è‰²æ–°",
            "ä¹äº«äººç”Ÿæ­¥æ­¥é«˜",
            "è´¢æºå¹¿è¿›å¹´å¹´æ—º",
            "é¹ç¨‹ä¸‡é‡Œå±•å®å›¾",
            "å¿ƒæƒ³äº‹æˆçš†å¦‚æ„"
          ];
          // æ ¹æ®å­—æ•°é€‰æ‹©
          const sameLength = genericLowers.filter((l) => l.length === upperInput.length);
          if (sameLength.length > 0) {
            matchedLower = sameLength[Math.floor(Math.random() * sameLength.length)];
          } else {
            matchedLower = genericLowers[Math.floor(Math.random() * genericLowers.length)];
          }
        }

        currentCouplet = {
          upper: upperInput,
          lower: matchedLower,
          horizontal: "å‰ç¥¥å¦‚æ„",
          meaning: "æ ¹æ®æ‚¨è¾“å…¥çš„ä¸Šè”åŒ¹é…çš„ä¸‹è”ã€‚"
        };

        displayCouplet(currentCouplet);
        addToHistory(currentCouplet);
      }

      function addToHistory(couplet) {
        // é¿å…é‡å¤
        const exists = history.some((h) => h.upper === couplet.upper && h.lower === couplet.lower);
        if (!exists) {
          history.unshift(couplet);
          if (history.length > 5) history.pop();
          renderHistory();
        }
      }

      function renderHistory() {
        const list = document.getElementById("historyList");
        list.textContent = "";

        if (history.length === 0) {
          const empty = document.createElement("div");
          empty.style.cssText = "color: var(--text2); text-align: center; padding: 20px;";
          empty.textContent = "æš‚æ— å†å²è®°å½•";
          list.appendChild(empty);
          return;
        }

        history.forEach((couplet) => {
          const item = document.createElement("div");
          item.className = "history-item";
          item.onclick = () => {
            currentCouplet = couplet;
            displayCouplet(couplet);
          };

          const upper = document.createElement("div");
          upper.className = "upper";
          upper.textContent = "ä¸Šï¼š" + couplet.upper;

          const lower = document.createElement("div");
          lower.className = "lower";
          lower.textContent = "ä¸‹ï¼š" + couplet.lower;

          item.appendChild(upper);
          item.appendChild(lower);
          list.appendChild(item);
        });
      }

      function copyCouplet() {
        if (!currentCouplet) return;

        const text = `ä¸Šè”ï¼š${currentCouplet.upper}\nä¸‹è”ï¼š${currentCouplet.lower}\næ¨ªæ‰¹ï¼š${currentCouplet.horizontal}`;
        navigator.clipboard.writeText(text).then(() => {
          alert("å¯¹è”å·²å¤åˆ¶åˆ°å‰ªè´´æ¿");
        });
      }

      // åˆå§‹ç”Ÿæˆä¸€å‰¯å¯¹è”
      generate();

      // Theme toggle
      function toggleTheme() {
        const html = document.documentElement;
        const currentTheme = html.getAttribute("data-theme");
        const newTheme = currentTheme === "light" ? "dark" : "light";
        html.setAttribute("data-theme", newTheme);
        document.getElementById("theme-icon").textContent = newTheme === "light" ? "â˜€ï¸" : "ğŸŒ™";
        localStorage.setItem("theme", newTheme);
      }

      // Load saved theme
      const savedTheme = localStorage.getItem("theme") || "dark";
      if (savedTheme === "light") {
        document.documentElement.setAttribute("data-theme", "light");
        document.getElementById("theme-icon").textContent = "â˜€ï¸";
      }
    </script>
  </body>
</html>
