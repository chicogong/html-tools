<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>é»„é‡‘æ—¶åˆ»è®¡ç®—å™¨ - WebUtils</title>
  <meta name="description" content="è®¡ç®—æ—¥å‡ºæ—¥è½ã€é»„é‡‘æ—¶åˆ»ã€è“è°ƒæ—¶åˆ»ç­‰æ‘„å½±æœ€ä½³æ—¶é—´" />
  <meta name="keywords" content="æ‘„å½± é»„é‡‘æ—¶åˆ» æ—¥å‡º æ—¥è½ golden hour blue hour photography sunrise sunset" />
  <meta name="author" content="WebUtils" />
  <link rel="canonical" href="https://tools.realtime-ai.chat/tools/photography/golden-hour.html" />

  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&family=Space+Grotesk:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    :root{--bg-deep:#0a0a0f;--bg-surface:#12121a;--bg-card:#1a1a24;--text-primary:#e8e8ed;--text-secondary:#9898a4;--text-muted:#5c5c66;--accent-blue:#4d9fff;--accent-cyan:#00f5d4;--accent-orange:#ff9f43;--accent-yellow:#ffd93d;--accent-purple:#a55eea;--border-subtle:#2a2a36;--radius-sm:6px;--radius-md:10px;--radius-lg:14px}
    [data-theme="light"]{--bg-deep:#fafafa;--bg-surface:#fff;--bg-card:#fff;--text-primary:#1a1a1a;--text-secondary:#666;--text-muted:#999;--border-subtle:#e5e5e5}
    *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
    body{font-family:'Space Grotesk',system-ui,sans-serif;background:var(--bg-deep);color:var(--text-primary);min-height:100vh;line-height:1.6}
    .bg-grid{position:fixed;inset:0;background-image:linear-gradient(rgba(77,159,255,.03) 1px,transparent 1px),linear-gradient(90deg,rgba(77,159,255,.03) 1px,transparent 1px);background-size:50px 50px;pointer-events:none;z-index:0}
    .container{position:relative;z-index:1;max-width:700px;margin:0 auto;padding:2rem 1.5rem}
    .theme-toggle{position:fixed;top:1rem;right:1rem;width:40px;height:40px;border-radius:50%;border:1px solid var(--border-subtle);background:var(--bg-card);cursor:pointer;font-size:1.2rem;z-index:100;transition:all .2s}
    .theme-toggle:hover{border-color:var(--accent-cyan);transform:scale(1.1)}
    .breadcrumb{display:flex;align-items:center;gap:8px;font-size:.85rem;padding:8px 14px;background:var(--bg-surface);border:1px solid var(--border-subtle);border-radius:var(--radius-sm);margin-bottom:1.5rem;flex-wrap:wrap}
    .breadcrumb a{color:var(--text-secondary);text-decoration:none}
    .breadcrumb a:hover{color:var(--accent-cyan)}
    .breadcrumb-separator{color:var(--text-muted)}
    .breadcrumb-current{color:var(--text-primary);font-weight:500}
    h1{font-size:2rem;font-weight:600;margin-bottom:.5rem;background:linear-gradient(135deg,var(--text-primary),var(--accent-orange));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-align:center}
    .subtitle{color:var(--text-secondary);margin-bottom:2rem;text-align:center}
    .location-input{background:var(--bg-card);border:1px solid var(--border-subtle);border-radius:var(--radius-lg);padding:1.5rem;margin-bottom:1.5rem}
    .form-group{margin-bottom:1rem}
    .form-group label{display:block;font-size:.9rem;color:var(--text-secondary);margin-bottom:.5rem}
    .form-row{display:grid;grid-template-columns:1fr 1fr;gap:1rem}
    .form-group input{width:100%;padding:.75rem;border:1px solid var(--border-subtle);border-radius:var(--radius-sm);background:var(--bg-surface);color:var(--text-primary);font-family:'JetBrains Mono',monospace}
    .form-group input:focus{outline:none;border-color:var(--accent-blue)}
    .btn{padding:.75rem 1.5rem;border:none;border-radius:var(--radius-sm);background:var(--accent-orange);color:#000;font-weight:600;cursor:pointer;transition:all .2s;width:100%}
    .btn:hover{transform:translateY(-1px)}
    .timeline{background:var(--bg-card);border:1px solid var(--border-subtle);border-radius:var(--radius-lg);padding:1.5rem;margin-bottom:1.5rem}
    .timeline-title{font-size:1rem;font-weight:600;margin-bottom:1.5rem;color:var(--accent-cyan)}
    .timeline-items{display:flex;flex-direction:column;gap:.75rem}
    .timeline-item{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.25rem;border-radius:var(--radius-md);border-left:4px solid;transition:all .2s}
    .timeline-item:hover{transform:translateX(4px)}
    .timeline-item.sunrise{border-color:var(--accent-orange);background:linear-gradient(90deg,rgba(255,159,67,.1),transparent)}
    .timeline-item.golden{border-color:var(--accent-yellow);background:linear-gradient(90deg,rgba(255,217,61,.1),transparent)}
    .timeline-item.blue{border-color:var(--accent-blue);background:linear-gradient(90deg,rgba(77,159,255,.1),transparent)}
    .timeline-item.sunset{border-color:var(--accent-purple);background:linear-gradient(90deg,rgba(165,94,234,.1),transparent)}
    .timeline-label{display:flex;align-items:center;gap:.75rem}
    .timeline-icon{font-size:1.5rem}
    .timeline-name{font-weight:600}
    .timeline-desc{font-size:.85rem;color:var(--text-muted);margin-top:.25rem}
    .timeline-time{font-family:'JetBrains Mono',monospace;font-size:1.25rem;font-weight:700;color:var(--text-primary)}
    .info-box{background:linear-gradient(135deg,rgba(255,159,67,.1),rgba(255,217,61,.1));border:1px solid var(--accent-orange);border-radius:var(--radius-md);padding:1.25rem;margin-bottom:1.5rem}
    .info-title{font-weight:600;margin-bottom:.5rem;color:var(--accent-orange)}
    .info-text{font-size:.9rem;line-height:1.6;color:var(--text-secondary)}
    footer{margin-top:3rem;padding-top:1.5rem;border-top:1px solid var(--border-subtle);text-align:center;color:var(--text-muted);font-size:.85rem}
    footer a{color:var(--accent-blue);text-decoration:none}
    @media(max-width:500px){.form-row{grid-template-columns:1fr}.timeline-time{font-size:1.1rem}}
  </style>
</head>
<body>
  <div class="bg-grid"></div>
  <div class="container">
    <button class="theme-toggle" onclick="toggleTheme()" title="åˆ‡æ¢ä¸»é¢˜">ğŸŒ™</button>

    <nav class="breadcrumb">
      <a href="../../index.html">é¦–é¡µ</a>
      <span class="breadcrumb-separator">/</span>
      <a href="../../index.html#photography">æ‘„å½±å·¥å…·</a>
      <span class="breadcrumb-separator">/</span>
      <span class="breadcrumb-current">é»„é‡‘æ—¶åˆ»è®¡ç®—</span>
    </nav>

    <h1>ğŸ“· é»„é‡‘æ—¶åˆ»è®¡ç®—å™¨</h1>
    <p class="subtitle">æ‰¾åˆ°æœ€ä½³æ‘„å½±æ—¶é—´</p>

    <div class="location-input">
      <div class="form-row">
        <div class="form-group">
          <label>çº¬åº¦</label>
          <input type="number" id="latitude" value="39.9" step="0.1" min="-90" max="90" placeholder="39.9 (åŒ—çº¬ä¸ºæ­£)">
        </div>
        <div class="form-group">
          <label>ç»åº¦</label>
          <input type="number" id="longitude" value="116.4" step="0.1" min="-180" max="180" placeholder="116.4 (ä¸œç»ä¸ºæ­£)">
        </div>
      </div>
      <div class="form-group">
        <label>æ—¥æœŸ</label>
        <input type="date" id="date">
      </div>
      <button class="btn" onclick="calculate()">è®¡ç®—</button>
    </div>

    <div class="info-box">
      <div class="info-title">ğŸ’¡ ä½¿ç”¨æç¤º</div>
      <div class="info-text">
        è¾“å…¥ä½ çš„ä½ç½®åæ ‡å’Œæ—¥æœŸï¼Œç³»ç»Ÿä¼šè®¡ç®—å‡ºæœ€ä½³æ‘„å½±æ—¶æ®µã€‚åŒ—äº¬: çº¬åº¦39.9Â° ç»åº¦116.4Â°
      </div>
    </div>

    <div class="timeline">
      <div class="timeline-title">â° ä»Šæ—¥æ‘„å½±æ—¶åˆ»è¡¨</div>
      <div class="timeline-items" id="timeline">
        <!-- Timeline will be rendered here -->
      </div>
    </div>

    <div class="info-box">
      <div class="info-title">ğŸ“– å…³äºæ‘„å½±æ—¶åˆ»</div>
      <div class="info-text">
        â€¢ <strong>è“è°ƒæ—¶åˆ»</strong>: å¤ªé˜³åœ¨åœ°å¹³çº¿ä¸‹6Â°æ—¶ï¼Œå¤©ç©ºå‘ˆç°æ·±è“è‰²ï¼Œé€‚åˆæ‹æ‘„åŸå¸‚å¤œæ™¯<br>
        â€¢ <strong>é»„é‡‘æ—¶åˆ»</strong>: æ—¥å‡ºæ—¥è½å‰åï¼Œå…‰çº¿æŸ”å’Œæ¸©æš–ï¼Œæ˜¯é£æ™¯æ‘„å½±çš„æœ€ä½³æ—¶æ®µ<br>
        â€¢ <strong>é¿å…æ­£åˆ</strong>: ä¸­åˆé˜³å…‰è¿‡å¼ºï¼Œå¯¹æ¯”åº¦è¿‡é«˜ï¼Œä¸é€‚åˆå¤§å¤šæ•°æ‘„å½±é¢˜æ
      </div>
    </div>

    <footer>
      <a href="https://github.com/nicexe/html-tools" target="_blank">GitHub</a>
    </footer>
  </div>

  <script>
    // Simplified sun position calculator (approximate)
    function getSunTimes(lat, lng, date) {
      const J2000 = 2451545.0;
      const deg2rad = Math.PI / 180;

      // Convert date to Julian date
      const y = date.getFullYear();
      const m = date.getMonth() + 1;
      const d = date.getDate();

      const a = Math.floor((14 - m) / 12);
      const y2 = y + 4800 - a;
      const m2 = m + 12 * a - 3;

      const jd = d + Math.floor((153 * m2 + 2) / 5) + 365 * y2 + Math.floor(y2 / 4) - Math.floor(y2 / 100) + Math.floor(y2 / 400) - 32045;

      const n = jd - J2000;
      const meanAnomaly = (357.5291 + 0.98560028 * n) % 360;
      const center = 1.9148 * Math.sin(meanAnomaly * deg2rad) + 0.0200 * Math.sin(2 * meanAnomaly * deg2rad);
      const eclipticLongitude = (meanAnomaly + center + 180 + 102.9372) % 360;

      // Solar noon
      const solarNoon = 12 - lng / 15;

      // Hour angle for sunrise/sunset (approximate)
      const hourAngle = Math.acos(-Math.tan(lat * deg2rad) * Math.tan(23.44 * deg2rad * Math.sin(eclipticLongitude * deg2rad)));
      const hourAngleDeg = hourAngle / deg2rad / 15;

      const sunrise = solarNoon - hourAngleDeg;
      const sunset = solarNoon + hourAngleDeg;

      // Calculate golden hour and blue hour times
      const times = {
        blueHourStart: sunrise - 0.5, // 30 min before sunrise
        blueHourEnd: sunrise + 0.17,   // 10 min after sunrise
        goldenHourStart: sunrise,
        goldenHourEnd: sunrise + 1,    // 1 hour after sunrise
        sunrise: sunrise,
        sunset: sunset,
        goldenHourEvening: sunset - 1,  // 1 hour before sunset
        sunsetEnd: sunset,
        blueHourEvening: sunset + 0.17, // 10 min after sunset
        blueHourEveningEnd: sunset + 0.5 // 30 min after sunset
      };

      return times;
    }

    function formatTime(decimalHours) {
      let hours = Math.floor(decimalHours);
      let minutes = Math.round((decimalHours - hours) * 60);

      if (minutes === 60) {
        hours += 1;
        minutes = 0;
      }

      if (hours >= 24) hours -= 24;
      if (hours < 0) hours += 24;

      return `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}`;
    }

    function calculate() {
      const lat = parseFloat(document.getElementById('latitude').value);
      const lng = parseFloat(document.getElementById('longitude').value);
      const dateStr = document.getElementById('date').value;
      const date = dateStr ? new Date(dateStr) : new Date();

      if (isNaN(lat) || isNaN(lng)) {
        alert('è¯·è¾“å…¥æœ‰æ•ˆçš„ç»çº¬åº¦');
        return;
      }

      const times = getSunTimes(lat, lng, date);

      const timeline = [
        {
          icon: 'ğŸŒŒ',
          name: 'æ™¨æ›¦è“è°ƒæ—¶åˆ»',
          desc: 'æ‹æ‘„åŸå¸‚å¤œæ™¯çš„æœ€ä½³æ—¶æ®µ',
          time: `${formatTime(times.blueHourStart)} - ${formatTime(times.blueHourEnd)}`,
          class: 'blue'
        },
        {
          icon: 'ğŸŒ…',
          name: 'æ—¥å‡º',
          desc: 'å¤ªé˜³å‡èµ·çš„æ—¶åˆ»',
          time: formatTime(times.sunrise),
          class: 'sunrise'
        },
        {
          icon: 'âœ¨',
          name: 'æ™¨é—´é»„é‡‘æ—¶åˆ»',
          desc: 'æŸ”å’Œæ¸©æš–çš„å…‰çº¿',
          time: `${formatTime(times.goldenHourStart)} - ${formatTime(times.goldenHourEnd)}`,
          class: 'golden'
        },
        {
          icon: 'ğŸŒ†',
          name: 'å‚æ™šé»„é‡‘æ—¶åˆ»',
          desc: 'ä¸€å¤©ä¸­æœ€ä½³æ‘„å½±æ—¶æ®µ',
          time: `${formatTime(times.goldenHourEvening)} - ${formatTime(times.sunset)}`,
          class: 'golden'
        },
        {
          icon: 'ğŸŒ‡',
          name: 'æ—¥è½',
          desc: 'å¤ªé˜³è½ä¸‹çš„æ—¶åˆ»',
          time: formatTime(times.sunset),
          class: 'sunset'
        },
        {
          icon: 'ğŸŒƒ',
          name: 'é»„æ˜è“è°ƒæ—¶åˆ»',
          desc: 'æ‹æ‘„éƒ½å¸‚å¤œæ™¯çš„é»„é‡‘æ—¶æ®µ',
          time: `${formatTime(times.blueHourEvening)} - ${formatTime(times.blueHourEveningEnd)}`,
          class: 'blue'
        }
      ];

      const container = document.getElementById('timeline');
      container.innerHTML = timeline.map(item => `
        <div class="timeline-item ${item.class}">
          <div class="timeline-label">
            <div class="timeline-icon">${item.icon}</div>
            <div>
              <div class="timeline-name">${item.name}</div>
              <div class="timeline-desc">${item.desc}</div>
            </div>
          </div>
          <div class="timeline-time">${item.time}</div>
        </div>
      `).join('');
    }

    // Initialize with today's date
    document.getElementById('date').value = new Date().toISOString().split('T')[0];
    calculate();

    window.toggleTheme = function() {
      const html = document.documentElement;
      const btn = document.querySelector('.theme-toggle');
      const current = html.getAttribute('data-theme');
      const next = current === 'light' ? 'dark' : 'light';
      html.setAttribute('data-theme', next);
      btn.textContent = next === 'light' ? 'â˜€ï¸' : 'ğŸŒ™';
      localStorage.setItem('theme', next);
    };

    (function() {
      const saved = localStorage.getItem('theme');
      if (saved) {
        document.documentElement.setAttribute('data-theme', saved);
        document.querySelector('.theme-toggle').textContent = saved === 'light' ? 'â˜€ï¸' : 'ğŸŒ™';
      }
    })();
  </script>
</body>
</html>
