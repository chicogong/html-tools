<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>è‚¡æƒç¨€é‡Šè®¡ç®—å™¨ - WebUtils</title>
    <meta name="description" content="åœ¨çº¿è®¡ç®—èèµ„åè‚¡æƒç¨€é‡Šæ¯”ä¾‹ï¼Œå¸®åŠ©åˆ›ä¸šè€…å’ŒæŠ•èµ„è€…è¯„ä¼°è‚¡æƒå˜åŒ–å’ŒæŒè‚¡æ¯”ä¾‹" />
    <meta name="keywords" content="è‚¡æƒç¨€é‡Š, èèµ„è®¡ç®—, è‚¡æƒæ¯”ä¾‹, æŠ•èµ„ä¼°å€¼, åˆ›ä¸šèèµ„, è‚¡æƒç»“æ„" />
    <meta property="og:title" content="è‚¡æƒç¨€é‡Šè®¡ç®—å™¨ - WebUtils" />
    <meta property="og:description" content="åœ¨çº¿è®¡ç®—èèµ„åè‚¡æƒç¨€é‡Šæ¯”ä¾‹ï¼Œå¸®åŠ©åˆ›ä¸šè€…å’ŒæŠ•èµ„è€…è¯„ä¼°è‚¡æƒå˜åŒ–å’ŒæŒè‚¡æ¯”ä¾‹" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://tools.realtime-ai.chat/tools/business/equity-dilution.html" />
    <meta property="og:site_name" content="WebUtils" />
    <meta property="og:locale" content="zh_CN" />
    <link rel="canonical" href="https://tools.realtime-ai.chat/tools/business/equity-dilution.html" />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      :root {
        --bg-deep: #0a0a0f;
        --bg-surface: #12121a;
        --bg-card: #1a1a24;
        --bg-input: #0e0e14;
        --text-primary: #e8e8ed;
        --text-secondary: #8888a0;
        --text-muted: #55556a;
        --border-subtle: #2a2a3a;
        --border-strong: #3a3a4a;
        --accent-cyan: #00f5d4;
        --accent-magenta: #f72585;
        --accent-green: #10b981;
        --accent-red: #f43f5e;
        --accent-yellow: #fbbf24;
        --accent-blue: #4cc9f0;
        --accent-purple: #7b2cbf;
        --radius-sm: 4px;
        --radius-md: 8px;
        --radius-lg: 12px;
        --font-sans: "Space Grotesk", -apple-system, blinkmacsystemfont, "Segoe UI", roboto, sans-serif;
        --font-mono: "JetBrains Mono", "Courier New", monospace;
        --shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
      }

      [data-theme="light"] {
        --bg-deep: #fafafa;
        --bg-surface: #fff;
        --bg-card: #fff;
        --bg-input: #f5f5f5;
        --text-primary: #1a1a1a;
        --text-secondary: #666;
        --text-muted: #999;
        --border-subtle: #e5e5e5;
        --border-strong: #d5d5d5;
        --accent-cyan: #00d4b8;
        --accent-magenta: #e63975;
        --shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      }

      body {
        font-family: var(--font-sans);
        font-size: 16px;
        line-height: 1.6;
        background: var(--bg-deep);
        color: var(--text-primary);
        min-height: 100vh;
        padding: 20px;
      }
      .container {
        max-width: 800px;
        margin: 0 auto;
      }
      .back-link {
        display: inline-block;
        margin-bottom: 16px;
        color: var(--accent-cyan);
        text-decoration: none;
        font-size: 0.9rem;
      }
      .back-link:hover {
        text-decoration: underline;
      }
      h1 {
        text-align: center;
        margin-bottom: 8px;
        font-size: 1.8rem;
      }
      .subtitle {
        text-align: center;
        color: var(--text-secondary);
        margin-bottom: 24px;
      }
      .card {
        background: var(--bg-card);
        border: 1px solid var(--border-subtle);
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 16px;
      }
      .card-title {
        font-weight: 600;
        margin-bottom: 16px;
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 16px;
      }
      .form-group {
        margin-bottom: 16px;
      }
      .form-group label {
        display: block;
        margin-bottom: 6px;
        font-size: 0.9rem;
        color: var(--text-secondary);
      }
      input {
        width: 100%;
        padding: 12px;
        border: 1px solid var(--border-subtle);
        border-radius: 8px;
        background: var(--bg-deep);
        color: var(--text-primary);
        font-size: 1rem;
      }
      input:focus {
        outline: none;
        border-color: var(--accent-cyan);
      }
      .btn {
        padding: 12px 24px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1rem;
        transition: all 0.2s;
      }
      .btn-primary {
        background: linear-gradient(135deg, var(--accent-cyan), var(--accent-magenta));
        color: white;
        width: 100%;
      }
      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4);
      }
      .result-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 16px;
      }
      .result-item {
        background: var(--bg-deep);
        border-radius: 12px;
        padding: 16px;
        text-align: center;
      }
      .result-label {
        font-size: 0.85rem;
        color: var(--text-secondary);
        margin-bottom: 8px;
      }
      .result-value {
        font-size: 1.3rem;
        font-weight: 700;
        color: var(--accent-cyan);
      }
      .result-value.green {
        color: var(--accent-green);
      }
      .result-value.red {
        color: var(--accent-red);
      }
      .compare-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 16px;
        margin-top: 16px;
      }
      .compare-card {
        padding: 20px;
        border-radius: 12px;
        text-align: center;
      }
      .compare-card.before {
        background: linear-gradient(135deg, rgba(100, 116, 139, 0.2), rgba(100, 116, 139, 0.1));
        border: 1px solid #64748b44;
      }
      .compare-card.after {
        background: linear-gradient(135deg, rgba(99, 102, 241, 0.2), rgba(99, 102, 241, 0.1));
        border: 1px solid var(--accent-cyan);
      }
      .compare-title {
        font-size: 0.9rem;
        color: var(--text-secondary);
        margin-bottom: 12px;
      }
      .compare-value {
        font-size: 2rem;
        font-weight: 700;
      }
      .pie-container {
        display: flex;
        justify-content: center;
        gap: 40px;
        margin: 20px 0;
        flex-wrap: wrap;
      }
      .pie-chart {
        width: 150px;
        height: 150px;
        border-radius: 50%;
        position: relative;
      }
      .pie-label {
        text-align: center;
        margin-top: 10px;
        font-size: 0.9rem;
        color: var(--text-secondary);
      }
      .legend {
        display: flex;
        gap: 20px;
        justify-content: center;
        margin-top: 16px;
        flex-wrap: wrap;
      }
      .legend-item {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 0.85rem;
      }
      .legend-color {
        width: 16px;
        height: 16px;
        border-radius: 4px;
      }
      .hidden {
        display: none;
      }
      @media (max-width: 600px) {
        .compare-grid {
          grid-template-columns: 1fr;
        }
      }
      .theme-toggle {
        position: fixed;
        top: 16px;
        right: 16px;
        background: var(--bg-card);
        border: 1px solid var(--border-subtle);
        border-radius: 8px;
        padding: 8px 12px;
        cursor: pointer;
        font-size: 1.2rem;
        z-index: 100;
      }
    </style>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container">
      <a href="../../index.html" class="back-link">â† è¿”å›</a>
      <button class="theme-toggle" onclick="toggleTheme()" title="åˆ‡æ¢ä¸»é¢˜" aria-label="ğŸŒ“">
        ğŸŒ“
      </button>
      <h1>ğŸ“Š è‚¡æƒç¨€é‡Šè®¡ç®—å™¨</h1>
      <p class="subtitle">è®¡ç®—èèµ„åçš„è‚¡æƒå˜åŒ–å’Œç¨€é‡Šæ¯”ä¾‹</p>

      <div class="card">
        <div class="card-title">ğŸ¢ èèµ„å‰ä¿¡æ¯</div>
        <div class="grid">
          <div class="form-group">
            <label for="input----------">æŠ•å‰ä¼°å€¼ (ä¸‡å…ƒ)</label>
            <input
              type="number"
              id="preValuation"
              value="1000"
              min="0"
              aria-label="æ•°å­—è¾“å…¥æ¡†"
              placeholder="è¯·è¾“å…¥æ•°å­—è¾“å…¥æ¡†"
            />
          </div>
          <div class="form-group">
            <label for="input------------">åˆ›å§‹äººæŒè‚¡æ¯”ä¾‹ (%)</label>
            <input
              type="number"
              id="founderShares"
              value="70"
              min="0"
              max="100"
              aria-label="æ•°å­—è¾“å…¥æ¡†"
              placeholder="è¯·è¾“å…¥æ•°å­—è¾“å…¥æ¡†"
            />
          </div>
          <div class="form-group">
            <label for="input-------------">å…¶ä»–è‚¡ä¸œæŒè‚¡æ¯”ä¾‹ (%)</label>
            <input
              type="number"
              id="otherShares"
              value="20"
              min="0"
              max="100"
              aria-label="æ•°å­—è¾“å…¥æ¡†"
              placeholder="è¯·è¾“å…¥æ•°å­—è¾“å…¥æ¡†"
            />
          </div>
          <div class="form-group">
            <label for="input----------">æœŸæƒæ± æ¯”ä¾‹ (%)</label>
            <input
              type="number"
              id="optionPool"
              value="10"
              min="0"
              max="100"
              aria-label="æ•°å­—è¾“å…¥æ¡†"
              placeholder="è¯·è¾“å…¥æ•°å­—è¾“å…¥æ¡†"
            />
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-title">ğŸ’° èèµ„ä¿¡æ¯</div>
        <div class="grid">
          <div class="form-group">
            <label for="input----------">èèµ„é‡‘é¢ (ä¸‡å…ƒ)</label>
            <input
              type="number"
              id="investmentAmount"
              value="200"
              min="0"
              aria-label="æ•°å­—è¾“å…¥æ¡†"
              placeholder="è¯·è¾“å…¥æ•°å­—è¾“å…¥æ¡†"
            />
          </div>
          <div class="form-group">
            <label for="input----------">æ–°å¢æœŸæƒæ±  (%)</label>
            <input
              type="number"
              id="newOptionPool"
              value="5"
              min="0"
              max="50"
              aria-label="æ•°å­—è¾“å…¥æ¡†"
              placeholder="è¯·è¾“å…¥æ•°å­—è¾“å…¥æ¡†"
            />
          </div>
        </div>
        <button class="btn btn-primary" onclick="calculate()" aria-label="è®¡ç®—ç¨€é‡Š">
          è®¡ç®—ç¨€é‡Š
        </button>
      </div>

      <div id="resultSection" class="hidden">
        <div class="card">
          <div class="card-title">ğŸ“ˆ ä¼°å€¼å˜åŒ–</div>
          <div class="result-grid">
            <div class="result-item">
              <div class="result-label">æŠ•å‰ä¼°å€¼</div>
              <div class="result-value" id="preVal"></div>
            </div>
            <div class="result-item">
              <div class="result-label">èèµ„é‡‘é¢</div>
              <div class="result-value" id="investment"></div>
            </div>
            <div class="result-item">
              <div class="result-label">æŠ•åä¼°å€¼</div>
              <div class="result-value green" id="postVal"></div>
            </div>
            <div class="result-item">
              <div class="result-label">æŠ•èµ„äººè·å¾—è‚¡ä»½</div>
              <div class="result-value" id="investorShares"></div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-title">ğŸ‘¤ åˆ›å§‹äººè‚¡æƒå˜åŒ–</div>
          <div class="compare-grid">
            <div class="compare-card before">
              <div class="compare-title">èèµ„å‰æŒè‚¡</div>
              <div class="compare-value" id="founderBefore"></div>
            </div>
            <div class="compare-card after">
              <div class="compare-title">èèµ„åæŒè‚¡</div>
              <div class="compare-value" id="founderAfter"></div>
            </div>
          </div>
          <div class="result-grid" style="margin-top: 16px">
            <div class="result-item">
              <div class="result-label">ç¨€é‡Šæ¯”ä¾‹</div>
              <div class="result-value red" id="dilutionRate"></div>
            </div>
            <div class="result-item">
              <div class="result-label">è‚¡æƒä»·å€¼å˜åŒ–</div>
              <div class="result-value green" id="valueChange"></div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-title">ğŸ¥§ è‚¡æƒç»“æ„å¯¹æ¯”</div>
          <div class="pie-container">
            <div>
              <div class="pie-chart" id="pieBefore"></div>
              <div class="pie-label">èèµ„å‰</div>
            </div>
            <div>
              <div class="pie-chart" id="pieAfter"></div>
              <div class="pie-label">èèµ„å</div>
            </div>
          </div>
          <div class="legend" id="legend"></div>
        </div>

        <div class="card">
          <div class="card-title">ğŸ“‹ è¯¦ç»†è‚¡æƒç»“æ„</div>
          <div id="detailTable"></div>
        </div>
      </div>
    </div>

    <script>
      function toggleTheme() {
        var theme = document.body.getAttribute("data-theme") === "light" ? "dark" : "light";
        document.body.setAttribute("data-theme", theme);
        localStorage.setItem("theme", theme);
      }
      (function () {
        var saved = localStorage.getItem("theme");
        if (saved) {
          document.body.setAttribute("data-theme", saved);
        } else if (window.matchMedia("(prefers-color-scheme: light)").matches) {
          document.body.setAttribute("data-theme", "light");
        }
      })();

      function formatMoney(num) {
        if (num >= 10000) {
          return (num / 10000).toFixed(2) + "äº¿";
        }
        return num.toFixed(0) + "ä¸‡";
      }

      function createPieChart(container, data) {
        var total = data.reduce(function (sum, d) {
          return sum + d.value;
        }, 0);
        var cumulativePercent = 0;
        var gradients = [];

        data.forEach(function (d) {
          var percent = (d.value / total) * 100;
          var startPercent = cumulativePercent;
          cumulativePercent += percent;
          gradients.push(d.color + " " + startPercent + "% " + cumulativePercent + "%");
        });

        container.style.background = "conic-gradient(" + gradients.join(", ") + ")";
      }

      function calculate() {
        var preValuation = parseFloat(document.getElementById("preValuation").value) || 0;
        var founderShares = parseFloat(document.getElementById("founderShares").value) || 0;
        var otherShares = parseFloat(document.getElementById("otherShares").value) || 0;
        var optionPool = parseFloat(document.getElementById("optionPool").value) || 0;
        var investmentAmount = parseFloat(document.getElementById("investmentAmount").value) || 0;
        var newOptionPool = parseFloat(document.getElementById("newOptionPool").value) || 0;

        var postValuation = preValuation + investmentAmount;
        var investorSharesPct = (investmentAmount / postValuation) * 100;

        // è®¡ç®—èèµ„åå„æ–¹æŒè‚¡ï¼ˆè€ƒè™‘æ–°æœŸæƒæ± ä»ç°æœ‰è‚¡ä¸œç¨€é‡Šï¼‰
        var dilutionFactor = (100 - investorSharesPct - newOptionPool) / 100;
        var founderAfter = founderShares * dilutionFactor;
        var otherAfter = otherShares * dilutionFactor;
        var optionAfter = optionPool * dilutionFactor + newOptionPool;

        var dilutionRate = ((founderShares - founderAfter) / founderShares) * 100;
        var founderValueBefore = (preValuation * founderShares) / 100;
        var founderValueAfter = (postValuation * founderAfter) / 100;
        var valueChange = founderValueAfter - founderValueBefore;

        document.getElementById("resultSection").classList.remove("hidden");

        document.getElementById("preVal").textContent = formatMoney(preValuation);
        document.getElementById("investment").textContent = formatMoney(investmentAmount);
        document.getElementById("postVal").textContent = formatMoney(postValuation);
        document.getElementById("investorShares").textContent = investorSharesPct.toFixed(2) + "%";

        document.getElementById("founderBefore").textContent = founderShares.toFixed(2) + "%";
        document.getElementById("founderAfter").textContent = founderAfter.toFixed(2) + "%";
        document.getElementById("dilutionRate").textContent = dilutionRate.toFixed(2) + "%";

        var valueChangeEl = document.getElementById("valueChange");
        valueChangeEl.textContent = (valueChange >= 0 ? "+" : "") + formatMoney(valueChange);
        valueChangeEl.className = "result-value " + (valueChange >= 0 ? "green" : "red");

        // é¥¼å›¾
        var beforeData = [
          { name: "åˆ›å§‹äºº", value: founderShares, color: "#6366f1" },
          { name: "å…¶ä»–è‚¡ä¸œ", value: otherShares, color: "#8b5cf6" },
          { name: "æœŸæƒæ± ", value: optionPool, color: "#10b981" }
        ];

        var afterData = [
          { name: "åˆ›å§‹äºº", value: founderAfter, color: "#6366f1" },
          { name: "å…¶ä»–è‚¡ä¸œ", value: otherAfter, color: "#8b5cf6" },
          { name: "æœŸæƒæ± ", value: optionAfter, color: "#10b981" },
          { name: "æŠ•èµ„äºº", value: investorSharesPct, color: "#f59e0b" }
        ];

        createPieChart(document.getElementById("pieBefore"), beforeData);
        createPieChart(document.getElementById("pieAfter"), afterData);

        // å›¾ä¾‹
        var legend = document.getElementById("legend");
        while (legend.firstChild) {
          legend.removeChild(legend.firstChild);
        }
        afterData.forEach(function (d) {
          var item = document.createElement("div");
          item.className = "legend-item";
          var color = document.createElement("div");
          color.className = "legend-color";
          color.style.background = d.color;
          var text = document.createElement("span");
          text.textContent = d.name;
          item.appendChild(color);
          item.appendChild(text);
          legend.appendChild(item);
        });

        // è¯¦ç»†è¡¨æ ¼
        var detailTable = document.getElementById("detailTable");
        while (detailTable.firstChild) {
          detailTable.removeChild(detailTable.firstChild);
        }

        var tableData = [
          { name: "åˆ›å§‹äºº", before: founderShares, after: founderAfter },
          { name: "å…¶ä»–è‚¡ä¸œ", before: otherShares, after: otherAfter },
          { name: "æœŸæƒæ± ", before: optionPool, after: optionAfter },
          { name: "æŠ•èµ„äºº", before: 0, after: investorSharesPct }
        ];

        tableData.forEach(function (row) {
          var div = document.createElement("div");
          div.style.cssText =
            "display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid var(--border-subtle);";

          var nameSpan = document.createElement("span");
          nameSpan.textContent = row.name;

          var valueSpan = document.createElement("span");
          valueSpan.textContent = row.before.toFixed(2) + "% â†’ " + row.after.toFixed(2) + "%";
          valueSpan.style.color = "var(--accent-cyan)";

          div.appendChild(nameSpan);
          div.appendChild(valueSpan);
          detailTable.appendChild(div);
        });
      }

      calculate();
    </script>
  </body>
</html>
