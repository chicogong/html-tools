<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ‹¼éŸ³å£°è°ƒæ ‡æ³¨ - WebUtils</title>
  <!-- SEO Meta Tags -->
  <meta name="description" content="æ‹¼éŸ³å£°è°ƒæ ‡æ³¨ - WebUtils" />
  <meta name="keywords" content="pinyin-tone,chinese,tools,webutils" />
  <meta name="author" content="WebUtils" />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href="https://tools.realtime-ai.chat/tools/chinese/pinyin-tone.html" />

  <!-- Open Graph -->
  <meta property="og:title" content="æ‹¼éŸ³å£°è°ƒæ ‡æ³¨ - WebUtils" />
  <meta property="og:description" content="æ‹¼éŸ³å£°è°ƒæ ‡æ³¨ - WebUtils" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://tools.realtime-ai.chat/tools/chinese/pinyin-tone.html" />
  <meta property="og:site_name" content="WebUtils" />
  <meta property="og:locale" content="zh_CN" />
  <meta property="og:image" content="https://tools.realtime-ai.chat/social-preview.png" />
  <meta property="og:image:width" content="1280" />
  <meta property="og:image:height" content="640" />
  <meta property="og:image:type" content="image/png" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="æ‹¼éŸ³å£°è°ƒæ ‡æ³¨ - WebUtils" />
  <meta name="twitter:description" content="æ‹¼éŸ³å£°è°ƒæ ‡æ³¨ - WebUtils" />
  <meta name="twitter:image" content="https://tools.realtime-ai.chat/social-preview.png" />

    <style>
    :root {
      --bg-deep: #0a0a0f;
      --bg-surface: #12121a;
      --bg-card: #1a1a24;
      --bg-input: #0e0e14;
      --text-primary: #e8e8ed;
      --text-secondary: #8888a0;
      --text-muted: #55556a;
      --border-subtle: #2a2a3a;
      --border-strong: #3a3a4a;
      --accent-cyan: #00f5d4;
      --accent-green: #10b981;
      --accent-red: #f43f5e;
      --accent-yellow: #fbbf24;
      --accent-purple: #a855f7;
      --glow-cyan: rgb(0, 245, 212, 0.15);
      --glow-green: rgb(16, 185, 129, 0.15);
      --glow-red: rgb(244, 63, 94, 0.15);
      --radius-sm: 4px;
      --radius-md: 8px;
      --radius-lg: 12px;
    }

    [data-theme="light"] {
      --bg-deep: #fafafa;
      --bg-surface: #fff;
      --bg-card: #fff;
      --bg-input: #f5f5f5;
      --bg-hover: #f5f5f5;
      --text-primary: #1a1a1a;
      --text-secondary: #666;
      --text-muted: #999;
      --border-subtle: #e5e5e5;
      --border-strong: #d5d5d5;
    }

    .theme-toggle {
      position: fixed;
      top: 1rem;
      right: 1rem;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: 1px solid var(--border-subtle);
      background: var(--bg-card);
      cursor: pointer;
      font-size: 1.2rem;
      z-index: 100;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .theme-toggle:hover {
      transform: scale(1.1);
    }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { --bg: #0a0a0f; --card: #12121a; --border: #2a2a3a; --text: #fff; --text2: #888; --accent: #6366f1; --accent2: #8b5cf6; }
        @media (prefers-color-scheme: light) { :root { --bg: #f5f5f5; --card: #fff; --border: #e0e0e0; --text: #333; --text2: #666; } }
        body { font-family: system-ui, -apple-system, sans-serif; background: var(--bg); color: var(--text); min-height: 100vh; padding: 20px; }
        .container { max-width: 800px; margin: 0 auto; }
        h1 { text-align: center; margin-bottom: 8px; font-size: 1.8rem; }
        .subtitle { text-align: center; color: var(--text2); margin-bottom: 24px; }
        .card { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 24px; margin-bottom: 20px; }
        .card-title { font-size: 1rem; color: var(--text2); margin-bottom: 16px; font-weight: 500; }
        textarea { width: 100%; height: 120px; padding: 16px; border: 1px solid var(--border); border-radius: 8px; background: var(--bg); color: var(--text); font-size: 1.1rem; resize: vertical; }
        textarea:focus { outline: none; border-color: var(--accent); }
        .btn-row { display: flex; gap: 12px; margin-top: 16px; flex-wrap: wrap; }
        .btn { padding: 12px 24px; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem; transition: all 0.2s; }
        .btn-primary { background: linear-gradient(135deg, var(--accent), var(--accent2)); color: white; }
        .btn-primary:hover { opacity: 0.9; }
        .btn-secondary { background: var(--bg); border: 1px solid var(--border); color: var(--text); }
        .btn-secondary:hover { border-color: var(--accent); }
        .result-box { background: var(--bg); border-radius: 12px; padding: 24px; margin-top: 16px; min-height: 80px; }
        .result-pinyin { font-size: 1.3rem; line-height: 2; letter-spacing: 1px; }
        .result-pinyin ruby { margin: 0 2px; }
        .result-pinyin rt { font-size: 0.7em; color: var(--accent); }
        .tone-guide { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin-top: 16px; }
        @media (max-width: 500px) { .tone-guide { grid-template-columns: repeat(2, 1fr); } }
        .tone-item { background: var(--bg); border-radius: 8px; padding: 16px; text-align: center; }
        .tone-item .symbol { font-size: 2rem; color: var(--accent); margin-bottom: 8px; }
        .tone-item .name { font-size: 0.9rem; color: var(--text); margin-bottom: 4px; }
        .tone-item .desc { font-size: 0.8rem; color: var(--text2); }
        .quick-input { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 12px; }
        .quick-item { padding: 8px 14px; background: var(--bg); border: 1px solid var(--border); border-radius: 6px; cursor: pointer; font-size: 0.9rem; transition: all 0.2s; }
        .quick-item:hover { border-color: var(--accent); background: rgba(99, 102, 241, 0.1); }
        .mode-switch { display: flex; gap: 8px; margin-bottom: 16px; }
        .mode-btn { flex: 1; padding: 12px; text-align: center; border: 1px solid var(--border); border-radius: 8px; cursor: pointer; transition: all 0.2s; }
        .mode-btn.active { border-color: var(--accent); background: rgba(99, 102, 241, 0.1); color: var(--accent); }
        .mode-btn:hover { border-color: var(--accent); }
        .vowel-keyboard { display: grid; grid-template-columns: repeat(5, 1fr); gap: 8px; margin-top: 16px; }
        .vowel-btn { padding: 12px; text-align: center; background: var(--bg); border: 1px solid var(--border); border-radius: 8px; cursor: pointer; font-size: 1.1rem; transition: all 0.2s; }
        .vowel-btn:hover { border-color: var(--accent); background: rgba(99, 102, 241, 0.1); }
        .vowel-group { margin-bottom: 16px; }
        .vowel-group-title { font-size: 0.85rem; color: var(--text2); margin-bottom: 8px; }
        .copy-notice { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: var(--accent); color: white; padding: 12px 24px; border-radius: 8px; opacity: 0; transition: opacity 0.3s; }
        .copy-notice.show { opacity: 1; }
            .back-link { display: inline-block; margin-bottom: 16px; color: var(--accent); text-decoration: none; font-size: 0.9rem; }
        .back-link:hover { text-decoration: underline; }
    
        .breadcrumb {     background: rgba(255,255,255,0.95); padding: 8px 15px; border-radius: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); font-size: 0.85rem; }
        .breadcrumb a { color: #667eea; text-decoration: none; }
        .breadcrumb a:hover { text-decoration: underline; }
        .breadcrumb span { color: #999; margin: 0 5px; }
    </style>
</head>
<body>
  <button class="theme-toggle" onclick="toggleTheme()" aria-label="åˆ‡æ¢ä¸»é¢˜">
    <span id="theme-icon">ğŸŒ™</span>
  </button>

    <nav class="breadcrumb"><a href="../../index.html">é¦–é¡µ</a><span>â€º</span>æ‹¼éŸ³å£°è°ƒæ ‡æ³¨</nav>
    <div class="container">
        <a href="../../index.html" class="back-link">â† è¿”å›</a>
        <h1>æ‹¼éŸ³å£°è°ƒæ ‡æ³¨</h1>
        <p class="subtitle">ä¸ºæ±‰å­—æ·»åŠ æ‹¼éŸ³æ³¨éŸ³ï¼Œæ”¯æŒå£°è°ƒè½¬æ¢</p>
        
        <div class="card">
            <div class="mode-switch">
                <div class="mode-btn active" data-mode="text" onclick="setMode('text')">æ±‰å­—è½¬æ‹¼éŸ³</div>
                <div class="mode-btn" data-mode="number" onclick="setMode('number')">æ•°å­—å£°è°ƒè½¬æ¢</div>
                <div class="mode-btn" data-mode="keyboard" onclick="setMode('keyboard')">æ‹¼éŸ³é”®ç›˜</div>
            </div>
            
            <div id="textMode">
                <div class="card-title">è¾“å…¥æ±‰å­—</div>
                <textarea id="textInput" placeholder="è¾“å…¥æ±‰å­—ï¼Œè‡ªåŠ¨æ ‡æ³¨æ‹¼éŸ³..."></textarea>
                
                <div class="quick-input">
                    <span style="color: var(--text2); font-size: 0.9rem; line-height: 32px;">ç¤ºä¾‹ï¼š</span>
                    <span class="quick-item" onclick="setExample('ä¸­åäººæ°‘å…±å’Œå›½')">ä¸­åäººæ°‘å…±å’Œå›½</span>
                    <span class="quick-item" onclick="setExample('åºŠå‰æ˜æœˆå…‰')">åºŠå‰æ˜æœˆå…‰</span>
                    <span class="quick-item" onclick="setExample('å­¦è€Œæ—¶ä¹ ä¹‹')">å­¦è€Œæ—¶ä¹ ä¹‹</span>
                </div>
                
                <div class="btn-row">
                    <button class="btn btn-primary" onclick="convertText()">è½¬æ¢æ‹¼éŸ³</button>
                    <button class="btn btn-secondary" onclick="copyResult()">å¤åˆ¶ç»“æœ</button>
                    <button class="btn btn-secondary" onclick="clearInput()">æ¸…ç©º</button>
                </div>
            </div>
            
            <div id="numberMode" style="display: none;">
                <div class="card-title">è¾“å…¥æ•°å­—å£°è°ƒæ‹¼éŸ³</div>
                <textarea id="numberInput" placeholder="è¾“å…¥æ•°å­—å£°è°ƒæ‹¼éŸ³ï¼Œå¦‚ï¼šzhong1 guo2"></textarea>
                
                <div class="quick-input">
                    <span style="color: var(--text2); font-size: 0.9rem; line-height: 32px;">ç¤ºä¾‹ï¼š</span>
                    <span class="quick-item" onclick="setNumberExample('ni3 hao3')">ni3 hao3</span>
                    <span class="quick-item" onclick="setNumberExample('zhong1 guo2')">zhong1 guo2</span>
                    <span class="quick-item" onclick="setNumberExample('pin1 yin1')">pin1 yin1</span>
                </div>
                
                <div class="btn-row">
                    <button class="btn btn-primary" onclick="convertNumber()">è½¬æ¢å£°è°ƒ</button>
                    <button class="btn btn-secondary" onclick="copyNumberResult()">å¤åˆ¶ç»“æœ</button>
                </div>
            </div>
            
            <div id="keyboardMode" style="display: none;">
                <div class="card-title">ç‚¹å‡»è¾“å…¥å¸¦å£°è°ƒçš„æ‹¼éŸ³å­—æ¯</div>
                <div id="pinyinOutput" style="min-height: 60px; background: var(--bg); border-radius: 8px; padding: 16px; font-size: 1.3rem; margin-bottom: 16px;"></div>
                
                <div class="vowel-group">
                    <div class="vowel-group-title">a ç³»åˆ—</div>
                    <div class="vowel-keyboard" style="grid-template-columns: repeat(5, 1fr);">
                        <div class="vowel-btn" onclick="insertVowel('Ä')">Ä</div>
                        <div class="vowel-btn" onclick="insertVowel('Ã¡')">Ã¡</div>
                        <div class="vowel-btn" onclick="insertVowel('Ç')">Ç</div>
                        <div class="vowel-btn" onclick="insertVowel('Ã ')">Ã </div>
                        <div class="vowel-btn" onclick="insertVowel('a')">a</div>
                    </div>
                </div>
                
                <div class="vowel-group">
                    <div class="vowel-group-title">o ç³»åˆ—</div>
                    <div class="vowel-keyboard" style="grid-template-columns: repeat(5, 1fr);">
                        <div class="vowel-btn" onclick="insertVowel('Å')">Å</div>
                        <div class="vowel-btn" onclick="insertVowel('Ã³')">Ã³</div>
                        <div class="vowel-btn" onclick="insertVowel('Ç’')">Ç’</div>
                        <div class="vowel-btn" onclick="insertVowel('Ã²')">Ã²</div>
                        <div class="vowel-btn" onclick="insertVowel('o')">o</div>
                    </div>
                </div>
                
                <div class="vowel-group">
                    <div class="vowel-group-title">e ç³»åˆ—</div>
                    <div class="vowel-keyboard" style="grid-template-columns: repeat(5, 1fr);">
                        <div class="vowel-btn" onclick="insertVowel('Ä“')">Ä“</div>
                        <div class="vowel-btn" onclick="insertVowel('Ã©')">Ã©</div>
                        <div class="vowel-btn" onclick="insertVowel('Ä›')">Ä›</div>
                        <div class="vowel-btn" onclick="insertVowel('Ã¨')">Ã¨</div>
                        <div class="vowel-btn" onclick="insertVowel('e')">e</div>
                    </div>
                </div>
                
                <div class="vowel-group">
                    <div class="vowel-group-title">i ç³»åˆ—</div>
                    <div class="vowel-keyboard" style="grid-template-columns: repeat(5, 1fr);">
                        <div class="vowel-btn" onclick="insertVowel('Ä«')">Ä«</div>
                        <div class="vowel-btn" onclick="insertVowel('Ã­')">Ã­</div>
                        <div class="vowel-btn" onclick="insertVowel('Ç')">Ç</div>
                        <div class="vowel-btn" onclick="insertVowel('Ã¬')">Ã¬</div>
                        <div class="vowel-btn" onclick="insertVowel('i')">i</div>
                    </div>
                </div>
                
                <div class="vowel-group">
                    <div class="vowel-group-title">u ç³»åˆ—</div>
                    <div class="vowel-keyboard" style="grid-template-columns: repeat(5, 1fr);">
                        <div class="vowel-btn" onclick="insertVowel('Å«')">Å«</div>
                        <div class="vowel-btn" onclick="insertVowel('Ãº')">Ãº</div>
                        <div class="vowel-btn" onclick="insertVowel('Ç”')">Ç”</div>
                        <div class="vowel-btn" onclick="insertVowel('Ã¹')">Ã¹</div>
                        <div class="vowel-btn" onclick="insertVowel('u')">u</div>
                    </div>
                </div>
                
                <div class="vowel-group">
                    <div class="vowel-group-title">Ã¼ ç³»åˆ—</div>
                    <div class="vowel-keyboard" style="grid-template-columns: repeat(5, 1fr);">
                        <div class="vowel-btn" onclick="insertVowel('Ç–')">Ç–</div>
                        <div class="vowel-btn" onclick="insertVowel('Ç˜')">Ç˜</div>
                        <div class="vowel-btn" onclick="insertVowel('Çš')">Çš</div>
                        <div class="vowel-btn" onclick="insertVowel('Çœ')">Çœ</div>
                        <div class="vowel-btn" onclick="insertVowel('Ã¼')">Ã¼</div>
                    </div>
                </div>
                
                <div class="btn-row">
                    <button class="btn btn-secondary" onclick="insertVowel(' ')">ç©ºæ ¼</button>
                    <button class="btn btn-secondary" onclick="backspace()">é€€æ ¼</button>
                    <button class="btn btn-secondary" onclick="copyKeyboardResult()">å¤åˆ¶</button>
                    <button class="btn btn-secondary" onclick="clearKeyboard()">æ¸…ç©º</button>
                </div>
            </div>
            
            <div class="result-box" id="resultBox">
                <div class="result-pinyin" id="resultPinyin">è½¬æ¢ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</div>
            </div>
        </div>
        
        <div class="card">
            <div class="card-title">å£°è°ƒè¯´æ˜</div>
            <div class="tone-guide">
                <div class="tone-item">
                    <div class="symbol">Ä</div>
                    <div class="name">ç¬¬ä¸€å£°ï¼ˆé˜´å¹³ï¼‰</div>
                    <div class="desc">é«˜å¹³è°ƒ Ë‰</div>
                </div>
                <div class="tone-item">
                    <div class="symbol">Ã¡</div>
                    <div class="name">ç¬¬äºŒå£°ï¼ˆé˜³å¹³ï¼‰</div>
                    <div class="desc">å‡è°ƒ ËŠ</div>
                </div>
                <div class="tone-item">
                    <div class="symbol">Ç</div>
                    <div class="name">ç¬¬ä¸‰å£°ï¼ˆä¸Šå£°ï¼‰</div>
                    <div class="desc">é™å‡è°ƒ Ë‡</div>
                </div>
                <div class="tone-item">
                    <div class="symbol">Ã </div>
                    <div class="name">ç¬¬å››å£°ï¼ˆå»å£°ï¼‰</div>
                    <div class="desc">é™è°ƒ Ë‹</div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="copy-notice" id="copyNotice">å·²å¤åˆ¶åˆ°å‰ªè´´æ¿</div>
    
    <script>
        // æ±‰å­—æ‹¼éŸ³æ˜ å°„ï¼ˆéƒ¨åˆ†å¸¸ç”¨å­—ï¼‰
        const pinyinMap = {
            'ä¸­': 'zhÅng', 'å': 'huÃ¡', 'äºº': 'rÃ©n', 'æ°‘': 'mÃ­n', 'å…±': 'gÃ²ng', 'å’Œ': 'hÃ©', 'å›½': 'guÃ³',
            'ä½ ': 'nÇ', 'å¥½': 'hÇo', 'æˆ‘': 'wÇ’', 'ä»–': 'tÄ', 'å¥¹': 'tÄ', 'å®ƒ': 'tÄ',
            'æ˜¯': 'shÃ¬', 'çš„': 'de', 'äº†': 'le', 'åœ¨': 'zÃ i', 'æœ‰': 'yÇ’u', 'ä¸ª': 'gÃ¨',
            'ä¸Š': 'shÃ ng', 'ä¸‹': 'xiÃ ', 'å·¦': 'zuÇ’', 'å³': 'yÃ²u', 'å‰': 'qiÃ¡n', 'å': 'hÃ²u',
            'å¤§': 'dÃ ', 'å°': 'xiÇo', 'å¤š': 'duÅ', 'å°‘': 'shÇo', 'é•¿': 'chÃ¡ng', 'çŸ­': 'duÇn',
            'å­¦': 'xuÃ©', 'ä¹ ': 'xÃ­', 'ç”Ÿ': 'shÄ“ng', 'è€': 'lÇo', 'å¸ˆ': 'shÄ«', 'ä¹¦': 'shÅ«',
            'ä¸€': 'yÄ«', 'äºŒ': 'Ã¨r', 'ä¸‰': 'sÄn', 'å››': 'sÃ¬', 'äº”': 'wÇ”', 'å…­': 'liÃ¹', 'ä¸ƒ': 'qÄ«', 'å…«': 'bÄ', 'ä¹': 'jiÇ”', 'å': 'shÃ­',
            'ç™¾': 'bÇi', 'åƒ': 'qiÄn', 'ä¸‡': 'wÃ n', 'äº¿': 'yÃ¬',
            'å¤©': 'tiÄn', 'åœ°': 'dÃ¬', 'æ—¥': 'rÃ¬', 'æœˆ': 'yuÃ¨', 'å¹´': 'niÃ¡n', 'æ—¶': 'shÃ­',
            'å±±': 'shÄn', 'æ°´': 'shuÇ', 'ç«': 'huÇ’', 'æœ¨': 'mÃ¹', 'é‡‘': 'jÄ«n', 'åœŸ': 'tÇ”',
            'ä¸œ': 'dÅng', 'è¥¿': 'xÄ«', 'å—': 'nÃ¡n', 'åŒ—': 'bÄ›i',
            'æ˜¥': 'chÅ«n', 'å¤': 'xiÃ ', 'ç§‹': 'qiÅ«', 'å†¬': 'dÅng',
            'çˆ±': 'Ã i', 'å¿ƒ': 'xÄ«n', 'æƒ…': 'qÃ­ng', 'æ„': 'yÃ¬',
            'åºŠ': 'chuÃ¡ng', 'æ˜': 'mÃ­ng', 'å…‰': 'guÄng', 'ç–‘': 'yÃ­', 'éœœ': 'shuÄng',
            'ä¸¾': 'jÇ”', 'å¤´': 'tÃ³u', 'æœ›': 'wÃ ng', 'ä½': 'dÄ«', 'æ€': 'sÄ«', 'æ•…': 'gÃ¹', 'ä¹¡': 'xiÄng',
            'è€Œ': 'Ã©r', 'ä¹‹': 'zhÄ«', 'ä¸': 'bÃ¹', 'äº¦': 'yÃ¬', 'ä¹': 'lÃ¨', 'ä¹': 'hÅ«',
            'æ‹¼': 'pÄ«n', 'éŸ³': 'yÄ«n', 'å£°': 'shÄ“ng', 'è°ƒ': 'diÃ o'
        };
        
        // æ•°å­—å£°è°ƒåˆ°å¸¦å£°è°ƒå­—æ¯çš„æ˜ å°„
        const toneMarks = {
            'a': ['Ä', 'Ã¡', 'Ç', 'Ã ', 'a'],
            'o': ['Å', 'Ã³', 'Ç’', 'Ã²', 'o'],
            'e': ['Ä“', 'Ã©', 'Ä›', 'Ã¨', 'e'],
            'i': ['Ä«', 'Ã­', 'Ç', 'Ã¬', 'i'],
            'u': ['Å«', 'Ãº', 'Ç”', 'Ã¹', 'u'],
            'v': ['Ç–', 'Ç˜', 'Çš', 'Çœ', 'Ã¼'],
            'Ã¼': ['Ç–', 'Ç˜', 'Çš', 'Çœ', 'Ã¼']
        };
        
        let currentMode = 'text';
        let keyboardOutput = '';
        
        function setMode(mode) {
            currentMode = mode;
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.mode === mode);
            });
            document.getElementById('textMode').style.display = mode === 'text' ? 'block' : 'none';
            document.getElementById('numberMode').style.display = mode === 'number' ? 'block' : 'none';
            document.getElementById('keyboardMode').style.display = mode === 'keyboard' ? 'block' : 'none';
        }
        
        function setExample(text) {
            document.getElementById('textInput').value = text;
            convertText();
        }
        
        function setNumberExample(text) {
            document.getElementById('numberInput').value = text;
            convertNumber();
        }
        
        function convertText() {
            const text = document.getElementById('textInput').value;
            const resultPinyin = document.getElementById('resultPinyin');
            
            if (!text.trim()) {
                resultPinyin.textContent = 'è¯·è¾“å…¥æ±‰å­—';
                return;
            }
            
            resultPinyin.textContent = '';
            
            for (let char of text) {
                if (pinyinMap[char]) {
                    const ruby = document.createElement('ruby');
                    ruby.textContent = char;
                    const rt = document.createElement('rt');
                    rt.textContent = pinyinMap[char];
                    ruby.appendChild(rt);
                    resultPinyin.appendChild(ruby);
                } else if (/[\u4e00-\u9fa5]/.test(char)) {
                    // æœªçŸ¥æ±‰å­—
                    const ruby = document.createElement('ruby');
                    ruby.textContent = char;
                    const rt = document.createElement('rt');
                    rt.textContent = '?';
                    rt.style.color = '#f43f5e';
                    ruby.appendChild(rt);
                    resultPinyin.appendChild(ruby);
                } else {
                    resultPinyin.appendChild(document.createTextNode(char));
                }
            }
        }
        
        function convertNumber() {
            const input = document.getElementById('numberInput').value;
            const resultPinyin = document.getElementById('resultPinyin');
            
            if (!input.trim()) {
                resultPinyin.textContent = 'è¯·è¾“å…¥æ•°å­—å£°è°ƒæ‹¼éŸ³';
                return;
            }
            
            // å°†æ•°å­—å£°è°ƒè½¬æ¢ä¸ºå¸¦å£°è°ƒå­—æ¯
            let result = input.replace(/([aoeiu]|Ã¼|v)([1-4])/gi, (match, vowel, tone) => {
                const toneIndex = parseInt(tone) - 1;
                const v = vowel.toLowerCase();
                if (toneMarks[v]) {
                    return toneMarks[v][toneIndex];
                }
                return match;
            });
            
            // å¤„ç†è½»å£°ï¼ˆ5æˆ–æ— å£°è°ƒï¼‰
            result = result.replace(/([aoeiu]|Ã¼|v)5/gi, (match, vowel) => {
                const v = vowel.toLowerCase();
                if (toneMarks[v]) {
                    return toneMarks[v][4];
                }
                return vowel;
            });
            
            resultPinyin.textContent = result;
        }
        
        function insertVowel(char) {
            keyboardOutput += char;
            document.getElementById('pinyinOutput').textContent = keyboardOutput;
        }
        
        function backspace() {
            keyboardOutput = keyboardOutput.slice(0, -1);
            document.getElementById('pinyinOutput').textContent = keyboardOutput;
        }
        
        function clearKeyboard() {
            keyboardOutput = '';
            document.getElementById('pinyinOutput').textContent = '';
        }
        
        function copyResult() {
            const text = document.getElementById('resultPinyin').textContent;
            if (text && text !== 'è¯·è¾“å…¥æ±‰å­—' && text !== 'è½¬æ¢ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ') {
                navigator.clipboard.writeText(text);
                showCopyNotice();
            }
        }
        
        function copyNumberResult() {
            const text = document.getElementById('resultPinyin').textContent;
            if (text && text !== 'è¯·è¾“å…¥æ•°å­—å£°è°ƒæ‹¼éŸ³') {
                navigator.clipboard.writeText(text);
                showCopyNotice();
            }
        }
        
        function copyKeyboardResult() {
            if (keyboardOutput) {
                navigator.clipboard.writeText(keyboardOutput);
                showCopyNotice();
            }
        }
        
        function showCopyNotice() {
            const notice = document.getElementById('copyNotice');
            notice.classList.add('show');
            setTimeout(() => notice.classList.remove('show'), 2000);
        }
        
        function clearInput() {
            document.getElementById('textInput').value = '';
            document.getElementById('resultPinyin').textContent = 'è½¬æ¢ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ';
        }
        
        // è¾“å…¥æ—¶å®æ—¶è½¬æ¢
        document.getElementById('textInput').addEventListener('input', convertText);
        document.getElementById('numberInput').addEventListener('input', convertNumber);
    
    // Theme toggle
    function toggleTheme() {
      const html = document.documentElement;
      const currentTheme = html.getAttribute('data-theme');
      const newTheme = currentTheme === 'light' ? 'dark' : 'light';
      html.setAttribute('data-theme', newTheme);
      document.getElementById('theme-icon').textContent = newTheme === 'light' ? 'â˜€ï¸' : 'ğŸŒ™';
      localStorage.setItem('theme', newTheme);
    }

    // Load saved theme
    const savedTheme = localStorage.getItem('theme') || 'dark';
    if (savedTheme === 'light') {
      document.documentElement.setAttribute('data-theme', 'light');
      document.getElementById('theme-icon').textContent = 'â˜€ï¸';
    }

</script>
</body>
</html>
