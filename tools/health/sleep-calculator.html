<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¡çœ æ—¶é—´è®¡ç®—å™¨ - WebUtils</title>
  <!-- SEO Meta Tags -->
  <meta name="description" content="ç¡çœ æ—¶é—´è®¡ç®—å™¨ - WebUtils" />
  <meta name="keywords" content="sleep-calculator,health,tools,webutils" />
  <meta name="author" content="WebUtils" />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href="https://tools.realtime-ai.chat/tools/health/sleep-calculator.html" />

  <!-- Open Graph -->
  <meta property="og:title" content="ç¡çœ æ—¶é—´è®¡ç®—å™¨ - WebUtils" />
  <meta property="og:description" content="ç¡çœ æ—¶é—´è®¡ç®—å™¨ - WebUtils" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://tools.realtime-ai.chat/tools/health/sleep-calculator.html" />
  <meta property="og:site_name" content="WebUtils" />
  <meta property="og:locale" content="zh_CN" />
  <meta property="og:image" content="https://tools.realtime-ai.chat/social-preview.png" />
  <meta property="og:image:width" content="1280" />
  <meta property="og:image:height" content="640" />
  <meta property="og:image:type" content="image/png" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="ç¡çœ æ—¶é—´è®¡ç®—å™¨ - WebUtils" />
  <meta name="twitter:description" content="ç¡çœ æ—¶é—´è®¡ç®—å™¨ - WebUtils" />
  <meta name="twitter:image" content="https://tools.realtime-ai.chat/social-preview.png" />

    <style>
    :root {
      --bg-deep: #0a0a0f;
      --bg-surface: #12121a;
      --bg-card: #1a1a24;
      --bg-input: #0e0e14;
      --text-primary: #e8e8ed;
      --text-secondary: #8888a0;
      --text-muted: #55556a;
      --border-subtle: #2a2a3a;
      --border-strong: #3a3a4a;
      --accent-cyan: #00f5d4;
      --accent-green: #10b981;
      --accent-red: #f43f5e;
      --accent-yellow: #fbbf24;
      --accent-purple: #a855f7;
      --glow-cyan: rgb(0, 245, 212, 0.15);
      --glow-green: rgb(16, 185, 129, 0.15);
      --glow-red: rgb(244, 63, 94, 0.15);
      --radius-sm: 4px;
      --radius-md: 8px;
      --radius-lg: 12px;
    }

    [data-theme="light"] {
      --bg-deep: #fafafa;
      --bg-surface: #fff;
      --bg-card: #fff;
      --bg-input: #f5f5f5;
      --bg-hover: #f5f5f5;
      --text-primary: #1a1a1a;
      --text-secondary: #666;
      --text-muted: #999;
      --border-subtle: #e5e5e5;
      --border-strong: #d5d5d5;
    }

    .theme-toggle {
      position: fixed;
      top: 1rem;
      right: 1rem;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: 1px solid var(--border-subtle);
      background: var(--bg-card);
      cursor: pointer;
      font-size: 1.2rem;
      z-index: 100;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .theme-toggle:hover {
      transform: scale(1.1);
    }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { --bg: #0a0a0f; --card: #12121a; --border: #2a2a3a; --text: #fff; --text2: #888; --accent: #8b5cf6; --accent2: #6366f1; }
        @media (prefers-color-scheme: light) { :root { --bg: #f5f5f5; --card: #fff; --border: #e0e0e0; --text: #333; --text2: #666; } }
        body { font-family: system-ui, -apple-system, sans-serif; background: var(--bg); color: var(--text); min-height: 100vh; padding: 20px; }
        .container { max-width: 900px; margin: 0 auto; }
        h1 { text-align: center; margin-bottom: 8px; font-size: 1.8rem; }
        .subtitle { text-align: center; color: var(--text2); margin-bottom: 24px; }
        .tabs { display: flex; gap: 8px; margin-bottom: 20px; }
        .tab { flex: 1; padding: 12px; border: 1px solid var(--border); border-radius: 8px; background: var(--bg); color: var(--text); cursor: pointer; text-align: center; transition: all 0.2s; }
        .tab.active { background: var(--accent); border-color: var(--accent); color: white; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        @media (max-width: 768px) { .grid { grid-template-columns: 1fr; } }
        .card { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 24px; margin-bottom: 20px; }
        .card-title { font-size: 1rem; color: var(--text2); margin-bottom: 16px; }
        .form-group { margin-bottom: 16px; }
        .form-group label { display: block; margin-bottom: 6px; font-size: 0.9rem; color: var(--text2); }
        input, select { width: 100%; padding: 12px; border: 1px solid var(--border); border-radius: 8px; background: var(--bg); color: var(--text); font-size: 1rem; }
        input:focus, select:focus { outline: none; border-color: var(--accent); }
        .time-input { display: flex; gap: 8px; align-items: center; }
        .time-input input { text-align: center; }
        .time-input span { color: var(--text2); }
        .result-hero { background: linear-gradient(135deg, var(--accent), var(--accent2)); padding: 28px; border-radius: 12px; text-align: center; color: white; margin-bottom: 20px; }
        .result-hero .label { opacity: 0.9; margin-bottom: 8px; }
        .result-hero .big { font-size: 1.8rem; font-weight: 700; }
        .result-hero .sub { margin-top: 12px; font-size: 0.9rem; opacity: 0.9; }
        .wake-times { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
        @media (max-width: 768px) { .wake-times { grid-template-columns: repeat(2, 1fr); } }
        .wake-time { padding: 16px; border-radius: 12px; text-align: center; cursor: pointer; transition: all 0.2s; border: 2px solid transparent; }
        .wake-time:hover { transform: translateY(-2px); }
        .wake-time.optimal { background: linear-gradient(135deg, #22c55e, #16a34a); color: white; }
        .wake-time.good { background: linear-gradient(135deg, #3b82f6, #2563eb); color: white; }
        .wake-time.fair { background: linear-gradient(135deg, #f97316, #ea580c); color: white; }
        .wake-time .time { font-size: 1.5rem; font-weight: 700; }
        .wake-time .cycles { font-size: 0.85rem; opacity: 0.9; margin-top: 4px; }
        .wake-time .hours { font-size: 0.75rem; opacity: 0.8; }
        .cycle-visual { display: flex; gap: 8px; justify-content: center; margin: 20px 0; flex-wrap: wrap; }
        .cycle { width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; font-weight: 600; color: white; }
        .cycle.rem { background: var(--accent); }
        .cycle.deep { background: #3b82f6; }
        .cycle.light { background: #64748b; }
        .result-row { display: flex; justify-content: space-between; padding: 12px; background: var(--bg); border-radius: 8px; margin-bottom: 8px; }
        .result-row .label { color: var(--text2); }
        .result-row .value { font-weight: 600; }
        .age-recommendation { margin-top: 16px; }
        .age-item { display: flex; justify-content: space-between; padding: 10px 12px; background: var(--bg); border-radius: 8px; margin-bottom: 6px; font-size: 0.9rem; }
        .tips { margin-top: 16px; }
        .tip { padding: 12px; background: var(--bg); border-radius: 8px; margin-bottom: 8px; font-size: 0.9rem; }
        .tip-title { font-weight: 600; color: var(--accent); margin-bottom: 4px; }
        .note { margin-top: 16px; padding: 12px; background: var(--bg); border-radius: 8px; font-size: 0.85rem; color: var(--text2); }
            .back-link { display: inline-block; margin-bottom: 16px; color: var(--accent); text-decoration: none; font-size: 0.9rem; }
        .back-link:hover { text-decoration: underline; }
    
        .breadcrumb { position: fixed; top: 10px; left: 10px; z-index: 1000; background: rgba(255,255,255,0.95); padding: 8px 15px; border-radius: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); font-size: 0.85rem; }
        .breadcrumb a { color: #667eea; text-decoration: none; }
        .breadcrumb a:hover { text-decoration: underline; }
        .breadcrumb span { color: #999; margin: 0 5px; }
    </style>
</head>
<body>
  <button class="theme-toggle" onclick="toggleTheme()" aria-label="åˆ‡æ¢ä¸»é¢˜">
    <span id="theme-icon">ğŸŒ™</span>
  </button>

    <nav class="breadcrumb"><a href="../../index.html">é¦–é¡µ</a><span>â€º</span><a href="../../index.html#health">åŒ»ç–—å¥åº·</a><span>â€º</span>ç¡çœ æ—¶é—´è®¡ç®—å™¨</nav>
    <div class="container">
        <a href="../../index.html" class="back-link">â† è¿”å›</a>
        <h1>ç¡çœ æ—¶é—´è®¡ç®—å™¨</h1>
        <p class="subtitle">åŸºäºç¡çœ å‘¨æœŸè®¡ç®—æœ€ä½³èµ·åºŠ/å…¥ç¡æ—¶é—´</p>
        
        <div class="tabs">
            <div class="tab active" data-mode="wake" onclick="setMode('wake')">æˆ‘æƒ³å‡ ç‚¹èµ·åºŠ</div>
            <div class="tab" data-mode="sleep" onclick="setMode('sleep')">æˆ‘æƒ³å‡ ç‚¹ç¡è§‰</div>
            <div class="tab" data-mode="now" onclick="setMode('now')">æˆ‘ç°åœ¨å°±ç¡</div>
        </div>
        
        <div class="grid">
            <div class="card">
                <div class="card-title" id="inputTitle">è®¾ç½®èµ·åºŠæ—¶é—´</div>
                <div class="form-group" id="timeInputGroup">
                    <label id="timeLabel">èµ·åºŠæ—¶é—´</label>
                    <div class="time-input">
                        <input type="number" id="hour" value="7" min="0" max="23" oninput="calculate()">
                        <span>:</span>
                        <input type="number" id="minute" value="0" min="0" max="59" oninput="calculate()">
                    </div>
                </div>
                <div class="form-group">
                    <label>å…¥ç¡æ‰€éœ€æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰</label>
                    <input type="number" id="fallAsleepTime" value="14" min="1" max="60" oninput="calculate()">
                </div>
                <div class="form-group">
                    <label>ç¡çœ å‘¨æœŸé•¿åº¦ï¼ˆåˆ†é’Ÿï¼‰</label>
                    <input type="number" id="cycleLength" value="90" min="60" max="120" oninput="calculate()">
                </div>
                
                <div class="card-title" style="margin-top: 24px;">ç¡çœ å‘¨æœŸè¯´æ˜</div>
                <div class="cycle-visual">
                    <div class="cycle light">æµ…ç¡</div>
                    <div class="cycle deep">æ·±ç¡</div>
                    <div class="cycle rem">REM</div>
                </div>
                <p style="font-size: 0.85rem; color: var(--text2); text-align: center;">
                    æ¯ä¸ªç¡çœ å‘¨æœŸçº¦90åˆ†é’Ÿï¼ŒåŒ…å«æµ…ç¡çœ ã€æ·±ç¡çœ å’ŒREMå¿«é€Ÿçœ¼åŠ¨æœŸã€‚åœ¨å‘¨æœŸç»“æŸæ—¶é†’æ¥æœ€æ¸…é†’ã€‚
                </p>
            </div>
            
            <div>
                <div class="result-hero">
                    <div class="label" id="resultLabel">å»ºè®®å…¥ç¡æ—¶é—´</div>
                    <div class="big" id="resultTime">-</div>
                    <div class="sub" id="resultNote">å®Œæˆå®Œæ•´çš„ç¡çœ å‘¨æœŸ</div>
                </div>
                
                <div class="card">
                    <div class="card-title" id="timesTitle">å»ºè®®å…¥ç¡æ—¶é—´</div>
                    <div class="wake-times" id="suggestedTimes"></div>
                </div>
                
                <div class="card">
                    <div class="card-title">ç¡çœ ä¿¡æ¯</div>
                    <div class="result-row">
                        <span class="label">æ¨èç¡çœ æ—¶é•¿</span>
                        <span class="value">7-9 å°æ—¶</span>
                    </div>
                    <div class="result-row">
                        <span class="label">æœ€ä½³ç¡çœ å‘¨æœŸ</span>
                        <span class="value">5-6 ä¸ªå‘¨æœŸ</span>
                    </div>
                    <div class="result-row">
                        <span class="label">å•ä¸ªå‘¨æœŸæ—¶é•¿</span>
                        <span class="value" id="cycleLengthDisplay">90 åˆ†é’Ÿ</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="grid">
            <div class="card">
                <div class="card-title">å„å¹´é¾„æ®µæ¨èç¡çœ æ—¶é•¿</div>
                <div class="age-recommendation">
                    <div class="age-item"><span>æ–°ç”Ÿå„¿ (0-3æœˆ)</span><span>14-17 å°æ—¶</span></div>
                    <div class="age-item"><span>å©´å„¿ (4-11æœˆ)</span><span>12-15 å°æ—¶</span></div>
                    <div class="age-item"><span>å¹¼å„¿ (1-2å²)</span><span>11-14 å°æ—¶</span></div>
                    <div class="age-item"><span>å­¦é¾„å‰ (3-5å²)</span><span>10-13 å°æ—¶</span></div>
                    <div class="age-item"><span>å­¦é¾„æœŸ (6-13å²)</span><span>9-11 å°æ—¶</span></div>
                    <div class="age-item"><span>é’å°‘å¹´ (14-17å²)</span><span>8-10 å°æ—¶</span></div>
                    <div class="age-item"><span>æˆäºº (18-64å²)</span><span>7-9 å°æ—¶</span></div>
                    <div class="age-item"><span>è€å¹´äºº (65+å²)</span><span>7-8 å°æ—¶</span></div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-title">ç¡çœ å°è´´å£«</div>
                <div class="tips">
                    <div class="tip">
                        <div class="tip-title">å›ºå®šä½œæ¯</div>
                        <div>æ¯å¤©åŒä¸€æ—¶é—´ç¡è§‰å’Œèµ·åºŠï¼ŒåŒ…æ‹¬å‘¨æœ«ï¼Œæœ‰åŠ©äºè°ƒèŠ‚ç”Ÿç‰©é’Ÿ</div>
                    </div>
                    <div class="tip">
                        <div class="tip-title">ç¡å‰æ”¾æ¾</div>
                        <div>ç¡å‰1å°æ—¶é¿å…ä½¿ç”¨ç”µå­è®¾å¤‡ï¼Œå¯ä»¥é˜…è¯»ã€å†¥æƒ³æˆ–æ³¡æ¾¡</div>
                    </div>
                    <div class="tip">
                        <div class="tip-title">ç¯å¢ƒä¼˜åŒ–</div>
                        <div>ä¿æŒå§å®¤å®‰é™ã€é»‘æš—ã€å‡‰çˆ½ï¼ˆ18-22Â°Cï¼‰ï¼Œä½¿ç”¨èˆ’é€‚çš„åºŠå“</div>
                    </div>
                    <div class="tip">
                        <div class="tip-title">é¿å…åˆºæ¿€</div>
                        <div>ä¸‹åˆé¿å…å’–å•¡å› ï¼Œç¡å‰é¿å…å¤§é¤å’Œé…’ç²¾</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="note">
            ç¡çœ å‘¨æœŸå› äººè€Œå¼‚ï¼Œæ ‡å‡†å‘¨æœŸçº¦90åˆ†é’Ÿã€‚æœ¬è®¡ç®—å™¨å‡è®¾å¹³å‡å…¥ç¡æ—¶é—´ä¸º14åˆ†é’Ÿã€‚å¦‚æœæ‚¨ç»å¸¸æ„Ÿåˆ°ç–²åŠ³æˆ–ç¡çœ é—®é¢˜æŒç»­ï¼Œå»ºè®®å’¨è¯¢åŒ»ç”Ÿã€‚
        </div>
    </div>
    
    <script>
        let mode = 'wake';
        
        function setMode(m) {
            mode = m;
            document.querySelectorAll('.tab').forEach(t => t.classList.toggle('active', t.dataset.mode === m));
            
            const timeInputGroup = document.getElementById('timeInputGroup');
            
            if (m === 'now') {
                timeInputGroup.style.display = 'none';
                document.getElementById('inputTitle').textContent = 'ä»ç°åœ¨å¼€å§‹è®¡ç®—';
            } else {
                timeInputGroup.style.display = 'block';
                if (m === 'wake') {
                    document.getElementById('inputTitle').textContent = 'è®¾ç½®èµ·åºŠæ—¶é—´';
                    document.getElementById('timeLabel').textContent = 'èµ·åºŠæ—¶é—´';
                } else {
                    document.getElementById('inputTitle').textContent = 'è®¾ç½®å…¥ç¡æ—¶é—´';
                    document.getElementById('timeLabel').textContent = 'å…¥ç¡æ—¶é—´';
                }
            }
            
            calculate();
        }
        
        function formatTime(date) {
            const hours = date.getHours().toString().padStart(2, '0');
            const minutes = date.getMinutes().toString().padStart(2, '0');
            return hours + ':' + minutes;
        }
        
        function calculate() {
            const fallAsleepTime = parseInt(document.getElementById('fallAsleepTime').value) || 14;
            const cycleLength = parseInt(document.getElementById('cycleLength').value) || 90;
            
            document.getElementById('cycleLengthDisplay').textContent = cycleLength + ' åˆ†é’Ÿ';
            
            let targetTime;
            
            if (mode === 'now') {
                targetTime = new Date();
            } else {
                const hour = parseInt(document.getElementById('hour').value) || 0;
                const minute = parseInt(document.getElementById('minute').value) || 0;
                targetTime = new Date();
                targetTime.setHours(hour, minute, 0, 0);
            }
            
            const times = [];
            
            if (mode === 'wake' || mode === 'now') {
                // è®¡ç®—å…¥ç¡æ—¶é—´
                document.getElementById('resultLabel').textContent = 'å»ºè®®å…¥ç¡æ—¶é—´';
                document.getElementById('timesTitle').textContent = 'å»ºè®®å…¥ç¡æ—¶é—´';
                
                if (mode === 'now') {
                    // ä»ç°åœ¨å¼€å§‹ï¼Œè®¡ç®—æœ€ä½³èµ·åºŠæ—¶é—´
                    document.getElementById('resultLabel').textContent = 'å»ºè®®èµ·åºŠæ—¶é—´';
                    document.getElementById('timesTitle').textContent = 'å»ºè®®èµ·åºŠæ—¶é—´';
                    
                    const sleepStart = new Date(targetTime.getTime() + fallAsleepTime * 60 * 1000);
                    
                    for (let cycles = 6; cycles >= 3; cycles--) {
                        const wakeTime = new Date(sleepStart.getTime() + cycles * cycleLength * 60 * 1000);
                        const sleepHours = (cycles * cycleLength / 60).toFixed(1);
                        times.push({
                            time: wakeTime,
                            cycles: cycles,
                            hours: sleepHours,
                            quality: cycles >= 5 ? 'optimal' : cycles >= 4 ? 'good' : 'fair'
                        });
                    }
                } else {
                    // æ ¹æ®èµ·åºŠæ—¶é—´è®¡ç®—å…¥ç¡æ—¶é—´
                    for (let cycles = 6; cycles >= 3; cycles--) {
                        const sleepTime = new Date(targetTime.getTime() - (cycles * cycleLength + fallAsleepTime) * 60 * 1000);
                        const sleepHours = (cycles * cycleLength / 60).toFixed(1);
                        times.push({
                            time: sleepTime,
                            cycles: cycles,
                            hours: sleepHours,
                            quality: cycles >= 5 ? 'optimal' : cycles >= 4 ? 'good' : 'fair'
                        });
                    }
                }
            } else {
                // æ ¹æ®å…¥ç¡æ—¶é—´è®¡ç®—èµ·åºŠæ—¶é—´
                document.getElementById('resultLabel').textContent = 'å»ºè®®èµ·åºŠæ—¶é—´';
                document.getElementById('timesTitle').textContent = 'å»ºè®®èµ·åºŠæ—¶é—´';
                
                const sleepStart = new Date(targetTime.getTime() + fallAsleepTime * 60 * 1000);
                
                for (let cycles = 6; cycles >= 3; cycles--) {
                    const wakeTime = new Date(sleepStart.getTime() + cycles * cycleLength * 60 * 1000);
                    const sleepHours = (cycles * cycleLength / 60).toFixed(1);
                    times.push({
                        time: wakeTime,
                        cycles: cycles,
                        hours: sleepHours,
                        quality: cycles >= 5 ? 'optimal' : cycles >= 4 ? 'good' : 'fair'
                    });
                }
            }
            
            // æ˜¾ç¤ºæœ€ä½³æ—¶é—´
            if (times.length > 0) {
                const best = times.find(t => t.quality === 'optimal') || times[0];
                document.getElementById('resultTime').textContent = formatTime(best.time);
                document.getElementById('resultNote').textContent = best.cycles + 'ä¸ªç¡çœ å‘¨æœŸï¼Œçº¦' + best.hours + 'å°æ—¶';
            }
            
            // æ¸²æŸ“æ‰€æœ‰å»ºè®®æ—¶é—´
            renderSuggestedTimes(times);
        }
        
        function renderSuggestedTimes(times) {
            const container = document.getElementById('suggestedTimes');
            container.textContent = '';
            
            times.forEach(item => {
                const div = document.createElement('div');
                div.className = 'wake-time ' + item.quality;
                
                const timeDiv = document.createElement('div');
                timeDiv.className = 'time';
                timeDiv.textContent = formatTime(item.time);
                
                const cyclesDiv = document.createElement('div');
                cyclesDiv.className = 'cycles';
                cyclesDiv.textContent = item.cycles + 'ä¸ªå‘¨æœŸ';
                
                const hoursDiv = document.createElement('div');
                hoursDiv.className = 'hours';
                hoursDiv.textContent = item.hours + 'å°æ—¶ç¡çœ ';
                
                div.appendChild(timeDiv);
                div.appendChild(cyclesDiv);
                div.appendChild(hoursDiv);
                container.appendChild(div);
            });
        }
        
        calculate();
    
    // Theme toggle
    function toggleTheme() {
      const html = document.documentElement;
      const currentTheme = html.getAttribute('data-theme');
      const newTheme = currentTheme === 'light' ? 'dark' : 'light';
      html.setAttribute('data-theme', newTheme);
      document.getElementById('theme-icon').textContent = newTheme === 'light' ? 'â˜€ï¸' : 'ğŸŒ™';
      localStorage.setItem('theme', newTheme);
    }

    // Load saved theme
    const savedTheme = localStorage.getItem('theme') || 'dark';
    if (savedTheme === 'light') {
      document.documentElement.setAttribute('data-theme', 'light');
      document.getElementById('theme-icon').textContent = 'â˜€ï¸';
    }

</script>
</body>
</html>
