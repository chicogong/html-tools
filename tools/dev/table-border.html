<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>è¡¨æ ¼çº¿ç”Ÿæˆå™¨ - WebUtils</title>
    <!-- SEO Meta Tags -->
    <meta name="description" content="è¡¨æ ¼çº¿ç”Ÿæˆå™¨ - WebUtils" />
    <meta name="keywords" content="table-border,dev,tools,webutils" />
    <meta name="author" content="WebUtils" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://tools.realtime-ai.chat/tools/dev/table-border.html" />

    <!-- Open Graph -->
    <meta property="og:title" content="è¡¨æ ¼çº¿ç”Ÿæˆå™¨ - WebUtils" />
    <meta property="og:description" content="è¡¨æ ¼çº¿ç”Ÿæˆå™¨ - WebUtils" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://tools.realtime-ai.chat/tools/dev/table-border.html" />
    <meta property="og:site_name" content="WebUtils" />
    <meta property="og:locale" content="zh_CN" />
    <meta property="og:image" content="https://tools.realtime-ai.chat/social-preview.png" />
    <meta property="og:image:width" content="1280" />
    <meta property="og:image:height" content="640" />
    <meta property="og:image:type" content="image/png" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="è¡¨æ ¼çº¿ç”Ÿæˆå™¨ - WebUtils" />
    <meta name="twitter:description" content="è¡¨æ ¼çº¿ç”Ÿæˆå™¨ - WebUtils" />
    <meta name="twitter:image" content="https://tools.realtime-ai.chat/social-preview.png" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css" />
    <style>
      :root {
        --color-bg-deep: #0a0a0f;
        --color-bg-surface: #12121a;
        --color-bg-card: #1a1a24;
        --bg-input: #0e0e14;
        --color-text-primary: #e8e8ed;
        --color-text-secondary: #8888a0;
        --color-text-muted: #55556a;
        --border-subtle: #2a2a3a;
        --border-strong: #3a3a4a;
        --color-accent-cyan: #00f5d4;
        --accent-green: #10b981;
        --accent-red: #f43f5e;
        --accent-yellow: #fbbf24;
        --color-accent-purple: #a855f7;
        --glow-cyan: rgb(0, 245, 212, 0.15);
        --glow-green: rgb(16, 185, 129, 0.15);
        --glow-red: rgb(244, 63, 94, 0.15);
        --radius-sm: 4px;
        --radius-md: 8px;
        --radius-lg: 12px;

        /* å­—ä½“å˜é‡ */
        --font-sans:
          "Space Grotesk", -apple-system, blinkmacsystemfont, "Segoe UI", roboto, sans-serif;
        --font-mono: "JetBrains Mono", "Courier New", monospace;
      }

      [data-theme="light"] {
        --color-bg-deep: #fafafa;
        --color-bg-surface: #fff;
        --color-bg-card: #fff;
        --bg-input: #f5f5f5;
        --bg-hover: #f5f5f5;
        --color-text-primary: #1a1a1a;
        --color-text-secondary: #666;
        --color-text-muted: #999;
        --border-subtle: #e5e5e5;
        --border-strong: #d5d5d5;
      }

      body {
        min-height: 100vh;
      }

      .container {
        max-width: 1000px;
        padding: 1rem 2rem;
      }

      header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1.5rem;
      }

      header h1 {
        margin: 0;
      }

      .theme-toggle {
        background: none;
        border: none;
        cursor: pointer;
        font-size: 1.5rem;
        padding: 0.5rem;
      }

      .controls {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        margin-bottom: 1.5rem;
      }

      .control-group label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 500;
      }

      .control-group input,
      .control-group select {
        margin: 0;
      }

      .style-options {
        display: flex;
        gap: 0.5rem;
        flex-wrap: wrap;
        margin-bottom: 1.5rem;
      }

      .style-btn {
        padding: 0.5rem 1rem;
        font-family: var(--font-mono);
      }

      .style-btn.active {
        background: var(--pico-primary);
        color: var(--pico-primary-inverse);
      }

      .table-editor {
        background: var(--pico-card-background-color);
        border-radius: var(--pico-border-radius);
        padding: 1.5rem;
        margin-bottom: 1.5rem;
      }

      .table-editor h3 {
        margin: 0 0 1rem;
      }

      .cell-inputs {
        display: grid;
        gap: 0.5rem;
        margin-bottom: 1rem;
      }

      .cell-row {
        display: flex;
        gap: 0.5rem;
      }

      .cell-input {
        flex: 1;
        margin: 0;
        padding: 0.5rem;
        font-family: var(--font-mono);
        min-width: 0;
      }

      .row-controls {
        display: flex;
        gap: 0.5rem;
        margin-bottom: 1rem;
      }

      .preview-section {
        background: var(--pico-card-background-color);
        border-radius: var(--pico-border-radius);
        padding: 1.5rem;
      }

      .preview-section h3 {
        margin: 0 0 1rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .preview-output {
        background: var(--pico-code-background-color);
        border-radius: var(--pico-border-radius);
        padding: 1rem;
        font-family: var(--font-mono);
        white-space: pre;
        overflow-x: auto;
        line-height: 1.4;
      }

      .char-reference {
        margin-top: 1.5rem;
      }

      .char-reference h3 {
        margin-bottom: 1rem;
      }

      .char-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
        gap: 0.5rem;
      }

      .char-item {
        background: var(--pico-card-background-color);
        border-radius: var(--pico-border-radius);
        padding: 0.75rem;
        text-align: center;
        cursor: pointer;
        border: 1px solid var(--pico-muted-border-color);
        transition: all 0.2s;
      }

      .char-item:hover {
        border-color: var(--pico-primary);
        transform: translateY(-1px);
      }

      .char-item .char {
        font-size: 1.5rem;
        font-family: var(--font-mono);
      }

      .char-item .name {
        font-size: 0.75rem;
        opacity: 0.7;
        margin-top: 0.25rem;
      }

      .toast {
        position: fixed;
        bottom: 2rem;
        left: 50%;
        transform: translateX(-50%) translateY(100px);
        background: var(--pico-primary);
        color: var(--pico-primary-inverse);
        padding: 0.75rem 1.5rem;
        border-radius: var(--pico-border-radius);
        opacity: 0;
        transition:
          transform 0.3s,
          opacity 0.3s;
        z-index: 1000;
      }

      .toast.show {
        transform: translateX(-50%) translateY(0);
        opacity: 1;
      }

      @media (max-width: 768px) {
        .cell-input {
          font-size: 0.8rem;
          padding: 0.4rem;
        }
      }

      .breadcrumb {
        background: rgba(255, 255, 255, 0.95);
        padding: 8px 15px;
        border-radius: 20px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        font-size: 0.85rem;
      }
      .breadcrumb a {
        color: #667eea;
        text-decoration: none;
      }
      .breadcrumb a:hover {
        text-decoration: underline;
      }
      .breadcrumb span {
        color: #999;
        margin: 0 5px;
      }
    </style>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <nav class="breadcrumb">
      <a href="../../index.html">é¦–é¡µ</a>
      <span>â€º</span>
      è¡¨æ ¼çº¿ç”Ÿæˆå™¨
    </nav>
    <div class="container">
      <header>
        <h1>ğŸ“Š è¡¨æ ¼çº¿ç”Ÿæˆå™¨</h1>
        <button class="theme-toggle" onclick="toggleTheme()" title="åˆ‡æ¢ä¸»é¢˜">ğŸŒ“</button>
      </header>

      <div class="controls">
        <div class="control-group">
          <label>è¡Œæ•°</label>
          <input type="number" id="rowCount" value="3" min="1" max="10" onchange="updateTable()" />
        </div>
        <div class="control-group">
          <label>åˆ—æ•°</label>
          <input type="number" id="colCount" value="3" min="1" max="8" onchange="updateTable()" />
        </div>
        <div class="control-group">
          <label>å¯¹é½æ–¹å¼</label>
          <select id="alignment" onchange="generateTable()">
            <option value="left">å·¦å¯¹é½</option>
            <option value="center">å±…ä¸­</option>
            <option value="right">å³å¯¹é½</option>
          </select>
        </div>
      </div>

      <h3>è¾¹æ¡†æ ·å¼</h3>
      <div class="style-options" id="styleOptions"></div>

      <div class="table-editor">
        <h3>è¡¨æ ¼å†…å®¹</h3>
        <div class="cell-inputs" id="cellInputs"></div>
        <div class="row-controls">
          <button class="outline" onclick="addRow()">+ æ·»åŠ è¡Œ</button>
          <button class="outline" onclick="removeRow()">- åˆ é™¤è¡Œ</button>
          <button class="outline" onclick="addCol()">+ æ·»åŠ åˆ—</button>
          <button class="outline" onclick="removeCol()">- åˆ é™¤åˆ—</button>
        </div>
      </div>

      <div class="preview-section">
        <h3>
          <span>é¢„è§ˆ</span>
          <button onclick="copyTable()">å¤åˆ¶è¡¨æ ¼</button>
        </h3>
        <div class="preview-output" id="previewOutput"></div>
      </div>

      <div class="char-reference">
        <h3>ğŸ“‹ è¡¨æ ¼å­—ç¬¦å‚è€ƒ</h3>
        <div class="char-grid" id="charGrid"></div>
      </div>

      <div class="toast" id="toast"></div>
    </div>

    <script>
      const borderStyles = {
        ascii: {
          name: "ASCII",
          chars: {
            topLeft: "+",
            topRight: "+",
            bottomLeft: "+",
            bottomRight: "+",
            horizontal: "-",
            vertical: "|",
            topMid: "+",
            bottomMid: "+",
            leftMid: "+",
            rightMid: "+",
            cross: "+"
          }
        },
        single: {
          name: "å•çº¿",
          chars: {
            topLeft: "â”Œ",
            topRight: "â”",
            bottomLeft: "â””",
            bottomRight: "â”˜",
            horizontal: "â”€",
            vertical: "â”‚",
            topMid: "â”¬",
            bottomMid: "â”´",
            leftMid: "â”œ",
            rightMid: "â”¤",
            cross: "â”¼"
          }
        },
        double: {
          name: "åŒçº¿",
          chars: {
            topLeft: "â•”",
            topRight: "â•—",
            bottomLeft: "â•š",
            bottomRight: "â•",
            horizontal: "â•",
            vertical: "â•‘",
            topMid: "â•¦",
            bottomMid: "â•©",
            leftMid: "â• ",
            rightMid: "â•£",
            cross: "â•¬"
          }
        },
        rounded: {
          name: "åœ†è§’",
          chars: {
            topLeft: "â•­",
            topRight: "â•®",
            bottomLeft: "â•°",
            bottomRight: "â•¯",
            horizontal: "â”€",
            vertical: "â”‚",
            topMid: "â”¬",
            bottomMid: "â”´",
            leftMid: "â”œ",
            rightMid: "â”¤",
            cross: "â”¼"
          }
        },
        heavy: {
          name: "ç²—çº¿",
          chars: {
            topLeft: "â”",
            topRight: "â”“",
            bottomLeft: "â”—",
            bottomRight: "â”›",
            horizontal: "â”",
            vertical: "â”ƒ",
            topMid: "â”³",
            bottomMid: "â”»",
            leftMid: "â”£",
            rightMid: "â”«",
            cross: "â•‹"
          }
        },
        dashed: {
          name: "è™šçº¿",
          chars: {
            topLeft: "â”Œ",
            topRight: "â”",
            bottomLeft: "â””",
            bottomRight: "â”˜",
            horizontal: "â”„",
            vertical: "â”†",
            topMid: "â”¬",
            bottomMid: "â”´",
            leftMid: "â”œ",
            rightMid: "â”¤",
            cross: "â”¼"
          }
        }
      };

      const boxChars = [
        { char: "â”€", name: "æ¨ªçº¿" },
        { char: "â”‚", name: "ç«–çº¿" },
        { char: "â”Œ", name: "å·¦ä¸Šè§’" },
        { char: "â”", name: "å³ä¸Šè§’" },
        { char: "â””", name: "å·¦ä¸‹è§’" },
        { char: "â”˜", name: "å³ä¸‹è§’" },
        { char: "â”œ", name: "å·¦T" },
        { char: "â”¤", name: "å³T" },
        { char: "â”¬", name: "ä¸ŠT" },
        { char: "â”´", name: "ä¸‹T" },
        { char: "â”¼", name: "åå­—" },
        { char: "â•", name: "åŒæ¨ª" },
        { char: "â•‘", name: "åŒç«–" },
        { char: "â•”", name: "åŒå·¦ä¸Š" },
        { char: "â•—", name: "åŒå³ä¸Š" },
        { char: "â•š", name: "åŒå·¦ä¸‹" },
        { char: "â•", name: "åŒå³ä¸‹" },
        { char: "â• ", name: "åŒå·¦T" },
        { char: "â•£", name: "åŒå³T" },
        { char: "â•¦", name: "åŒä¸ŠT" },
        { char: "â•©", name: "åŒä¸‹T" },
        { char: "â•¬", name: "åŒåå­—" },
        { char: "â”", name: "ç²—æ¨ª" },
        { char: "â”ƒ", name: "ç²—ç«–" }
      ];

      let currentStyle = "single";
      let tableData = [
        ["æ ‡é¢˜1", "æ ‡é¢˜2", "æ ‡é¢˜3"],
        ["å†…å®¹A", "å†…å®¹B", "å†…å®¹C"],
        ["æ•°æ®1", "æ•°æ®2", "æ•°æ®3"]
      ];

      function init() {
        renderStyleOptions();
        renderCellInputs();
        renderCharGrid();
        generateTable();

        const savedTheme = localStorage.getItem("table-border-theme");
        if (savedTheme) {
          document.documentElement.setAttribute("data-theme", savedTheme);
        } else if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
          document.documentElement.setAttribute("data-theme", "dark");
        }
      }

      function renderStyleOptions() {
        const container = document.getElementById("styleOptions");
        while (container.firstChild) {
          container.removeChild(container.firstChild);
        }

        Object.keys(borderStyles).forEach(function (styleId) {
          const style = borderStyles[styleId];
          const btn = document.createElement("button");
          btn.className = "style-btn" + (styleId === currentStyle ? " active" : "");
          btn.textContent =
            style.name + " " + style.chars.topLeft + style.chars.horizontal + style.chars.topRight;
          btn.onclick = function () {
            selectStyle(styleId);
          };
          container.appendChild(btn);
        });
      }

      window.selectStyle = function (styleId) {
        currentStyle = styleId;
        renderStyleOptions();
        generateTable();
      };

      function renderCellInputs() {
        const container = document.getElementById("cellInputs");
        while (container.firstChild) {
          container.removeChild(container.firstChild);
        }

        tableData.forEach(function (row, rowIndex) {
          const rowDiv = document.createElement("div");
          rowDiv.className = "cell-row";

          row.forEach(function (cell, colIndex) {
            const input = document.createElement("input");
            input.type = "text";
            input.className = "cell-input";
            input.value = cell;
            input.placeholder = "R" + (rowIndex + 1) + "C" + (colIndex + 1);
            input.oninput = function () {
              tableData[rowIndex][colIndex] = this.value;
              generateTable();
            };
            rowDiv.appendChild(input);
          });

          container.appendChild(rowDiv);
        });

        document.getElementById("rowCount").value = tableData.length;
        document.getElementById("colCount").value = tableData[0].length;
      }

      function renderCharGrid() {
        const grid = document.getElementById("charGrid");
        while (grid.firstChild) {
          grid.removeChild(grid.firstChild);
        }

        boxChars.forEach(function (item) {
          const div = document.createElement("div");
          div.className = "char-item";
          div.onclick = function () {
            copyText(item.char);
          };
          div.title = "ç‚¹å‡»å¤åˆ¶";

          const charSpan = document.createElement("div");
          charSpan.className = "char";
          charSpan.textContent = item.char;

          const nameSpan = document.createElement("div");
          nameSpan.className = "name";
          nameSpan.textContent = item.name;

          div.appendChild(charSpan);
          div.appendChild(nameSpan);
          grid.appendChild(div);
        });
      }

      window.updateTable = function () {
        const rows = parseInt(document.getElementById("rowCount").value) || 3;
        const cols = parseInt(document.getElementById("colCount").value) || 3;

        // Adjust rows
        while (tableData.length < rows) {
          const newRow = [];
          for (let i = 0; i < tableData[0].length; i++) {
            newRow.push("");
          }
          tableData.push(newRow);
        }
        while (tableData.length > rows) {
          tableData.pop();
        }

        // Adjust columns
        tableData.forEach(function (row) {
          while (row.length < cols) {
            row.push("");
          }
          while (row.length > cols) {
            row.pop();
          }
        });

        renderCellInputs();
        generateTable();
      };

      window.addRow = function () {
        const newRow = [];
        for (let i = 0; i < tableData[0].length; i++) {
          newRow.push("");
        }
        tableData.push(newRow);
        renderCellInputs();
        generateTable();
      };

      window.removeRow = function () {
        if (tableData.length > 1) {
          tableData.pop();
          renderCellInputs();
          generateTable();
        }
      };

      window.addCol = function () {
        tableData.forEach(function (row) {
          row.push("");
        });
        renderCellInputs();
        generateTable();
      };

      window.removeCol = function () {
        if (tableData[0].length > 1) {
          tableData.forEach(function (row) {
            row.pop();
          });
          renderCellInputs();
          generateTable();
        }
      };

      function generateTable() {
        const chars = borderStyles[currentStyle].chars;
        const alignment = document.getElementById("alignment").value;

        // Calculate column widths
        const colWidths = [];
        const numCols = tableData[0].length;

        for (let col = 0; col < numCols; col++) {
          let maxWidth = 0;
          tableData.forEach(function (row) {
            const cellWidth = getStringWidth(row[col] || "");
            if (cellWidth > maxWidth) {
              maxWidth = cellWidth;
            }
          });
          colWidths.push(Math.max(maxWidth, 4));
        }

        const lines = [];

        // Top border
        let topLine = chars.topLeft;
        colWidths.forEach(function (width, index) {
          topLine += chars.horizontal.repeat(width + 2);
          topLine += index < colWidths.length - 1 ? chars.topMid : chars.topRight;
        });
        lines.push(topLine);

        // Data rows
        tableData.forEach(function (row, rowIndex) {
          let dataLine = chars.vertical;
          row.forEach(function (cell, colIndex) {
            const paddedCell = padString(cell || "", colWidths[colIndex], alignment);
            dataLine += " " + paddedCell + " " + chars.vertical;
          });
          lines.push(dataLine);

          // Row separator (except last row)
          if (rowIndex < tableData.length - 1) {
            let sepLine = chars.leftMid;
            colWidths.forEach(function (width, index) {
              sepLine += chars.horizontal.repeat(width + 2);
              sepLine += index < colWidths.length - 1 ? chars.cross : chars.rightMid;
            });
            lines.push(sepLine);
          }
        });

        // Bottom border
        let bottomLine = chars.bottomLeft;
        colWidths.forEach(function (width, index) {
          bottomLine += chars.horizontal.repeat(width + 2);
          bottomLine += index < colWidths.length - 1 ? chars.bottomMid : chars.bottomRight;
        });
        lines.push(bottomLine);

        document.getElementById("previewOutput").textContent = lines.join("\n");
      }

      function getStringWidth(str) {
        let width = 0;
        for (let i = 0; i < str.length; i++) {
          const code = str.charCodeAt(i);
          // Simple check for CJK characters (wider)
          if (code >= 0x4e00 && code <= 0x9fff) {
            width += 2;
          } else {
            width += 1;
          }
        }
        return width;
      }

      function padString(str, targetWidth, alignment) {
        const currentWidth = getStringWidth(str);
        const padding = targetWidth - currentWidth;

        if (padding <= 0) return str;

        if (alignment === "center") {
          const leftPad = Math.floor(padding / 2);
          const rightPad = padding - leftPad;
          return " ".repeat(leftPad) + str + " ".repeat(rightPad);
        } else if (alignment === "right") {
          return " ".repeat(padding) + str;
        } else {
          return str + " ".repeat(padding);
        }
      }

      window.copyTable = function () {
        const table = document.getElementById("previewOutput").textContent;
        navigator.clipboard.writeText(table).then(function () {
          showToast("è¡¨æ ¼å·²å¤åˆ¶åˆ°å‰ªè´´æ¿");
        });
      };

      window.copyText = function (text) {
        navigator.clipboard.writeText(text).then(function () {
          showToast("å·²å¤åˆ¶: " + text);
        });
      };

      function showToast(message) {
        const toast = document.getElementById("toast");
        toast.textContent = message;
        toast.classList.add("show");
        setTimeout(function () {
          toast.classList.remove("show");
        }, 2000);
      }

      window.toggleTheme = function () {
        const html = document.documentElement;
        const currentTheme = html.getAttribute("data-theme");
        const newTheme = currentTheme === "dark" ? "light" : "dark";
        html.setAttribute("data-theme", newTheme);
        localStorage.setItem("table-border-theme", newTheme);
      };

      init();
    </script>
  </body>
</html>
