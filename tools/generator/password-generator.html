<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>å¯†ç ç”Ÿæˆå™¨ - WebUtils</title>
  <!-- SEO Meta Tags -->
  <meta name="description" content="ç”Ÿæˆå®‰å…¨éšæœºå¯†ç ï¼Œæ”¯æŒè‡ªå®šä¹‰é•¿åº¦å’Œå­—ç¬¦ç±»å‹" />
  <meta name="keywords" content="å¯†ç  password éšæœº å®‰å…¨ ç”Ÿæˆ" />
  <meta name="author" content="WebUtils" />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href="https://tools.realtime-ai.chat/html-tools/tools/generator/password-generator.html" />
  
  <!-- Open Graph -->
  <meta property="og:title" content="å¯†ç ç”Ÿæˆå™¨ - WebUtils" />
  <meta property="og:description" content="ç”Ÿæˆå®‰å…¨éšæœºå¯†ç ï¼Œæ”¯æŒè‡ªå®šä¹‰é•¿åº¦å’Œå­—ç¬¦ç±»å‹" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://tools.realtime-ai.chat/html-tools/tools/generator/password-generator.html" />
  <meta property="og:site_name" content="WebUtils" />
  <meta property="og:locale" content="zh_CN" />
  
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="å¯†ç ç”Ÿæˆå™¨ - WebUtils" />
  <meta name="twitter:description" content="ç”Ÿæˆå®‰å…¨éšæœºå¯†ç ï¼Œæ”¯æŒè‡ªå®šä¹‰é•¿åº¦å’Œå­—ç¬¦ç±»å‹" />
  <!-- OG Image -->
  <meta property="og:image" content="https://tools.realtime-ai.chat/html-tools/social-preview.png" />
  <meta property="og:image:width" content="1280" />
  <meta property="og:image:height" content="640" />
  <meta property="og:image:type" content="image/png" />
  <meta name="twitter:image" content="https://tools.realtime-ai.chat/html-tools/social-preview.png" />

  <style>
    :root {
      --bg: #f8f9fa;
      --card-bg: #fff;
      --text: #212529;
      --text-muted: #6c757d;
      --border: #dee2e6;
      --primary: #0d6efd;
      --primary-hover: #0b5ed7;
      --success: #198754;
      --warning: #ffc107;
      --danger: #dc3545;
      --shadow: 0 2px 8px rgb(0,0,0,0.08);
      --radius: 8px;
    }

    [data-theme="dark"] {
      --bg: #0a0a0f;
      --card-bg: #1a1a24;
      --text: #e8e8ed;
      --text-muted: #9898a4;
      --border: #2a2a36;
      --primary: #a855f7;
      --primary-hover: #9333ea;
      --success: #10b981;
      --warning: #f59e0b;
      --danger: #ef4444;
      --shadow: 0 2px 8px rgb(0,0,0,0.3);
    }

    .theme-toggle{position:fixed;top:1rem;right:1rem;width:40px;height:40px;border-radius:50%;border:1px solid var(--border);background:var(--card-bg);cursor:pointer;font-size:1.2rem;z-index:100;transition:all .2s}.theme-toggle:hover{transform:scale(1.1)}
    * { box-sizing: border-box; }

    body {
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
      background: var(--bg);
      color: var(--text);
      margin: 0;
      padding: 24px;
      min-height: 100vh;
    }

    .container {
      max-width: 700px;
      margin: 0 auto;
    }

    .back-link {
      display: inline-block;
      margin-bottom: 16px;
      color: var(--primary);
      text-decoration: none;
      font-size: 0.9rem;
    }

    .back-link:hover {
      text-decoration: underline;
    }

    h1 {
      font-size: 1.75rem;
      margin: 0 0 8px;
    }

    .desc {
      color: var(--text-muted);
      margin: 0 0 24px;
      font-size: 0.95rem;
    }

    .card {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow);
      margin-bottom: 20px;
    }

    .password-display {
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 16px;
      margin-bottom: 16px;
      font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, monospace;
      font-size: 1.25rem;
      word-break: break-all;
      min-height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
    }

    .strength-bar {
      height: 6px;
      background: var(--border);
      border-radius: 3px;
      margin-bottom: 8px;
      overflow: hidden;
    }

    .strength-fill {
      height: 100%;
      transition: width 0.3s, background 0.3s;
    }

    .strength-text {
      font-size: 0.85rem;
      margin-bottom: 16px;
    }

    .btn-row {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      margin-bottom: 20px;
    }

    button {
      padding: 10px 16px;
      font-size: 0.95rem;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      background: var(--card-bg);
      cursor: pointer;
      transition: all 0.2s;
    }

    button:hover {
      border-color: var(--primary);
      color: var(--primary);
    }

    button.primary {
      background: var(--primary);
      border-color: var(--primary);
      color: #fff;
    }

    button.primary:hover {
      background: var(--primary-hover);
      border-color: var(--primary-hover);
      color: #fff;
    }

    .option-group {
      margin-bottom: 16px;
    }

    .option-group label {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
      font-size: 0.95rem;
    }

    .option-group input[type="range"] {
      width: 100%;
      height: 8px;
      appearance: none;
      background: var(--border);
      border-radius: 4px;
      outline: none;
    }

    .option-group input[type="range"]::-webkit-slider-thumb {
      appearance: none;
      width: 18px;
      height: 18px;
      background: var(--primary);
      border-radius: 50%;
      cursor: pointer;
    }

    .checkbox-group {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-bottom: 20px;
    }

    @media (width <= 500px) {
      .checkbox-group {
        grid-template-columns: 1fr;
      }
    }

    .checkbox-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 10px 12px;
      background: var(--bg);
      border-radius: var(--radius);
      cursor: pointer;
    }

    .checkbox-item:hover {
      background: #e9ecef;
    }

    .checkbox-item input {
      width: 18px;
      height: 18px;
      cursor: pointer;
    }

    .checkbox-item span {
      font-size: 0.9rem;
    }

    .history {
      margin-top: 20px;
      padding-top: 20px;
      border-top: 1px solid var(--border);
    }

    .history h3 {
      font-size: 1rem;
      margin: 0 0 12px;
    }

    .history-list {
      max-height: 200px;
      overflow-y: auto;
    }

    .history-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 12px;
      background: var(--bg);
      border-radius: var(--radius);
      margin-bottom: 8px;
      font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, monospace;
      font-size: 0.85rem;
    }

    .history-item button {
      padding: 4px 8px;
      font-size: 0.8rem;
    }

    .status {
      font-size: 0.85rem;
      margin-top: 12px;
      min-height: 20px;
    }

    .status.success {
      color: var(--success);
    }

    footer {
      text-align: center;
      margin-top: 32px;
      padding-top: 16px;
      border-top: 1px solid var(--border);
      color: var(--text-muted);
      font-size: 0.85rem;
    }

    footer a {
      color: var(--primary);
      text-decoration: none;
    }

    footer a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <div class="container">
    <a href="../../index.html" class="back-link">â† è¿”å›å·¥å…·åˆ—è¡¨</a>
    <button class="theme-toggle" onclick="toggleTheme()" title="åˆ‡æ¢ä¸»é¢˜">â˜€ï¸</button>
    <h1>å¯†ç ç”Ÿæˆå™¨</h1>
    <p class="desc">ç”Ÿæˆå®‰å…¨çš„éšæœºå¯†ç ï¼Œæ”¯æŒè‡ªå®šä¹‰é•¿åº¦å’Œå­—ç¬¦ç±»å‹</p>

    <div class="card">
      <div class="password-display" id="password">ç‚¹å‡»ç”Ÿæˆå¯†ç </div>
      
      <div class="strength-bar">
        <div class="strength-fill" id="strengthFill"></div>
      </div>
      <div class="strength-text"><span>å¯†ç å¼ºåº¦: </span><span id="strengthLabel">-</span></div>

      <div class="btn-row">
        <button id="btnGenerate" class="primary">ç”Ÿæˆå¯†ç </button>
        <button id="btnCopy">å¤åˆ¶</button>
      </div>

      <div class="option-group">
        <label>
          <span>å¯†ç é•¿åº¦</span>
          <span id="lengthValue">16</span>
        </label>
        <input type="range" id="length" min="4" max="64" value="16" />
      </div>

      <div class="checkbox-group">
        <label class="checkbox-item">
          <input type="checkbox" id="uppercase" checked />
          <span>å¤§å†™å­—æ¯ (A-Z)</span>
        </label>
        <label class="checkbox-item">
          <input type="checkbox" id="lowercase" checked />
          <span>å°å†™å­—æ¯ (a-z)</span>
        </label>
        <label class="checkbox-item">
          <input type="checkbox" id="numbers" checked />
          <span>æ•°å­— (0-9)</span>
        </label>
        <label class="checkbox-item">
          <input type="checkbox" id="symbols" checked />
          <span>ç‰¹æ®Šç¬¦å· (!@#$...)</span>
        </label>
      </div>

      <div id="status" class="status"></div>

      <div class="history">
        <h3>å†å²è®°å½•</h3>
        <div class="history-list" id="historyList">
          <div style="color: var(--text-muted); font-size: 0.9rem;">æš‚æ— å†å²è®°å½•</div>
        </div>
      </div>
    </div>

    <footer>
      <a href="https://github.com/chicogong/html-tools" target="_blank" rel="noreferrer">View source</a>
      Â· çº¯å‰ç«¯å·¥å…· Â· æ— æœåŠ¡å™¨ Â· 
      <a href="../../index.html">WebUtils</a>
    </footer>
  </div>

  <script>
    const passwordEl = document.getElementById('password');
    const lengthSlider = document.getElementById('length');
    const lengthValue = document.getElementById('lengthValue');
    const uppercaseEl = document.getElementById('uppercase');
    const lowercaseEl = document.getElementById('lowercase');
    const numbersEl = document.getElementById('numbers');
    const symbolsEl = document.getElementById('symbols');
    const strengthFill = document.getElementById('strengthFill');
    const strengthLabel = document.getElementById('strengthLabel');
    const historyList = document.getElementById('historyList');
    const statusEl = document.getElementById('status');

    const CHARS = {
      uppercase: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
      lowercase: 'abcdefghijklmnopqrstuvwxyz',
      numbers: '0123456789',
      symbols: '!@#$%^&*()_+-=[]{}|;:,.<>?'
    };

    let history = [];

    function getCharset() {
      let charset = '';
      if (uppercaseEl.checked) charset += CHARS.uppercase;
      if (lowercaseEl.checked) charset += CHARS.lowercase;
      if (numbersEl.checked) charset += CHARS.numbers;
      if (symbolsEl.checked) charset += CHARS.symbols;
      return charset;
    }

    function generatePassword() {
      const charset = getCharset();
      if (!charset) {
        showStatus('è¯·è‡³å°‘é€‰æ‹©ä¸€ç§å­—ç¬¦ç±»å‹', 'error');
        return;
      }

      const length = parseInt(lengthSlider.value);
      let password = '';

      // ä½¿ç”¨ crypto API ç”Ÿæˆå®‰å…¨éšæœºæ•°
      const array = new Uint32Array(length);
      crypto.getRandomValues(array);

      for (let i = 0; i < length; i++) {
        password += charset[array[i] % charset.length];
      }

      // ç¡®ä¿åŒ…å«æ‰€æœ‰é€‰ä¸­çš„å­—ç¬¦ç±»å‹
      let requiredChars = [];
      if (uppercaseEl.checked) requiredChars.push(CHARS.uppercase[Math.floor(Math.random() * CHARS.uppercase.length)]);
      if (lowercaseEl.checked) requiredChars.push(CHARS.lowercase[Math.floor(Math.random() * CHARS.lowercase.length)]);
      if (numbersEl.checked) requiredChars.push(CHARS.numbers[Math.floor(Math.random() * CHARS.numbers.length)]);
      if (symbolsEl.checked) requiredChars.push(CHARS.symbols[Math.floor(Math.random() * CHARS.symbols.length)]);

      // æ›¿æ¢å¯†ç ä¸­çš„éšæœºä½ç½®
      for (let i = 0; i < requiredChars.length && i < length; i++) {
        const pos = Math.floor(Math.random() * length);
        password = password.substring(0, pos) + requiredChars[i] + password.substring(pos + 1);
      }

      passwordEl.textContent = password;
      updateStrength(password);
      addToHistory(password);
      showStatus('å¯†ç å·²ç”Ÿæˆ', 'success');
    }

    function calculateStrength(password) {
      let score = 0;
      
      // é•¿åº¦è¯„åˆ†
      if (password.length >= 8) score += 1;
      if (password.length >= 12) score += 1;
      if (password.length >= 16) score += 1;
      if (password.length >= 24) score += 1;

      // å­—ç¬¦ç±»å‹è¯„åˆ†
      if (/[a-z]/.test(password)) score += 1;
      if (/[A-Z]/.test(password)) score += 1;
      if (/[0-9]/.test(password)) score += 1;
      if (/[^a-zA-Z0-9]/.test(password)) score += 1;

      return Math.min(score, 8);
    }

    function updateStrength(password) {
      const score = calculateStrength(password);
      const percentage = (score / 8) * 100;

      let color, text;
      if (score <= 2) {
        color = '#dc3545';
        text = 'å¼±';
      } else if (score <= 4) {
        color = '#fd7e14';
        text = 'ä¸€èˆ¬';
      } else if (score <= 6) {
        color = '#ffc107';
        text = 'ä¸­ç­‰';
      } else {
        color = '#198754';
        text = 'å¼º';
      }

      strengthFill.style.width = percentage + '%';
      strengthFill.style.background = color;
      strengthLabel.textContent = text + ' (' + score + '/8)';
      strengthLabel.style.color = color;
    }

    function addToHistory(password) {
      history.unshift(password);
      if (history.length > 10) history.pop();
      renderHistory();
    }

    function renderHistory() {
      historyList.textContent = '';
      
      if (history.length === 0) {
        const emptyDiv = document.createElement('div');
        emptyDiv.style.color = 'var(--text-muted)';
        emptyDiv.style.fontSize = '0.9rem';
        emptyDiv.textContent = 'æš‚æ— å†å²è®°å½•';
        historyList.appendChild(emptyDiv);
        return;
      }

      history.forEach((pwd, i) => {
        const item = document.createElement('div');
        item.className = 'history-item';
        
        const span = document.createElement('span');
        span.textContent = pwd;
        
        const btn = document.createElement('button');
        btn.textContent = 'å¤åˆ¶';
        btn.onclick = () => copyHistoryItem(i);
        
        item.appendChild(span);
        item.appendChild(btn);
        historyList.appendChild(item);
      });
    }

    async function copyHistoryItem(index) {
      try {
        await navigator.clipboard.writeText(history[index]);
        showStatus('å·²å¤åˆ¶', 'success');
      } catch (e) {
        showStatus('å¤åˆ¶å¤±è´¥', 'error');
      }
    }

    function showStatus(msg, type) {
      statusEl.textContent = msg;
      statusEl.className = 'status ' + (type || '');
    }

    // äº‹ä»¶ç»‘å®š
    document.getElementById('btnGenerate').onclick = generatePassword;

    document.getElementById('btnCopy').onclick = async () => {
      const password = passwordEl.textContent;
      if (password === 'ç‚¹å‡»ç”Ÿæˆå¯†ç ') {
        showStatus('è¯·å…ˆç”Ÿæˆå¯†ç ', 'error');
        return;
      }
      try {
        await navigator.clipboard.writeText(password);
        showStatus('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿', 'success');
      } catch (e) {
        showStatus('å¤åˆ¶å¤±è´¥', 'error');
      }
    };

    lengthSlider.addEventListener('input', () => {
      lengthValue.textContent = lengthSlider.value;
    });

    // è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå¯†ç 
    generatePassword();

    function toggleTheme(){const html=document.documentElement;const btn=document.querySelector('.theme-toggle');const next=html.getAttribute('data-theme')==='dark'?'light':'dark';html.setAttribute('data-theme',next);btn.textContent=next==='dark'?'ğŸŒ™':'â˜€ï¸';localStorage.setItem('theme',next);}(function(){const saved=localStorage.getItem('theme');if(saved){document.documentElement.setAttribute('data-theme',saved);const btn=document.querySelector('.theme-toggle');if(btn)btn.textContent=saved==='dark'?'ğŸŒ™':'â˜€ï¸';}})();
  </script>
</body>
</html>
