<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>å® ç‰©å–‚é£Ÿé‡è®¡ç®—å™¨ - WebUtils</title>
  <meta name="description" content="æ ¹æ®å® ç‰©ä½“é‡ã€å¹´é¾„ã€æ´»åŠ¨é‡è®¡ç®—æ¯æ—¥å–‚é£Ÿé‡ï¼Œç§‘å­¦å–‚å…»æ›´å¥åº·" />
  <meta name="keywords" content="å® ç‰© å–‚é£Ÿ ç‹—ç²® çŒ«ç²® pet food calculator feeding" />
  <meta name="author" content="WebUtils" />
  <link rel="canonical" href="https://tools.realtime-ai.chat/tools/pets/pet-food-calc.html" />

  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&family=Space+Grotesk:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    :root{--bg-deep:#0a0a0f;--bg-surface:#12121a;--bg-card:#1a1a24;--text-primary:#e8e8ed;--text-secondary:#9898a4;--text-muted:#5c5c66;--accent-blue:#4d9fff;--accent-cyan:#00f5d4;--accent-orange:#ff9f43;--accent-brown:#c17f59;--border-subtle:#2a2a36;--radius-sm:6px;--radius-md:10px;--radius-lg:14px}
    [data-theme="light"]{--bg-deep:#fafafa;--bg-surface:#fff;--bg-card:#fff;--text-primary:#1a1a1a;--text-secondary:#666;--text-muted:#999;--border-subtle:#e5e5e5}
    *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
    body{font-family:'Space Grotesk',system-ui,sans-serif;background:var(--bg-deep);color:var(--text-primary);min-height:100vh;line-height:1.6}
    .bg-grid{position:fixed;inset:0;background-image:linear-gradient(rgba(77,159,255,.03) 1px,transparent 1px),linear-gradient(90deg,rgba(77,159,255,.03) 1px,transparent 1px);background-size:50px 50px;pointer-events:none;z-index:0}
    .container{position:relative;z-index:1;max-width:600px;margin:0 auto;padding:2rem 1.5rem}
    .theme-toggle{position:fixed;top:1rem;right:1rem;width:40px;height:40px;border-radius:50%;border:1px solid var(--border-subtle);background:var(--bg-card);cursor:pointer;font-size:1.2rem;z-index:100;transition:all .2s}
    .theme-toggle:hover{border-color:var(--accent-cyan);transform:scale(1.1)}
    .breadcrumb{display:flex;align-items:center;gap:8px;font-size:.85rem;padding:8px 14px;background:var(--bg-surface);border:1px solid var(--border-subtle);border-radius:var(--radius-sm);margin-bottom:1.5rem;flex-wrap:wrap}
    .breadcrumb a{color:var(--text-secondary);text-decoration:none}
    .breadcrumb a:hover{color:var(--accent-cyan)}
    .breadcrumb-separator{color:var(--text-muted)}
    .breadcrumb-current{color:var(--text-primary);font-weight:500}
    h1{font-size:2rem;font-weight:600;margin-bottom:.5rem;background:linear-gradient(135deg,var(--text-primary),var(--accent-brown));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
    .subtitle{color:var(--text-secondary);margin-bottom:2rem}
    .card{background:var(--bg-card);border:1px solid var(--border-subtle);border-radius:var(--radius-lg);padding:1.5rem;margin-bottom:1.5rem}
    .card-title{font-size:1rem;font-weight:500;color:var(--text-secondary);margin-bottom:1rem}
    .pet-selector{display:flex;gap:1rem;margin-bottom:1.5rem}
    .pet-btn{flex:1;padding:1.5rem;border:2px solid var(--border-subtle);border-radius:var(--radius-lg);background:var(--bg-surface);cursor:pointer;text-align:center;transition:all .2s}
    .pet-btn:hover{border-color:var(--accent-cyan)}
    .pet-btn.active{border-color:var(--accent-orange);background:rgba(255,159,67,.1)}
    .pet-icon{font-size:2.5rem;margin-bottom:.5rem}
    .pet-name{font-weight:500}
    .form-group{margin-bottom:1.25rem}
    .form-group label{display:block;font-size:.9rem;color:var(--text-secondary);margin-bottom:.5rem}
    .form-group input,.form-group select{width:100%;padding:.75rem;border:1px solid var(--border-subtle);border-radius:var(--radius-sm);background:var(--bg-surface);color:var(--text-primary);font-family:inherit;font-size:1rem}
    .form-group input:focus,.form-group select:focus{outline:none;border-color:var(--accent-blue)}
    .form-row{display:grid;grid-template-columns:1fr 1fr;gap:1rem}
    .result-card{background:linear-gradient(135deg,rgba(255,159,67,.1),rgba(193,127,89,.1));border:1px solid var(--accent-orange)}
    .result-main{text-align:center;padding:2rem 0}
    .result-icon{font-size:3rem;margin-bottom:.5rem}
    .result-value{font-family:'JetBrains Mono',monospace;font-size:3rem;font-weight:700;color:var(--accent-orange)}
    .result-unit{font-size:1.25rem;color:var(--text-secondary)}
    .result-label{font-size:.9rem;color:var(--text-muted);margin-top:.5rem}
    .schedule{margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid var(--border-subtle)}
    .schedule-title{font-size:.9rem;color:var(--text-secondary);margin-bottom:1rem;text-align:center}
    .schedule-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:.75rem}
    .schedule-item{padding:.75rem;background:var(--bg-surface);border-radius:var(--radius-sm);text-align:center}
    .schedule-time{font-size:.8rem;color:var(--text-muted);margin-bottom:.25rem}
    .schedule-amount{font-family:'JetBrains Mono',monospace;font-size:1.1rem;font-weight:600;color:var(--accent-cyan)}
    .tips{margin-top:1.5rem;padding:1rem;background:var(--bg-surface);border-radius:var(--radius-sm);border-left:3px solid var(--accent-orange)}
    .tips-title{font-weight:500;margin-bottom:.5rem;color:var(--accent-orange)}
    .tips-content{font-size:.9rem;color:var(--text-secondary);line-height:1.8}
    footer{margin-top:3rem;padding-top:1.5rem;border-top:1px solid var(--border-subtle);text-align:center;color:var(--text-muted);font-size:.85rem}
    footer a{color:var(--accent-blue);text-decoration:none}
  </style>
</head>
<body>
  <div class="bg-grid"></div>
  <div class="container">
    <button class="theme-toggle" onclick="toggleTheme()" title="åˆ‡æ¢ä¸»é¢˜">ğŸŒ™</button>

    <nav class="breadcrumb">
      <a href="../../index.html">é¦–é¡µ</a>
      <span class="breadcrumb-separator">/</span>
      <a href="../../index.html#pets">å® ç‰©å·¥å…·</a>
      <span class="breadcrumb-separator">/</span>
      <span class="breadcrumb-current">å® ç‰©å–‚é£Ÿé‡è®¡ç®—å™¨</span>
    </nav>

    <h1>å® ç‰©å–‚é£Ÿé‡è®¡ç®—å™¨</h1>
    <p class="subtitle">ç§‘å­¦è®¡ç®—æ¯æ—¥å–‚é£Ÿé‡ï¼Œå®ˆæŠ¤æ¯›å­©å¥åº·</p>

    <div class="card">
      <div class="card-title">ğŸ¾ é€‰æ‹©å® ç‰©ç±»å‹</div>
      <div class="pet-selector">
        <div class="pet-btn active" onclick="setPetType('dog')">
          <div class="pet-icon">ğŸ•</div>
          <div class="pet-name">ç‹—ç‹—</div>
        </div>
        <div class="pet-btn" onclick="setPetType('cat')">
          <div class="pet-icon">ğŸ±</div>
          <div class="pet-name">çŒ«å’ª</div>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="card-title">ğŸ“‹ å® ç‰©ä¿¡æ¯</div>
      <div class="form-row">
        <div class="form-group">
          <label>ä½“é‡ (kg)</label>
          <input type="number" id="weight" value="10" min="0.5" max="100" step="0.5" oninput="calculate()">
        </div>
        <div class="form-group">
          <label>å¹´é¾„é˜¶æ®µ</label>
          <select id="age" onchange="calculate()">
            <option value="puppy">å¹¼å¹´ (&lt; 1å²)</option>
            <option value="adult" selected>æˆå¹´ (1-7å²)</option>
            <option value="senior">è€å¹´ (&gt; 7å²)</option>
          </select>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>æ´»åŠ¨é‡</label>
          <select id="activity" onchange="calculate()">
            <option value="low">è¾ƒå°‘è¿åŠ¨ï¼ˆå®¤å†…ä¸ºä¸»ï¼‰</option>
            <option value="moderate" selected>é€‚ä¸­è¿åŠ¨ï¼ˆæ¯å¤©æ•£æ­¥ï¼‰</option>
            <option value="high">å¤§é‡è¿åŠ¨ï¼ˆå·¥ä½œçŠ¬/è¿åŠ¨çŠ¬ï¼‰</option>
          </select>
        </div>
        <div class="form-group">
          <label>ä½“å‹çŠ¶æ€</label>
          <select id="condition" onchange="calculate()">
            <option value="underweight">åç˜¦ï¼ˆéœ€å¢é‡ï¼‰</option>
            <option value="normal" selected>æ­£å¸¸</option>
            <option value="overweight">åèƒ–ï¼ˆéœ€å‡é‡ï¼‰</option>
          </select>
        </div>
      </div>
      <div class="form-group">
        <label>ç²®é£Ÿçƒ­é‡ (kcal/100g) - å‚è§åŒ…è£…è¯´æ˜</label>
        <input type="number" id="calories" value="350" min="200" max="500" step="10" oninput="calculate()">
      </div>
    </div>

    <div class="card result-card">
      <div class="card-title">ğŸ“Š å–‚é£Ÿå»ºè®®</div>
      <div class="result-main">
        <div class="result-icon" id="resultIcon">ğŸ½ï¸</div>
        <div class="result-value" id="dailyAmount">0</div>
        <div class="result-unit">å…‹/å¤©</div>
        <div class="result-label" id="caloriesNeeded">æ¯æ—¥æ‰€éœ€çƒ­é‡: 0 kcal</div>
      </div>

      <div class="schedule">
        <div class="schedule-title">å»ºè®®å–‚é£Ÿå®‰æ’</div>
        <div class="schedule-grid" id="scheduleGrid">
          <!-- Schedule will be rendered here -->
        </div>
      </div>
    </div>

    <div class="tips">
      <div class="tips-title">ğŸ’¡ å–‚å…»å»ºè®®</div>
      <div class="tips-content" id="tips">
        è®¡ç®—åæ˜¾ç¤ºå–‚å…»å»ºè®®...
      </div>
    </div>

    <footer>
      <a href="https://github.com/nicexe/html-tools" target="_blank">GitHub</a>
      <p style="margin-top:.5rem;font-size:.75rem">
        * æœ¬å·¥å…·ä»…ä¾›å‚è€ƒï¼Œå…·ä½“å–‚é£Ÿé‡è¯·å‚è€ƒå® ç‰©ç²®åŒ…è£…è¯´æ˜æˆ–å’¨è¯¢å…½åŒ»
      </p>
    </footer>
  </div>

  <script>
    let petType = 'dog';

    // RER (Resting Energy Requirement) = 70 Ã— (body weight in kg)^0.75
    // DER (Daily Energy Requirement) = RER Ã— activity factor

    const factors = {
      dog: {
        puppy: { low: 2.0, moderate: 2.5, high: 3.0 },
        adult: { low: 1.4, moderate: 1.6, high: 2.0 },
        senior: { low: 1.2, moderate: 1.4, high: 1.6 }
      },
      cat: {
        puppy: { low: 2.0, moderate: 2.5, high: 3.0 },
        adult: { low: 1.2, moderate: 1.4, high: 1.6 },
        senior: { low: 1.0, moderate: 1.2, high: 1.4 }
      }
    };

    const conditionFactors = {
      underweight: 1.2,
      normal: 1.0,
      overweight: 0.8
    };

    function setPetType(type) {
      petType = type;
      document.querySelectorAll('.pet-btn').forEach(btn => btn.classList.remove('active'));
      document.querySelector(`.pet-btn:nth-child(${type === 'dog' ? 1 : 2})`).classList.add('active');
      calculate();
    }

    function calculate() {
      const weight = parseFloat(document.getElementById('weight').value) || 5;
      const age = document.getElementById('age').value;
      const activity = document.getElementById('activity').value;
      const condition = document.getElementById('condition').value;
      const calories = parseFloat(document.getElementById('calories').value) || 350;

      // Calculate RER
      const rer = 70 * Math.pow(weight, 0.75);

      // Get activity factor
      const activityFactor = factors[petType][age][activity];

      // Get condition factor
      const conditionFactor = conditionFactors[condition];

      // Calculate DER
      const der = rer * activityFactor * conditionFactor;

      // Calculate daily food amount
      const dailyAmount = Math.round(der / calories * 100);

      // Update display
      document.getElementById('dailyAmount').textContent = dailyAmount;
      document.getElementById('caloriesNeeded').textContent = `æ¯æ—¥æ‰€éœ€çƒ­é‡: ${Math.round(der)} kcal`;
      document.getElementById('resultIcon').textContent = petType === 'dog' ? 'ğŸ•' : 'ğŸ±';

      // Update schedule
      renderSchedule(dailyAmount, age);

      // Update tips
      generateTips(weight, age, activity, condition, dailyAmount);
    }

    function renderSchedule(dailyAmount, age) {
      const grid = document.getElementById('scheduleGrid');

      if (age === 'puppy') {
        // 3 meals for puppies
        const perMeal = Math.round(dailyAmount / 3);
        grid.innerHTML = `
          <div class="schedule-item">
            <div class="schedule-time">æ—©é¤ 7:00</div>
            <div class="schedule-amount">${perMeal}g</div>
          </div>
          <div class="schedule-item">
            <div class="schedule-time">åˆé¤ 12:00</div>
            <div class="schedule-amount">${perMeal}g</div>
          </div>
          <div class="schedule-item">
            <div class="schedule-time">æ™šé¤ 18:00</div>
            <div class="schedule-amount">${perMeal}g</div>
          </div>
        `;
      } else {
        // 2 meals for adults and seniors
        const perMeal = Math.round(dailyAmount / 2);
        grid.innerHTML = `
          <div class="schedule-item">
            <div class="schedule-time">æ—©é¤ 8:00</div>
            <div class="schedule-amount">${perMeal}g</div>
          </div>
          <div class="schedule-item" style="grid-column:span 2">
            <div class="schedule-time">æ™šé¤ 18:00</div>
            <div class="schedule-amount">${perMeal}g</div>
          </div>
        `;
      }
    }

    function generateTips(weight, age, activity, condition, amount) {
      const tips = [];
      const icon = petType === 'dog' ? 'ğŸ•' : 'ğŸ±';

      if (age === 'puppy') {
        tips.push(`${icon} å¹¼å¹´æœŸå»ºè®®åˆ†3é¤å–‚é£Ÿï¼Œå°‘é‡å¤šé¤æ›´æ˜“æ¶ˆåŒ–`);
        tips.push('ğŸ“ˆ å¹¼å¹´æœŸæ˜¯å‘è‚²å…³é”®æœŸï¼Œå¯é€‚å½“å¢åŠ è›‹ç™½è´¨æ‘„å…¥');
      } else if (age === 'senior') {
        tips.push(`${icon} è€å¹´æœŸä»£è°¢å‡æ…¢ï¼Œæ³¨æ„æ§åˆ¶ä½“é‡`);
        tips.push('ğŸ¥ å»ºè®®å®šæœŸä½“æ£€ï¼Œå…³æ³¨å…³èŠ‚å’Œè‚¾è„å¥åº·');
      }

      if (condition === 'overweight') {
        tips.push('âš–ï¸ å‡é‡æœŸé—´å»ºè®®å¢åŠ è¿åŠ¨ï¼Œç¼“æ…¢å‡å°‘é£Ÿé‡');
        tips.push('ğŸ¥— å¯é€‰æ‹©ä½è„‚é…æ–¹ç²®é£Ÿ');
      } else if (condition === 'underweight') {
        tips.push('ğŸ’ª å¢é‡æœŸé—´å¯é€‚å½“å¢åŠ å–‚é£Ÿæ¬¡æ•°');
        tips.push('ğŸ¥© é€‰æ‹©é«˜è›‹ç™½é«˜çƒ­é‡çš„ä¼˜è´¨ç²®é£Ÿ');
      }

      if (activity === 'high') {
        tips.push('ğŸƒ è¿åŠ¨é‡å¤§çš„å® ç‰©éœ€è¦æ›´å¤šè›‹ç™½è´¨å’Œèƒ½é‡');
      }

      tips.push('ğŸ’§ ä¿è¯å……è¶³çš„æ¸…æ´é¥®æ°´');
      tips.push('â° å›ºå®šå–‚é£Ÿæ—¶é—´æœ‰åŠ©äºæ¶ˆåŒ–è§„å¾‹');

      document.getElementById('tips').innerHTML = tips.join('<br>');
    }

    // Initialize
    calculate();

    window.toggleTheme = function() {
      const html = document.documentElement;
      const btn = document.querySelector('.theme-toggle');
      const current = html.getAttribute('data-theme');
      const next = current === 'light' ? 'dark' : 'light';
      html.setAttribute('data-theme', next);
      btn.textContent = next === 'light' ? 'â˜€ï¸' : 'ğŸŒ™';
      localStorage.setItem('theme', next);
    };

    (function() {
      const saved = localStorage.getItem('theme');
      if (saved) {
        document.documentElement.setAttribute('data-theme', saved);
        document.querySelector('.theme-toggle').textContent = saved === 'light' ? 'â˜€ï¸' : 'ğŸŒ™';
      }
    })();
  </script>
</body>
</html>
