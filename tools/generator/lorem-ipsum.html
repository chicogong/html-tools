<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lorem Ipsum ç”Ÿæˆå™¨ - åœ¨çº¿å·¥å…·</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ“œ</text></svg>">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">
    <style>
        :root { --primary-color: #8b5cf6; }
        [data-theme="dark"] { --primary-color: #a78bfa; }
        body { padding: 1rem; min-height: 100vh; }
        .container { max-width: 900px; margin: 0 auto; }
        header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; flex-wrap: wrap; gap: 1rem; }
        header h1 { margin: 0; font-size: 1.75rem; display: flex; align-items: center; gap: 0.5rem; }
        .header-actions { display: flex; gap: 0.5rem; align-items: center; }
        .theme-toggle { cursor: pointer; background: var(--primary-color); border: none; padding: 0.5rem 1rem; border-radius: 8px; color: white; font-size: 1rem; }
        .back-link { color: var(--primary-color); text-decoration: none; padding: 0.5rem 1rem; border-radius: 8px; border: 1px solid var(--primary-color); font-size: 0.9rem; }
        .options-section { background: var(--card-background-color); border-radius: 12px; padding: 1.5rem; margin-bottom: 1.5rem; }
        .options-section h3 { margin: 0 0 1rem 0; font-size: 1rem; }
        .options-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; }
        .option-group label { display: block; font-size: 0.85rem; margin-bottom: 0.25rem; color: var(--muted-color); }
        .language-tabs { display: flex; gap: 0.5rem; margin-bottom: 1rem; flex-wrap: wrap; }
        .language-tabs button { padding: 0.5rem 1rem; font-size: 0.85rem; border-radius: 8px; border: 1px solid var(--muted-border-color); background: var(--card-background-color); cursor: pointer; }
        .language-tabs button.active { background: var(--primary-color); color: white; border-color: var(--primary-color); }
        .checkbox-options { display: flex; flex-wrap: wrap; gap: 1rem; margin-top: 1rem; }
        .checkbox-options label { display: flex; align-items: center; gap: 0.5rem; font-size: 0.9rem; cursor: pointer; }
        .checkbox-options input { margin: 0; }
        .generate-btn { width: 100%; margin-top: 1rem; }
        .output-section { background: var(--card-background-color); border-radius: 12px; padding: 1.5rem; }
        .output-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; flex-wrap: wrap; gap: 0.5rem; }
        .output-header h3 { margin: 0; font-size: 1rem; }
        .output-actions { display: flex; gap: 0.5rem; }
        .output-actions button { font-size: 0.8rem; padding: 0.4rem 0.8rem; }
        .output-content { background: var(--code-background-color); border-radius: 8px; padding: 1rem; min-height: 200px; max-height: 500px; overflow-y: auto; line-height: 1.8; white-space: pre-wrap; font-size: 0.95rem; }
        .output-content p { margin: 0 0 1rem 0; }
        .output-content p:last-child { margin-bottom: 0; }
        .output-content ul, .output-content ol { margin: 0 0 1rem 0; padding-left: 1.5rem; }
        .output-content h1, .output-content h2, .output-content h3 { margin: 0 0 0.5rem 0; }
        .stats { display: flex; gap: 1.5rem; margin-top: 1rem; font-size: 0.85rem; color: var(--muted-color); }
        .presets { display: flex; flex-wrap: wrap; gap: 0.5rem; margin-top: 1rem; }
        .presets button { font-size: 0.75rem; padding: 0.25rem 0.5rem; background: var(--code-background-color); border: 1px solid var(--muted-border-color); border-radius: 4px; cursor: pointer; }
        .presets button:hover { background: var(--primary-color); color: white; }
        .toast { position: fixed; bottom: 20px; right: 20px; padding: 1rem 1.5rem; background: #10b981; color: white; border-radius: 8px; font-weight: 500; z-index: 1000; transform: translateY(100px); opacity: 0; transition: all 0.3s; }
        .toast.show { transform: translateY(0); opacity: 1; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ“œ Lorem Ipsum ç”Ÿæˆå™¨</h1>
            <div class="header-actions">
                <a href="/" class="back-link">â† è¿”å›é¦–é¡µ</a>
                <button class="theme-toggle" onclick="toggleTheme()">ğŸŒ“</button>
            </div>
        </header>

        <div class="options-section">
            <h3>ç”Ÿæˆé€‰é¡¹</h3>
            
            <div class="language-tabs">
                <button class="active" onclick="setLanguage('latin')">æ‹‰ä¸æ–‡ (Lorem)</button>
                <button onclick="setLanguage('chinese')">ä¸­æ–‡å‡æ–‡</button>
                <button onclick="setLanguage('english')">è‹±æ–‡éšæœº</button>
                <button onclick="setLanguage('mixed')">ä¸­è‹±æ··åˆ</button>
            </div>

            <div class="options-grid">
                <div class="option-group">
                    <label>ç”Ÿæˆç±»å‹</label>
                    <select id="type" onchange="updatePreview()">
                        <option value="paragraphs">æ®µè½</option>
                        <option value="sentences">å¥å­</option>
                        <option value="words">å•è¯/è¯è¯­</option>
                        <option value="list">åˆ—è¡¨</option>
                    </select>
                </div>
                <div class="option-group">
                    <label>æ•°é‡</label>
                    <input type="number" id="count" value="3" min="1" max="100" onchange="updatePreview()">
                </div>
                <div class="option-group">
                    <label>æ¯æ®µå¥æ•° (æ®µè½æ¨¡å¼)</label>
                    <input type="number" id="sentencesPerPara" value="5" min="1" max="20" onchange="updatePreview()">
                </div>
                <div class="option-group">
                    <label>æ ¼å¼</label>
                    <select id="format" onchange="updatePreview()">
                        <option value="plain">çº¯æ–‡æœ¬</option>
                        <option value="html">HTML</option>
                        <option value="markdown">Markdown</option>
                    </select>
                </div>
            </div>

            <div class="checkbox-options">
                <label><input type="checkbox" id="startWithLorem" checked onchange="updatePreview()"> ä»¥ "Lorem ipsum" å¼€å¤´</label>
                <label><input type="checkbox" id="includeHeadings" onchange="updatePreview()"> åŒ…å«æ ‡é¢˜</label>
                <label><input type="checkbox" id="randomLength" onchange="updatePreview()"> éšæœºé•¿åº¦</label>
            </div>

            <div class="presets">
                <span style="color: var(--muted-color); font-size: 0.8rem;">å¿«é€Ÿé€‰æ‹©:</span>
                <button onclick="setPreset(1, 'paragraphs')">1 æ®µ</button>
                <button onclick="setPreset(3, 'paragraphs')">3 æ®µ</button>
                <button onclick="setPreset(5, 'paragraphs')">5 æ®µ</button>
                <button onclick="setPreset(10, 'sentences')">10 å¥</button>
                <button onclick="setPreset(50, 'words')">50 è¯</button>
                <button onclick="setPreset(100, 'words')">100 è¯</button>
            </div>

            <button class="generate-btn" onclick="generate()">ç”Ÿæˆ</button>
        </div>

        <div class="output-section">
            <div class="output-header">
                <h3>ç”Ÿæˆç»“æœ</h3>
                <div class="output-actions">
                    <button onclick="copyOutput()" class="secondary outline">å¤åˆ¶</button>
                    <button onclick="downloadOutput()" class="secondary outline">ä¸‹è½½</button>
                    <button onclick="generate()">é‡æ–°ç”Ÿæˆ</button>
                </div>
            </div>
            <div class="output-content" id="output"></div>
            <div class="stats" id="stats"></div>
        </div>
    </div>

    <div class="toast" id="toast"></div>

    <script>
        // Lorem ipsum words
        const loremWords = [
            'lorem', 'ipsum', 'dolor', 'sit', 'amet', 'consectetur', 'adipiscing', 'elit',
            'sed', 'do', 'eiusmod', 'tempor', 'incididunt', 'ut', 'labore', 'et', 'dolore',
            'magna', 'aliqua', 'enim', 'ad', 'minim', 'veniam', 'quis', 'nostrud',
            'exercitation', 'ullamco', 'laboris', 'nisi', 'aliquip', 'ex', 'ea', 'commodo',
            'consequat', 'duis', 'aute', 'irure', 'in', 'reprehenderit', 'voluptate',
            'velit', 'esse', 'cillum', 'fugiat', 'nulla', 'pariatur', 'excepteur', 'sint',
            'occaecat', 'cupidatat', 'non', 'proident', 'sunt', 'culpa', 'qui', 'officia',
            'deserunt', 'mollit', 'anim', 'id', 'est', 'laborum', 'perspiciatis', 'unde',
            'omnis', 'iste', 'natus', 'error', 'voluptatem', 'accusantium', 'doloremque',
            'laudantium', 'totam', 'rem', 'aperiam', 'eaque', 'ipsa', 'quae', 'ab', 'illo',
            'inventore', 'veritatis', 'quasi', 'architecto', 'beatae', 'vitae', 'dicta'
        ];

        const chineseWords = [
            'å¤©åœ°', 'ç„é»„', 'å®‡å®™', 'æ´ªè’', 'æ—¥æœˆ', 'ç›ˆæ˜ƒ', 'è¾°å®¿', 'åˆ—å¼ ', 'å¯’æ¥', 'æš‘å¾€',
            'ç§‹æ”¶', 'å†¬è—', 'é—°ä½™', 'æˆå²', 'å¾‹å•', 'è°ƒé˜³', 'äº‘è…¾', 'è‡´é›¨', 'éœ²ç»“', 'ä¸ºéœœ',
            'é‡‘ç”Ÿ', 'ä¸½æ°´', 'ç‰å‡º', 'æ˜†å†ˆ', 'å‰‘å·', 'å·¨é˜™', 'ç ç§°', 'å¤œå…‰', 'æœç', 'ææŸ°',
            'èœé‡', 'èŠ¥å§œ', 'æµ·å’¸', 'æ²³æ·¡', 'é³æ½œ', 'ç¾½ç¿”', 'é¾™å¸ˆ', 'ç«å¸', 'é¸Ÿå®˜', 'äººçš‡',
            'å§‹åˆ¶', 'æ–‡å­—', 'ä¹ƒæœ', 'è¡£è£³', 'æ¨ä½', 'è®©å›½', 'æœ‰è™', 'é™¶å”', 'åŠæ°‘', 'ä¼ç½ª',
            'å‘¨å‘', 'æ®·æ±¤', 'åæœ', 'é—®é“', 'å‚æ‹±', 'å¹³ç« ', 'çˆ±è‚²', 'é»é¦–', 'è‡£ä¼', 'æˆç¾Œ'
        ];

        const englishWords = [
            'the', 'be', 'to', 'of', 'and', 'a', 'in', 'that', 'have', 'it', 'for', 'not',
            'on', 'with', 'he', 'as', 'you', 'do', 'at', 'this', 'but', 'his', 'by', 'from',
            'they', 'we', 'say', 'her', 'she', 'or', 'an', 'will', 'my', 'one', 'all', 'would',
            'there', 'their', 'what', 'so', 'up', 'out', 'if', 'about', 'who', 'get', 'which',
            'go', 'me', 'when', 'make', 'can', 'like', 'time', 'no', 'just', 'him', 'know',
            'take', 'people', 'into', 'year', 'your', 'good', 'some', 'could', 'them', 'see',
            'other', 'than', 'then', 'now', 'look', 'only', 'come', 'its', 'over', 'think'
        ];

        let currentLanguage = 'latin';

        function toggleTheme() {
            const html = document.documentElement;
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            html.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
        }

        (function() {
            const savedTheme = localStorage.getItem('theme') || 
                (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
            document.documentElement.setAttribute('data-theme', savedTheme);
        })();

        function setLanguage(lang) {
            currentLanguage = lang;
            document.querySelectorAll('.language-tabs button').forEach(btn => btn.classList.remove('active'));
            document.querySelector(`.language-tabs button[onclick="setLanguage('${lang}')"]`).classList.add('active');
            generate();
        }

        function setPreset(count, type) {
            document.getElementById('count').value = count;
            document.getElementById('type').value = type;
            generate();
        }

        function getWords() {
            switch (currentLanguage) {
                case 'latin': return loremWords;
                case 'chinese': return chineseWords;
                case 'english': return englishWords;
                case 'mixed': return [...chineseWords, ...englishWords];
                default: return loremWords;
            }
        }

        function randomWord(words) {
            return words[Math.floor(Math.random() * words.length)];
        }

        function capitalize(str) {
            return str.charAt(0).toUpperCase() + str.slice(1);
        }

        function generateSentence(words, minWords = 5, maxWords = 15) {
            const randomLength = document.getElementById('randomLength').checked;
            const length = randomLength 
                ? Math.floor(Math.random() * (maxWords - minWords + 1)) + minWords
                : Math.floor((minWords + maxWords) / 2);
            
            let sentence = [];
            for (let i = 0; i < length; i++) {
                sentence.push(randomWord(words));
            }
            
            if (currentLanguage === 'chinese' || currentLanguage === 'mixed') {
                return sentence.join('') + 'ã€‚';
            }
            return capitalize(sentence.join(' ')) + '.';
        }

        function generateParagraph(words, sentenceCount) {
            const sentences = [];
            for (let i = 0; i < sentenceCount; i++) {
                sentences.push(generateSentence(words));
            }
            return sentences.join(' ');
        }

        function generate() {
            const type = document.getElementById('type').value;
            const count = parseInt(document.getElementById('count').value);
            const sentencesPerPara = parseInt(document.getElementById('sentencesPerPara').value);
            const format = document.getElementById('format').value;
            const startWithLorem = document.getElementById('startWithLorem').checked;
            const includeHeadings = document.getElementById('includeHeadings').checked;
            
            const words = getWords();
            let result = [];
            let wordCount = 0;
            let sentenceCount = 0;

            switch (type) {
                case 'paragraphs':
                    for (let i = 0; i < count; i++) {
                        if (includeHeadings && i > 0 && i % 2 === 0) {
                            const heading = generateSentence(words, 3, 6).replace(/[ã€‚.]/g, '');
                            result.push({ type: 'heading', content: heading });
                        }
                        let para = generateParagraph(words, sentencesPerPara);
                        if (i === 0 && startWithLorem && currentLanguage === 'latin') {
                            para = 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. ' + para;
                        }
                        result.push({ type: 'paragraph', content: para });
                        wordCount += para.split(/\s+/).length;
                        sentenceCount += sentencesPerPara;
                    }
                    break;
                case 'sentences':
                    for (let i = 0; i < count; i++) {
                        let sentence = generateSentence(words);
                        if (i === 0 && startWithLorem && currentLanguage === 'latin') {
                            sentence = 'Lorem ipsum dolor sit amet.';
                        }
                        result.push({ type: 'sentence', content: sentence });
                    }
                    wordCount = result.reduce((sum, s) => sum + s.content.split(/\s+/).length, 0);
                    sentenceCount = count;
                    break;
                case 'words':
                    const wordList = [];
                    if (startWithLorem && currentLanguage === 'latin') {
                        wordList.push('Lorem', 'ipsum');
                    }
                    while (wordList.length < count) {
                        wordList.push(randomWord(words));
                    }
                    result.push({ type: 'words', content: wordList.slice(0, count).join(currentLanguage === 'chinese' ? '' : ' ') });
                    wordCount = count;
                    break;
                case 'list':
                    for (let i = 0; i < count; i++) {
                        result.push({ type: 'listItem', content: generateSentence(words, 4, 10) });
                    }
                    wordCount = result.reduce((sum, s) => sum + s.content.split(/\s+/).length, 0);
                    sentenceCount = count;
                    break;
            }

            displayOutput(result, format);
            updateStats(wordCount, sentenceCount, result.length);
        }

        function displayOutput(result, format) {
            const output = document.getElementById('output');
            let html = '';

            result.forEach(item => {
                switch (format) {
                    case 'html':
                        if (item.type === 'heading') html += `<h2>${item.content}</h2>\n`;
                        else if (item.type === 'paragraph') html += `<p>${item.content}</p>\n`;
                        else if (item.type === 'sentence') html += `${item.content} `;
                        else if (item.type === 'words') html += item.content;
                        else if (item.type === 'listItem') html += `<li>${item.content}</li>\n`;
                        break;
                    case 'markdown':
                        if (item.type === 'heading') html += `## ${item.content}\n\n`;
                        else if (item.type === 'paragraph') html += `${item.content}\n\n`;
                        else if (item.type === 'sentence') html += `${item.content} `;
                        else if (item.type === 'words') html += item.content;
                        else if (item.type === 'listItem') html += `- ${item.content}\n`;
                        break;
                    default:
                        if (item.type === 'heading') html += `${item.content}\n\n`;
                        else if (item.type === 'paragraph') html += `${item.content}\n\n`;
                        else if (item.type === 'sentence') html += `${item.content} `;
                        else if (item.type === 'words') html += item.content;
                        else if (item.type === 'listItem') html += `â€¢ ${item.content}\n`;
                }
            });

            // Wrap list items
            if (result.some(r => r.type === 'listItem') && format === 'html') {
                html = `<ul>\n${html}</ul>`;
            }

            output.textContent = html.trim();
        }

        function updateStats(words, sentences, paragraphs) {
            const output = document.getElementById('output').textContent;
            const chars = output.length;
            document.getElementById('stats').innerHTML = `
                <span>å­—ç¬¦: ${chars}</span>
                <span>å•è¯/è¯è¯­: ~${words}</span>
                <span>å¥å­: ${sentences}</span>
            `;
        }

        function copyOutput() {
            const output = document.getElementById('output').textContent;
            navigator.clipboard.writeText(output);
            showToast('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
        }

        function downloadOutput() {
            const output = document.getElementById('output').textContent;
            const format = document.getElementById('format').value;
            const ext = format === 'markdown' ? 'md' : format === 'html' ? 'html' : 'txt';
            
            const blob = new Blob([output], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `lorem-ipsum.${ext}`;
            a.click();
            URL.revokeObjectURL(url);
        }

        function updatePreview() {
            // Debounce
            clearTimeout(window.previewTimeout);
            window.previewTimeout = setTimeout(generate, 300);
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2000);
        }

        // Init
        generate();
    </script>
</body>
</html>
