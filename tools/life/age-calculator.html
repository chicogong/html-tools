<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¹´é¾„è®¡ç®—å™¨</title>
    <style>
        :root {
            --bg-color: #f5f5f5;
            --card-bg: #fff;
            --text-color: #333;
            --border-color: #e0e0e0;
            --primary-color: #ff7043;
            --primary-hover: #f4511e;
            --shadow: 0 2px 12px rgba(0,0,0,0.1);
        }
        @media (prefers-color-scheme: dark) {
            :root {
                --bg-color: #1a1a1a;
                --card-bg: #2d2d2d;
                --text-color: #e0e0e0;
                --border-color: #444;
                --shadow: 0 2px 12px rgba(0,0,0,0.3);
            }
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: var(--bg-color);
            color: var(--text-color);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            margin-bottom: 8px;
            font-size: 24px;
        }
        .subtitle {
            text-align: center;
            color: #888;
            margin-bottom: 24px;
            font-size: 14px;
        }
        .card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 24px;
            box-shadow: var(--shadow);
            margin-bottom: 20px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            font-weight: 500;
        }
        .date-input {
            width: 100%;
            padding: 14px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            background: var(--bg-color);
            color: var(--text-color);
            font-size: 16px;
            transition: border-color 0.3s;
        }
        .date-input:focus {
            outline: none;
            border-color: var(--primary-color);
        }
        .time-input-row {
            display: flex;
            gap: 12px;
            margin-top: 12px;
        }
        .time-input-row input {
            flex: 1;
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background: var(--bg-color);
            color: var(--text-color);
            font-size: 14px;
            text-align: center;
        }
        .btn {
            width: 100%;
            padding: 14px;
            border: none;
            border-radius: 8px;
            background: var(--primary-color);
            color: white;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s;
        }
        .btn:hover {
            background: var(--primary-hover);
        }
        .result-hero {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-hover));
            border-radius: 16px;
            padding: 32px;
            text-align: center;
            color: white;
            margin-bottom: 24px;
        }
        .age-main {
            font-size: 72px;
            font-weight: 700;
            line-height: 1;
        }
        .age-unit {
            font-size: 24px;
            opacity: 0.9;
            margin-top: 8px;
        }
        .age-detail {
            font-size: 18px;
            opacity: 0.9;
            margin-top: 16px;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
        }
        .stat-item {
            background: var(--bg-color);
            border-radius: 12px;
            padding: 16px;
            text-align: center;
        }
        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-color);
        }
        .stat-label {
            font-size: 12px;
            color: #888;
            margin-top: 4px;
        }
        .section-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .milestone-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        .milestone-item {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px;
            background: var(--bg-color);
            border-radius: 10px;
        }
        .milestone-icon {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: var(--primary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }
        .milestone-content {
            flex: 1;
        }
        .milestone-title {
            font-weight: 600;
            margin-bottom: 4px;
        }
        .milestone-date {
            font-size: 13px;
            color: #888;
        }
        .milestone-status {
            font-size: 12px;
            padding: 4px 10px;
            border-radius: 12px;
        }
        .milestone-status.passed {
            background: #e8f5e9;
            color: #2e7d32;
        }
        .milestone-status.upcoming {
            background: #fff3e0;
            color: #e65100;
        }
        .zodiac-section {
            display: flex;
            gap: 16px;
            margin-top: 24px;
        }
        .zodiac-item {
            flex: 1;
            background: var(--bg-color);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }
        .zodiac-icon {
            font-size: 40px;
            margin-bottom: 8px;
        }
        .zodiac-name {
            font-weight: 600;
            margin-bottom: 4px;
        }
        .zodiac-date {
            font-size: 12px;
            color: #888;
        }
        .fun-facts {
            margin-top: 24px;
        }
        .fact-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }
        .fact-item {
            padding: 16px;
            background: var(--bg-color);
            border-radius: 10px;
        }
        .fact-value {
            font-size: 20px;
            font-weight: 700;
            color: var(--primary-color);
        }
        .fact-label {
            font-size: 13px;
            color: #888;
            margin-top: 4px;
        }
        .countdown-section {
            margin-top: 24px;
            padding: 20px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 12px;
            color: white;
            text-align: center;
        }
        .countdown-title {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 12px;
        }
        .countdown-value {
            font-size: 32px;
            font-weight: 700;
        }
        .countdown-unit {
            font-size: 14px;
            opacity: 0.9;
        }
        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .zodiac-section {
                flex-direction: column;
            }
            .fact-grid {
                grid-template-columns: 1fr;
            }
            .age-main {
                font-size: 56px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ‚ å¹´é¾„è®¡ç®—å™¨</h1>
        <p class="subtitle">ç²¾ç¡®è®¡ç®—æ‚¨çš„å¹´é¾„ï¼ŒæŸ¥çœ‹ç”Ÿæ—¥å€’è®¡æ—¶å’Œç”Ÿå‘½ç»Ÿè®¡</p>

        <div class="card">
            <div class="form-group">
                <label>å‡ºç”Ÿæ—¥æœŸ</label>
                <input type="date" class="date-input" id="birthDate" onchange="calculate()">
            </div>
            <div class="form-group">
                <label>å‡ºç”Ÿæ—¶é—´ (å¯é€‰ï¼Œæ›´ç²¾ç¡®)</label>
                <div class="time-input-row">
                    <input type="number" id="birthHour" placeholder="æ—¶" min="0" max="23" onchange="calculate()">
                    <input type="number" id="birthMinute" placeholder="åˆ†" min="0" max="59" onchange="calculate()">
                    <input type="number" id="birthSecond" placeholder="ç§’" min="0" max="59" onchange="calculate()">
                </div>
            </div>
            <button class="btn" onclick="calculate()">è®¡ç®—å¹´é¾„</button>
        </div>

        <div id="resultSection" style="display: none;">
            <div class="result-hero">
                <div class="age-main" id="ageYears">0</div>
                <div class="age-unit">å²</div>
                <div class="age-detail" id="ageDetail">0æœˆ 0å¤© 0æ—¶ 0åˆ† 0ç§’</div>
            </div>

            <div class="card">
                <div class="section-title">ğŸ“Š ç”Ÿå‘½ç»Ÿè®¡</div>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-value" id="totalMonths">0</div>
                        <div class="stat-label">æ€»æœˆæ•°</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="totalWeeks">0</div>
                        <div class="stat-label">æ€»å‘¨æ•°</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="totalDays">0</div>
                        <div class="stat-label">æ€»å¤©æ•°</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="totalHours">0</div>
                        <div class="stat-label">æ€»å°æ—¶</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="totalMinutes">0</div>
                        <div class="stat-label">æ€»åˆ†é’Ÿ</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="totalSeconds">0</div>
                        <div class="stat-label">æ€»ç§’æ•°</div>
                    </div>
                </div>

                <div class="zodiac-section">
                    <div class="zodiac-item">
                        <div class="zodiac-icon" id="zodiacIcon">ğŸ²</div>
                        <div class="zodiac-name" id="zodiacName">é¾™</div>
                        <div class="zodiac-date">ç”Ÿè‚–</div>
                    </div>
                    <div class="zodiac-item">
                        <div class="zodiac-icon" id="starIcon">â™ˆ</div>
                        <div class="zodiac-name" id="starName">ç™½ç¾Šåº§</div>
                        <div class="zodiac-date" id="starDate">3.21-4.19</div>
                    </div>
                </div>

                <div class="countdown-section">
                    <div class="countdown-title">è·ç¦»ä¸‹ä¸€ä¸ªç”Ÿæ—¥è¿˜æœ‰</div>
                    <div class="countdown-value" id="nextBirthdayDays">0</div>
                    <div class="countdown-unit">å¤©</div>
                </div>
            </div>

            <div class="card fun-facts">
                <div class="section-title">ğŸ‰ è¶£å‘³æ•°æ®</div>
                <div class="fact-grid">
                    <div class="fact-item">
                        <div class="fact-value" id="heartbeats">0</div>
                        <div class="fact-label">å¿ƒè·³æ¬¡æ•° (çº¦)</div>
                    </div>
                    <div class="fact-item">
                        <div class="fact-value" id="breaths">0</div>
                        <div class="fact-label">å‘¼å¸æ¬¡æ•° (çº¦)</div>
                    </div>
                    <div class="fact-item">
                        <div class="fact-value" id="sleepDays">0</div>
                        <div class="fact-label">ç¡çœ å¤©æ•° (çº¦)</div>
                    </div>
                    <div class="fact-item">
                        <div class="fact-value" id="meals">0</div>
                        <div class="fact-label">ç”¨é¤æ¬¡æ•° (çº¦)</div>
                    </div>
                    <div class="fact-item">
                        <div class="fact-value" id="birthWeekday">-</div>
                        <div class="fact-label">å‡ºç”Ÿæ˜ŸæœŸ</div>
                    </div>
                    <div class="fact-item">
                        <div class="fact-value" id="dayOfYear">-</div>
                        <div class="fact-label">å¹´ä¸­ç¬¬å‡ å¤©</div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="section-title">ğŸ¯ äººç”Ÿé‡Œç¨‹ç¢‘</div>
                <div class="milestone-list" id="milestoneList"></div>
            </div>
        </div>
    </div>

    <script>
        const zodiacAnimals = ['é¼ ', 'ç‰›', 'è™', 'å…”', 'é¾™', 'è›‡', 'é©¬', 'ç¾Š', 'çŒ´', 'é¸¡', 'ç‹—', 'çŒª'];
        const zodiacIcons = ['ğŸ€', 'ğŸ‚', 'ğŸ…', 'ğŸ‡', 'ğŸ²', 'ğŸ', 'ğŸ´', 'ğŸ‘', 'ğŸµ', 'ğŸ”', 'ğŸ•', 'ğŸ·'];
        
        const starSigns = [
            { name: 'æ‘©ç¾¯åº§', icon: 'â™‘', start: [12, 22], end: [1, 19] },
            { name: 'æ°´ç“¶åº§', icon: 'â™’', start: [1, 20], end: [2, 18] },
            { name: 'åŒé±¼åº§', icon: 'â™“', start: [2, 19], end: [3, 20] },
            { name: 'ç™½ç¾Šåº§', icon: 'â™ˆ', start: [3, 21], end: [4, 19] },
            { name: 'é‡‘ç‰›åº§', icon: 'â™‰', start: [4, 20], end: [5, 20] },
            { name: 'åŒå­åº§', icon: 'â™Š', start: [5, 21], end: [6, 21] },
            { name: 'å·¨èŸ¹åº§', icon: 'â™‹', start: [6, 22], end: [7, 22] },
            { name: 'ç‹®å­åº§', icon: 'â™Œ', start: [7, 23], end: [8, 22] },
            { name: 'å¤„å¥³åº§', icon: 'â™', start: [8, 23], end: [9, 22] },
            { name: 'å¤©ç§¤åº§', icon: 'â™', start: [9, 23], end: [10, 23] },
            { name: 'å¤©èåº§', icon: 'â™', start: [10, 24], end: [11, 22] },
            { name: 'å°„æ‰‹åº§', icon: 'â™', start: [11, 23], end: [12, 21] }
        ];

        const milestones = [
            { age: 1, title: '1å‘¨å²', icon: 'ğŸ‚' },
            { age: 6, title: 'å…¥å­¦å¹´é¾„', icon: 'ğŸ“š' },
            { age: 10, title: '10å²', icon: 'ğŸ‰' },
            { age: 18, title: 'æˆå¹´', icon: 'ğŸ“' },
            { age: 20, title: '20å²', icon: 'âœ¨' },
            { age: 30, title: 'è€Œç«‹ä¹‹å¹´', icon: 'ğŸ’ª' },
            { age: 40, title: 'ä¸æƒ‘ä¹‹å¹´', icon: 'ğŸ§ ' },
            { age: 50, title: 'çŸ¥å¤©å‘½', icon: 'ğŸŒŸ' },
            { age: 60, title: 'èŠ±ç”²ä¹‹å¹´', icon: 'ğŸŒ¸' },
            { age: 70, title: 'å¤ç¨€ä¹‹å¹´', icon: 'ğŸ†' },
            { age: 80, title: 'è€„è€‹ä¹‹å¹´', icon: 'ğŸ‘´' },
            { age: 100, title: 'æœŸé¢ä¹‹å¹´', icon: 'ğŸ’¯' }
        ];

        let birthDateTime;
        let updateInterval;

        function calculate() {
            const dateStr = document.getElementById('birthDate').value;
            if (!dateStr) return;

            const hour = parseInt(document.getElementById('birthHour').value) || 0;
            const minute = parseInt(document.getElementById('birthMinute').value) || 0;
            const second = parseInt(document.getElementById('birthSecond').value) || 0;

            birthDateTime = new Date(dateStr);
            birthDateTime.setHours(hour, minute, second, 0);

            document.getElementById('resultSection').style.display = 'block';
            
            updateAge();
            updateZodiac();
            updateMilestones();
            
            // æ¸…é™¤æ—§çš„å®šæ—¶å™¨
            if (updateInterval) clearInterval(updateInterval);
            // æ¯ç§’æ›´æ–°
            updateInterval = setInterval(updateAge, 1000);
        }

        function updateAge() {
            const now = new Date();
            const diff = now - birthDateTime;

            // è®¡ç®—ç²¾ç¡®å¹´é¾„
            let years = now.getFullYear() - birthDateTime.getFullYear();
            let months = now.getMonth() - birthDateTime.getMonth();
            let days = now.getDate() - birthDateTime.getDate();
            let hours = now.getHours() - birthDateTime.getHours();
            let minutes = now.getMinutes() - birthDateTime.getMinutes();
            let seconds = now.getSeconds() - birthDateTime.getSeconds();

            // è°ƒæ•´è´Ÿå€¼
            if (seconds < 0) { seconds += 60; minutes--; }
            if (minutes < 0) { minutes += 60; hours--; }
            if (hours < 0) { hours += 24; days--; }
            if (days < 0) {
                const prevMonth = new Date(now.getFullYear(), now.getMonth(), 0);
                days += prevMonth.getDate();
                months--;
            }
            if (months < 0) { months += 12; years--; }

            document.getElementById('ageYears').textContent = years;
            document.getElementById('ageDetail').textContent = 
                `${months}æœˆ ${days}å¤© ${hours}æ—¶ ${minutes}åˆ† ${seconds}ç§’`;

            // æ€»è®¡
            const totalMs = diff;
            const totalSeconds = Math.floor(totalMs / 1000);
            const totalMinutes = Math.floor(totalSeconds / 60);
            const totalHours = Math.floor(totalMinutes / 60);
            const totalDays = Math.floor(totalHours / 24);
            const totalWeeks = Math.floor(totalDays / 7);
            const totalMonths = years * 12 + months;

            document.getElementById('totalMonths').textContent = totalMonths.toLocaleString();
            document.getElementById('totalWeeks').textContent = totalWeeks.toLocaleString();
            document.getElementById('totalDays').textContent = totalDays.toLocaleString();
            document.getElementById('totalHours').textContent = totalHours.toLocaleString();
            document.getElementById('totalMinutes').textContent = formatLargeNumber(totalMinutes);
            document.getElementById('totalSeconds').textContent = formatLargeNumber(totalSeconds);

            // ä¸‹ä¸€ä¸ªç”Ÿæ—¥
            const nextBirthday = new Date(now.getFullYear(), birthDateTime.getMonth(), birthDateTime.getDate());
            if (nextBirthday <= now) {
                nextBirthday.setFullYear(nextBirthday.getFullYear() + 1);
            }
            const daysToNext = Math.ceil((nextBirthday - now) / (1000 * 60 * 60 * 24));
            document.getElementById('nextBirthdayDays').textContent = daysToNext;

            // è¶£å‘³æ•°æ®
            document.getElementById('heartbeats').textContent = formatLargeNumber(Math.floor(totalMinutes * 72)); // 72æ¬¡/åˆ†é’Ÿ
            document.getElementById('breaths').textContent = formatLargeNumber(Math.floor(totalMinutes * 16)); // 16æ¬¡/åˆ†é’Ÿ
            document.getElementById('sleepDays').textContent = Math.floor(totalDays / 3).toLocaleString(); // 1/3æ—¶é—´ç¡çœ 
            document.getElementById('meals').textContent = (totalDays * 3).toLocaleString(); // 3é¤/å¤©

            // å‡ºç”Ÿæ˜ŸæœŸ
            const weekdays = ['æ—¥', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­'];
            document.getElementById('birthWeekday').textContent = 'å‘¨' + weekdays[birthDateTime.getDay()];

            // å¹´ä¸­ç¬¬å‡ å¤©
            const startOfYear = new Date(birthDateTime.getFullYear(), 0, 0);
            const dayOfYear = Math.floor((birthDateTime - startOfYear) / (1000 * 60 * 60 * 24));
            document.getElementById('dayOfYear').textContent = 'ç¬¬' + dayOfYear + 'å¤©';
        }

        function updateZodiac() {
            const year = birthDateTime.getFullYear();
            const month = birthDateTime.getMonth() + 1;
            const day = birthDateTime.getDate();

            // ç”Ÿè‚–
            const zodiacIndex = (year - 4) % 12;
            document.getElementById('zodiacIcon').textContent = zodiacIcons[zodiacIndex];
            document.getElementById('zodiacName').textContent = zodiacAnimals[zodiacIndex];

            // æ˜Ÿåº§
            let starSign = starSigns[0]; // é»˜è®¤æ‘©ç¾¯åº§
            for (let sign of starSigns) {
                const [startMonth, startDay] = sign.start;
                const [endMonth, endDay] = sign.end;
                
                if (startMonth > endMonth) {
                    // è·¨å¹´çš„æ˜Ÿåº§ï¼ˆæ‘©ç¾¯åº§ï¼‰
                    if ((month === startMonth && day >= startDay) || (month === endMonth && day <= endDay)) {
                        starSign = sign;
                        break;
                    }
                } else {
                    if ((month === startMonth && day >= startDay) || 
                        (month === endMonth && day <= endDay) ||
                        (month > startMonth && month < endMonth)) {
                        starSign = sign;
                        break;
                    }
                }
            }

            document.getElementById('starIcon').textContent = starSign.icon;
            document.getElementById('starName').textContent = starSign.name;
            document.getElementById('starDate').textContent = 
                `${starSign.start[0]}.${starSign.start[1]}-${starSign.end[0]}.${starSign.end[1]}`;
        }

        function updateMilestones() {
            const now = new Date();
            const container = document.getElementById('milestoneList');

            container.innerHTML = milestones.map(m => {
                const milestoneDate = new Date(birthDateTime);
                milestoneDate.setFullYear(birthDateTime.getFullYear() + m.age);
                
                const passed = milestoneDate <= now;
                const dateStr = `${milestoneDate.getFullYear()}å¹´${milestoneDate.getMonth() + 1}æœˆ${milestoneDate.getDate()}æ—¥`;
                
                let statusText, statusClass;
                if (passed) {
                    const yearsAgo = now.getFullYear() - milestoneDate.getFullYear();
                    statusText = yearsAgo === 0 ? 'ä»Šå¹´' : `${yearsAgo}å¹´å‰`;
                    statusClass = 'passed';
                } else {
                    const yearsLater = milestoneDate.getFullYear() - now.getFullYear();
                    statusText = `${yearsLater}å¹´å`;
                    statusClass = 'upcoming';
                }

                return `
                    <div class="milestone-item">
                        <div class="milestone-icon">${m.icon}</div>
                        <div class="milestone-content">
                            <div class="milestone-title">${m.title}</div>
                            <div class="milestone-date">${dateStr}</div>
                        </div>
                        <span class="milestone-status ${statusClass}">${statusText}</span>
                    </div>
                `;
            }).join('');
        }

        function formatLargeNumber(num) {
            if (num >= 100000000) {
                return (num / 100000000).toFixed(1) + 'äº¿';
            } else if (num >= 10000) {
                return (num / 10000).toFixed(1) + 'ä¸‡';
            }
            return num.toLocaleString();
        }

        // åˆå§‹åŒ–é»˜è®¤æ—¥æœŸ
        const defaultDate = new Date();
        defaultDate.setFullYear(defaultDate.getFullYear() - 25);
        document.getElementById('birthDate').value = defaultDate.toISOString().split('T')[0];
    </script>
</body>
</html>
