<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>ç›®çš„åœ°å¤©æ°”è§„åˆ’ - WebUtils</title>

    <!-- SEO Meta Tags -->
    <meta name="description" content="æ—…è¡Œç›®çš„åœ°å¤©æ°”æŸ¥è¯¢å·¥å…·ï¼Œäº†è§£å„æœˆä»½æ°”æ¸©ã€é™æ°´é‡å’Œæœ€ä½³æ—…è¡Œæ—¶é—´" />
    <meta name="keywords" content="weather å¤©æ°” travel æ—…è¡Œå¤©æ°” æ°”å€™ æœ€ä½³æ—…è¡Œæ—¶é—´" />
    <meta name="author" content="WebUtils" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://tools.realtime-ai.chat/tools/travel/weather-planner.html" />

    <!-- Open Graph -->
    <meta property="og:title" content="ç›®çš„åœ°å¤©æ°”è§„åˆ’ - WebUtils" />
    <meta property="og:description" content="æ—…è¡Œç›®çš„åœ°å¤©æ°”æŸ¥è¯¢å·¥å…·ï¼Œäº†è§£å„æœˆä»½æ°”æ¸©ã€é™æ°´é‡å’Œæœ€ä½³æ—…è¡Œæ—¶é—´" />
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://tools.realtime-ai.chat/tools/travel/weather-planner.html"
    />
    <meta property="og:site_name" content="WebUtils" />
    <meta property="og:locale" content="zh_CN" />
    <meta property="og:image" content="https://tools.realtime-ai.chat/social-preview.png" />
    <meta property="og:image:width" content="1280" />
    <meta property="og:image:height" content="640" />
    <meta property="og:image:type" content="image/png" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="ç›®çš„åœ°å¤©æ°”è§„åˆ’ - WebUtils" />
    <meta name="twitter:description" content="æ—…è¡Œç›®çš„åœ°å¤©æ°”æŸ¥è¯¢å·¥å…·ï¼Œäº†è§£å„æœˆä»½æ°”æ¸©ã€é™æ°´é‡å’Œæœ€ä½³æ—…è¡Œæ—¶é—´" />
    <meta name="twitter:image" content="https://tools.realtime-ai.chat/social-preview.png" />

    <!-- JSON-LD BreadcrumbList Schema -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "é¦–é¡µ",
            "item": "https://tools.realtime-ai.chat/"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "æ—…è¡Œå·¥å…·",
            "item": "https://tools.realtime-ai.chat/#travel"
          },
          {
            "@type": "ListItem",
            "position": 3,
            "name": "ç›®çš„åœ°å¤©æ°”è§„åˆ’",
            "item": "https://tools.realtime-ai.chat/tools/travel/weather-planner.html"
          }
        ]
      }
    </script>

    <!-- Preload fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        --color-bg-deep: #0a0a0f;
        --color-bg-surface: #1a1a22;
        --color-bg-subtle: #242430;
        --color-bg-input: #0e0e14;
        --color-text-primary: #f5f5f7;
        --color-text-secondary: #a1a1aa;
        --color-text-muted: #71717a;
        --color-border-default: rgba(255, 255, 255, 0.08);
        --color-border-subtle: rgba(255, 255, 255, 0.04);
        --color-border-strong: rgba(255, 255, 255, 0.12);
        --color-accent-primary: #00d4aa;
        --color-accent-secondary: #8b5cf6;
        --color-accent-tertiary: #3b82f6;
        --color-success: #22c55e;
        --color-warning: #f59e0b;
        --color-error: #ef4444;
        --glass-bg: rgba(26, 26, 34, 0.72);
        --glass-border: rgba(255, 255, 255, 0.08);
        --glass-blur: 24px;
        --glass-saturate: 180%;
        --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.4);
        --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.4);
        --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.5);
        --shadow-glow: 0 0 20px rgba(0, 212, 170, 0.15);
        --space-1: 4px;
        --space-2: 8px;
        --space-3: 12px;
        --space-4: 16px;
        --space-5: 20px;
        --space-6: 24px;
        --space-8: 32px;
        --radius-sm: 6px;
        --radius-md: 10px;
        --radius-lg: 16px;
        --radius-xl: 24px;
        --radius-full: 9999px;
        --font-sans: "Inter", -apple-system, blinkmacsystemfont, "Segoe UI", sans-serif;
        --font-mono: "JetBrains Mono", "SF Mono", "Fira Code", monospace;
        --transition-fast: 150ms ease;
        --transition-normal: 250ms ease;
        --nav-height: 56px;
        --container-max: 900px;
        --safe-area-top: env(safe-area-inset-top, 0px);
        --safe-area-bottom: env(safe-area-inset-bottom, 0px);
      }

      [data-theme="light"] {
        --color-bg-deep: #f8fafc;
        --color-bg-surface: #fff;
        --color-bg-subtle: #f1f5f9;
        --color-bg-input: #f8fafc;
        --color-text-primary: #0f172a;
        --color-text-secondary: #475569;
        --color-text-muted: #94a3b8;
        --color-border-default: rgba(0, 0, 0, 0.08);
        --color-border-subtle: rgba(0, 0, 0, 0.04);
        --color-border-strong: rgba(0, 0, 0, 0.12);
        --color-accent-primary: #00b894;
        --glass-bg: rgba(255, 255, 255, 0.78);
        --glass-border: rgba(0, 0, 0, 0.06);
        --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.06);
        --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.08);
        --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.12);
        --shadow-glow: 0 0 20px rgba(0, 184, 148, 0.12);
      }

      *,
      *::before,
      *::after {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html {
        font-size: 16px;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      body {
        font-family: var(--font-sans);
        background: var(--color-bg-deep);
        color: var(--color-text-primary);
        min-height: 100vh;
        min-height: 100dvh;
        line-height: 1.5;
        transition:
          background-color var(--transition-normal),
          color var(--transition-normal);
      }

      body::before {
        content: "";
        position: fixed;
        inset: 0;
        pointer-events: none;
        z-index: 0;
        background:
          radial-gradient(circle at 20% 20%, rgba(0, 212, 170, 0.03) 0%, transparent 50%),
          radial-gradient(circle at 80% 80%, rgba(139, 92, 246, 0.03) 0%, transparent 50%);
      }

      [data-theme="light"] body::before {
        background:
          radial-gradient(circle at 20% 20%, rgba(0, 184, 148, 0.05) 0%, transparent 50%),
          radial-gradient(circle at 80% 80%, rgba(124, 58, 237, 0.05) 0%, transparent 50%);
      }

      .nav-bar {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1000;
        height: calc(var(--nav-height) + var(--safe-area-top));
        padding-top: var(--safe-area-top);
        background: var(--glass-bg);
        backdrop-filter: saturate(var(--glass-saturate)) blur(var(--glass-blur));
        -webkit-backdrop-filter: saturate(var(--glass-saturate)) blur(var(--glass-blur));
        border-bottom: 1px solid var(--glass-border);
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background var(--transition-normal);
      }

      .nav-content {
        width: 100%;
        max-width: var(--container-max);
        height: var(--nav-height);
        padding: 0 var(--space-6);
        display: grid;
        grid-template-columns: 1fr auto 1fr;
        align-items: center;
        gap: var(--space-4);
      }

      .nav-back {
        display: flex;
        align-items: center;
        gap: var(--space-1);
        color: var(--color-accent-primary);
        text-decoration: none;
        font-size: 0.9375rem;
        font-weight: 500;
        padding: var(--space-2) var(--space-1);
        margin-left: calc(var(--space-2) * -1);
        border-radius: var(--radius-sm);
        transition: all var(--transition-fast);
        justify-self: start;
      }

      .nav-back:hover {
        background: var(--color-border-subtle);
      }

      .nav-back-icon {
        width: 20px;
        height: 20px;
        stroke-width: 2.5;
      }

      .nav-back-text {
        display: inline;
      }

      .nav-title {
        font-size: 1rem;
        font-weight: 600;
        color: var(--color-text-primary);
        text-align: center;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .nav-actions {
        display: flex;
        align-items: center;
        gap: var(--space-2);
        justify-self: end;
      }

      .theme-toggle {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 36px;
        height: 36px;
        border: none;
        border-radius: var(--radius-full);
        background: var(--color-bg-subtle);
        color: var(--color-text-secondary);
        cursor: pointer;
        transition: all var(--transition-fast);
      }

      .theme-toggle:hover {
        background: var(--color-border-strong);
        color: var(--color-text-primary);
        transform: scale(1.05);
      }

      .theme-toggle svg {
        width: 18px;
        height: 18px;
      }

      .theme-icon-dark,
      .theme-icon-light {
        display: none;
      }

      [data-theme="dark"] .theme-icon-light,
      :root:not([data-theme]) .theme-icon-light {
        display: block;
      }

      [data-theme="light"] .theme-icon-dark {
        display: block;
      }

      .main-content {
        position: relative;
        z-index: 1;
        min-height: 100vh;
        min-height: 100dvh;
        padding-top: calc(var(--nav-height) + var(--safe-area-top) + var(--space-6));
        padding-bottom: calc(var(--space-8) + var(--safe-area-bottom));
        padding-left: var(--space-6);
        padding-right: var(--space-6);
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .container {
        width: 100%;
        max-width: var(--container-max);
      }

      .card {
        background: var(--glass-bg);
        backdrop-filter: saturate(var(--glass-saturate)) blur(var(--glass-blur));
        -webkit-backdrop-filter: saturate(var(--glass-saturate)) blur(var(--glass-blur));
        border: 1px solid var(--color-border-default);
        border-radius: var(--radius-lg);
        padding: var(--space-6);
        margin-bottom: var(--space-5);
        box-shadow: var(--shadow-md);
      }

      .card-title {
        font-size: 1.125rem;
        font-weight: 600;
        margin-bottom: var(--space-5);
        color: var(--color-text-primary);
      }

      .input-row {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: var(--space-4);
        margin-bottom: var(--space-5);
      }

      .input-group {
        display: flex;
        flex-direction: column;
        gap: var(--space-2);
      }

      label {
        font-size: 0.875rem;
        font-weight: 500;
        color: var(--color-text-secondary);
      }

      select {
        padding: var(--space-3) var(--space-4);
        font-size: 0.9375rem;
        border: 1px solid var(--color-border-default);
        border-radius: var(--radius-md);
        background: var(--color-bg-input);
        color: var(--color-text-primary);
        font-family: var(--font-sans);
        transition: all var(--transition-fast);
        cursor: pointer;
      }

      select:focus {
        outline: none;
        border-color: var(--color-accent-primary);
        box-shadow: 0 0 0 3px rgba(0, 212, 170, 0.1);
      }

      .weather-display {
        display: none;
      }

      .weather-display.active {
        display: block;
      }

      .weather-summary {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: var(--space-4);
        margin-bottom: var(--space-6);
      }

      .weather-stat {
        background: var(--color-bg-subtle);
        border: 1px solid var(--color-border-default);
        border-radius: var(--radius-md);
        padding: var(--space-4);
        text-align: center;
      }

      .weather-stat-icon {
        font-size: 2rem;
        margin-bottom: var(--space-2);
      }

      .weather-stat-value {
        font-size: 1.5rem;
        font-weight: 700;
        font-family: var(--font-mono);
        color: var(--color-accent-primary);
      }

      .weather-stat-label {
        font-size: 0.8125rem;
        color: var(--color-text-muted);
        margin-top: var(--space-1);
      }

      .month-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
        gap: var(--space-3);
        margin-bottom: var(--space-6);
      }

      .month-card {
        background: var(--color-bg-subtle);
        border: 1px solid var(--color-border-default);
        border-radius: var(--radius-md);
        padding: var(--space-3);
        text-align: center;
        cursor: pointer;
        transition: all var(--transition-fast);
      }

      .month-card:hover {
        border-color: var(--color-accent-primary);
        background: var(--color-bg-surface);
      }

      .month-card.selected {
        border-color: var(--color-accent-primary);
        background: rgba(0, 212, 170, 0.1);
      }

      .month-card.best {
        border-color: var(--color-success);
        background: rgba(34, 197, 94, 0.1);
      }

      .month-card.good {
        border-color: var(--color-warning);
        background: rgba(245, 158, 11, 0.05);
      }

      .month-name {
        font-size: 0.875rem;
        font-weight: 600;
        color: var(--color-text-primary);
        margin-bottom: var(--space-2);
      }

      .month-temp {
        font-family: var(--font-mono);
        font-size: 0.8125rem;
        color: var(--color-accent-primary);
      }

      .month-rain {
        font-size: 0.75rem;
        color: var(--color-text-muted);
        margin-top: var(--space-1);
      }

      .month-icon {
        font-size: 1.25rem;
        margin-bottom: var(--space-1);
      }

      .recommendation-box {
        background: var(--color-bg-subtle);
        border: 1px solid var(--color-border-default);
        border-radius: var(--radius-md);
        padding: var(--space-5);
        margin-bottom: var(--space-5);
      }

      .recommendation-title {
        font-weight: 600;
        color: var(--color-text-primary);
        margin-bottom: var(--space-3);
        display: flex;
        align-items: center;
        gap: var(--space-2);
      }

      .recommendation-content {
        font-size: 0.9375rem;
        color: var(--color-text-secondary);
        line-height: 1.6;
      }

      .packing-tips {
        display: flex;
        flex-wrap: wrap;
        gap: var(--space-2);
        margin-top: var(--space-4);
      }

      .packing-item {
        display: inline-flex;
        align-items: center;
        gap: var(--space-1);
        padding: var(--space-2) var(--space-3);
        background: var(--color-bg-input);
        border: 1px solid var(--color-border-default);
        border-radius: var(--radius-full);
        font-size: 0.8125rem;
        color: var(--color-text-secondary);
      }

      .legend {
        display: flex;
        flex-wrap: wrap;
        gap: var(--space-4);
        margin-bottom: var(--space-4);
        font-size: 0.8125rem;
        color: var(--color-text-muted);
      }

      .legend-item {
        display: flex;
        align-items: center;
        gap: var(--space-2);
      }

      .legend-dot {
        width: 12px;
        height: 12px;
        border-radius: var(--radius-full);
      }

      .legend-dot.best {
        background: var(--color-success);
      }

      .legend-dot.good {
        background: var(--color-warning);
      }

      .button-group {
        display: flex;
        gap: var(--space-3);
        margin-top: var(--space-5);
        flex-wrap: wrap;
      }

      button {
        padding: var(--space-3) var(--space-4);
        font-size: 0.9375rem;
        font-weight: 500;
        border: 1px solid var(--color-border-default);
        border-radius: var(--radius-md);
        background: var(--color-bg-subtle);
        color: var(--color-text-primary);
        cursor: pointer;
        transition: all var(--transition-fast);
        font-family: var(--font-sans);
      }

      button:hover {
        border-color: var(--color-accent-primary);
        background: var(--color-bg-surface);
        transform: translateY(-1px);
      }

      button:active {
        transform: translateY(0);
      }

      button.primary {
        background: var(--color-accent-primary);
        border-color: var(--color-accent-primary);
        color: #000;
        font-weight: 600;
      }

      button.primary:hover {
        background: #00c299;
        border-color: #00c299;
        box-shadow: var(--shadow-glow);
      }

      .toast {
        position: fixed;
        bottom: calc(var(--space-6) + var(--safe-area-bottom));
        left: 50%;
        transform: translateX(-50%) translateY(100px);
        background: var(--color-bg-surface);
        border: 1px solid var(--color-border-default);
        border-radius: var(--radius-md);
        padding: var(--space-3) var(--space-5);
        font-size: 0.875rem;
        color: var(--color-text-primary);
        box-shadow: var(--shadow-lg);
        opacity: 0;
        visibility: hidden;
        transition: all var(--transition-normal);
        z-index: 2000;
      }

      .toast.show {
        transform: translateX(-50%) translateY(0);
        opacity: 1;
        visibility: visible;
      }

      .toast.success {
        border-color: var(--color-success);
        color: var(--color-success);
      }

      @media (max-width: 480px) {
        :root {
          --nav-height: 52px;
        }

        .nav-content {
          padding: 0 var(--space-4);
        }

        .nav-back-text {
          display: none;
        }

        .main-content {
          padding-top: calc(var(--nav-height) + var(--safe-area-top) + var(--space-4));
          padding-left: var(--space-4);
          padding-right: var(--space-4);
        }

        .card {
          padding: var(--space-4);
        }

        .input-row {
          grid-template-columns: 1fr;
        }

        .month-grid {
          grid-template-columns: repeat(4, 1fr);
        }

        .button-group {
          gap: var(--space-2);
        }

        button {
          padding: var(--space-2) var(--space-3);
          font-size: 0.875rem;
          flex: 1;
        }
      }

      @media (min-width: 768px) {
        .nav-back-text {
          display: inline;
        }
      }

      @media (min-width: 1024px) {
        .main-content {
          padding-top: calc(var(--nav-height) + var(--safe-area-top) + var(--space-8));
        }
      }

      @media (prefers-reduced-motion: reduce) {
        *,
        *::before,
        *::after {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }
      }

      :focus-visible {
        outline: 2px solid var(--color-accent-primary);
        outline-offset: 2px;
      }
    </style>
  </head>
  <body>
    <nav class="nav-bar">
      <div class="nav-content">
        <a href="../../index.html" class="nav-back" aria-label="è¿”å›é¦–é¡µ">
          <svg
            class="nav-back-icon"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <polyline points="15 18 9 12 15 6"></polyline>
          </svg>
          <span class="nav-back-text">é¦–é¡µ</span>
        </a>

        <h1 class="nav-title">ç›®çš„åœ°å¤©æ°”è§„åˆ’</h1>

        <div class="nav-actions">
          <button class="theme-toggle" onclick="toggleTheme()" aria-label="åˆ‡æ¢ä¸»é¢˜">
            <svg
              class="theme-icon-light"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
            </svg>
            <svg
              class="theme-icon-dark"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <circle cx="12" cy="12" r="5"></circle>
              <line x1="12" y1="1" x2="12" y2="3"></line>
              <line x1="12" y1="21" x2="12" y2="23"></line>
              <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
              <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
              <line x1="1" y1="12" x2="3" y2="12"></line>
              <line x1="21" y1="12" x2="23" y2="12"></line>
              <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
              <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
            </svg>
          </button>
        </div>
      </div>
    </nav>

    <main class="main-content">
      <div class="container">
        <div class="card">
          <h2 class="card-title">ğŸŒ é€‰æ‹©ç›®çš„åœ°å’Œæœˆä»½</h2>
          <div class="input-row">
            <div class="input-group">
              <label for="destination">ç›®çš„åœ°</label>
              <select id="destination" onchange="showWeather()">
                <option value="">è¯·é€‰æ‹©ç›®çš„åœ°...</option>
              </select>
            </div>
            <div class="input-group">
              <label for="month">æ—…è¡Œæœˆä»½</label>
              <select id="month" onchange="showWeather()">
                <option value="0">ä¸€æœˆ</option>
                <option value="1">äºŒæœˆ</option>
                <option value="2">ä¸‰æœˆ</option>
                <option value="3">å››æœˆ</option>
                <option value="4">äº”æœˆ</option>
                <option value="5">å…­æœˆ</option>
                <option value="6">ä¸ƒæœˆ</option>
                <option value="7">å…«æœˆ</option>
                <option value="8">ä¹æœˆ</option>
                <option value="9">åæœˆ</option>
                <option value="10">åä¸€æœˆ</option>
                <option value="11">åäºŒæœˆ</option>
              </select>
            </div>
          </div>
        </div>

        <div class="card weather-display" id="weatherDisplay">
          <h2 class="card-title" id="weatherTitle">ğŸŒ¤ï¸ å¤©æ°”æ¦‚å†µ</h2>

          <div class="weather-summary" id="weatherSummary"></div>

          <div class="legend">
            <div class="legend-item">
              <div class="legend-dot best"></div>
              <span>æœ€ä½³æ—…è¡Œæ—¶é—´</span>
            </div>
            <div class="legend-item">
              <div class="legend-dot good"></div>
              <span>é€‚åˆæ—…è¡Œ</span>
            </div>
          </div>

          <div class="month-grid" id="monthGrid"></div>

          <div class="recommendation-box" id="recommendation"></div>

          <div class="button-group">
            <button onclick="copyWeatherInfo()" class="primary">å¤åˆ¶å¤©æ°”ä¿¡æ¯</button>
          </div>
        </div>
      </div>
    </main>

    <div class="toast" id="toast"></div>

    <script>
      var monthNames = [
        "ä¸€æœˆ",
        "äºŒæœˆ",
        "ä¸‰æœˆ",
        "å››æœˆ",
        "äº”æœˆ",
        "å…­æœˆ",
        "ä¸ƒæœˆ",
        "å…«æœˆ",
        "ä¹æœˆ",
        "åæœˆ",
        "åä¸€æœˆ",
        "åäºŒæœˆ",
      ];

      var destinations = {
        tokyo: {
          name: "ä¸œäº¬",
          country: "æ—¥æœ¬",
          climate: "æ¸©å¸¦å­£é£æ°”å€™",
          bestMonths: [2, 3, 4, 9, 10],
          goodMonths: [5, 8, 11],
          weather: [
            { high: 10, low: 2, rain: 52, condition: "æ™´å†·" },
            { high: 11, low: 2, rain: 56, condition: "æ™´å†·" },
            { high: 14, low: 5, rain: 117, condition: "å¤šäº‘" },
            { high: 19, low: 10, rain: 125, condition: "æ¸©æš–" },
            { high: 23, low: 15, rain: 138, condition: "èˆ’é€‚" },
            { high: 26, low: 19, rain: 168, condition: "æ¢…é›¨" },
            { high: 30, low: 23, rain: 154, condition: "ç‚çƒ­" },
            { high: 31, low: 24, rain: 168, condition: "ç‚çƒ­" },
            { high: 27, low: 21, rain: 210, condition: "å¤šé›¨" },
            { high: 22, low: 15, rain: 198, condition: "èˆ’é€‚" },
            { high: 17, low: 10, rain: 93, condition: "å‡‰çˆ½" },
            { high: 12, low: 4, rain: 51, condition: "æ™´å†·" },
          ],
          tips: "æ˜¥å­£èµæ¨±(3-4æœˆ)ã€ç§‹å­£èµæ«(11æœˆ)æ˜¯æœ€ä½³æ—¶é—´",
          packing: ["é›¨ä¼", "è½»ä¾¿å¤–å¥—", "èˆ’é€‚æ­¥è¡Œé‹"],
        },
        bangkok: {
          name: "æ›¼è°·",
          country: "æ³°å›½",
          climate: "çƒ­å¸¦å­£é£æ°”å€™",
          bestMonths: [10, 11, 0, 1, 2],
          goodMonths: [3, 9],
          weather: [
            { high: 32, low: 21, rain: 9, condition: "æ™´çƒ­" },
            { high: 33, low: 23, rain: 30, condition: "æ™´çƒ­" },
            { high: 34, low: 25, rain: 29, condition: "é…·çƒ­" },
            { high: 35, low: 26, rain: 65, condition: "é…·çƒ­" },
            { high: 34, low: 26, rain: 220, condition: "é›¨å­£" },
            { high: 33, low: 25, rain: 152, condition: "é›¨å­£" },
            { high: 32, low: 25, rain: 155, condition: "é›¨å­£" },
            { high: 32, low: 25, rain: 197, condition: "é›¨å­£" },
            { high: 32, low: 24, rain: 344, condition: "å¤šé›¨" },
            { high: 32, low: 24, rain: 242, condition: "å¤šé›¨" },
            { high: 32, low: 23, rain: 48, condition: "å‡‰å­£" },
            { high: 31, low: 21, rain: 10, condition: "å‡‰å­£" },
          ],
          tips: "11æœˆè‡³2æœˆæ˜¯å‡‰å­£ï¼Œå¤©æ°”æœ€èˆ’é€‚ï¼›4-5æœˆæœ€çƒ­ï¼›6-10æœˆä¸ºé›¨å­£",
          packing: ["é˜²æ™’éœœ", "å¤ªé˜³é•œ", "é›¨å…·", "è½»è–„è¡£ç‰©"],
        },
        paris: {
          name: "å·´é»",
          country: "æ³•å›½",
          climate: "æ¸©å¸¦æµ·æ´‹æ€§æ°”å€™",
          bestMonths: [4, 5, 8, 9],
          goodMonths: [3, 6, 10],
          weather: [
            { high: 7, low: 2, rain: 51, condition: "é˜´å†·" },
            { high: 8, low: 2, rain: 41, condition: "é˜´å†·" },
            { high: 12, low: 4, rain: 48, condition: "å¤šäº‘" },
            { high: 16, low: 7, rain: 52, condition: "æ¸©å’Œ" },
            { high: 20, low: 10, rain: 63, condition: "èˆ’é€‚" },
            { high: 23, low: 14, rain: 50, condition: "æ¸©æš–" },
            { high: 25, low: 15, rain: 63, condition: "æ¸©æš–" },
            { high: 25, low: 15, rain: 43, condition: "æ¸©æš–" },
            { high: 21, low: 12, rain: 55, condition: "èˆ’é€‚" },
            { high: 16, low: 9, rain: 62, condition: "å‡‰çˆ½" },
            { high: 11, low: 5, rain: 51, condition: "é˜´å†·" },
            { high: 8, low: 3, rain: 58, condition: "é˜´å†·" },
          ],
          tips: "5-6æœˆå’Œ9-10æœˆå¤©æ°”æœ€å¥½ï¼Œæ¸¸å®¢ä¹Ÿç›¸å¯¹è¾ƒå°‘",
          packing: ["é£è¡£", "å›´å·¾", "èˆ’é€‚æ­¥è¡Œé‹", "é›¨ä¼"],
        },
        new_york: {
          name: "çº½çº¦",
          country: "ç¾å›½",
          climate: "æ¸©å¸¦å¤§é™†æ€§æ°”å€™",
          bestMonths: [4, 5, 8, 9],
          goodMonths: [3, 6, 10],
          weather: [
            { high: 4, low: -3, rain: 94, condition: "ä¸¥å¯’" },
            { high: 5, low: -2, rain: 79, condition: "ä¸¥å¯’" },
            { high: 10, low: 2, rain: 107, condition: "å‡‰çˆ½" },
            { high: 17, low: 7, rain: 114, condition: "æ¸©å’Œ" },
            { high: 22, low: 12, rain: 106, condition: "èˆ’é€‚" },
            { high: 27, low: 18, rain: 112, condition: "æ¸©æš–" },
            { high: 30, low: 21, rain: 117, condition: "ç‚çƒ­" },
            { high: 29, low: 20, rain: 107, condition: "ç‚çƒ­" },
            { high: 25, low: 16, rain: 109, condition: "èˆ’é€‚" },
            { high: 18, low: 10, rain: 112, condition: "å‡‰çˆ½" },
            { high: 12, low: 5, rain: 102, condition: "å‡‰çˆ½" },
            { high: 6, low: 0, rain: 102, condition: "å¯’å†·" },
          ],
          tips: "4-6æœˆæ˜¥å­£å’Œ9-11æœˆç§‹å­£æœ€é€‚åˆæ—…æ¸¸ï¼Œå†¬å­£å¯çœ‹é›ªæ™¯å’ŒèŠ‚æ—¥æ°›å›´",
          packing: ["åˆ†å±‚ç©¿æ­", "èˆ’é€‚æ­¥è¡Œé‹", "é˜²å¯’å¤–å¥—(å†¬å­£)"],
        },
        sydney: {
          name: "æ‚‰å°¼",
          country: "æ¾³å¤§åˆ©äºš",
          climate: "æ¸©å¸¦æµ·æ´‹æ€§æ°”å€™(å—åŠçƒ)",
          bestMonths: [2, 3, 9, 10, 11],
          goodMonths: [0, 1, 4, 8],
          weather: [
            { high: 26, low: 19, rain: 102, condition: "å¤å­£" },
            { high: 26, low: 19, rain: 118, condition: "å¤å­£" },
            { high: 25, low: 18, rain: 131, condition: "ç§‹å­£" },
            { high: 22, low: 15, rain: 127, condition: "ç§‹å­£" },
            { high: 19, low: 12, rain: 123, condition: "ç§‹å­£" },
            { high: 17, low: 9, rain: 132, condition: "å†¬å­£" },
            { high: 16, low: 8, rain: 97, condition: "å†¬å­£" },
            { high: 18, low: 9, rain: 80, condition: "å†¬å­£" },
            { high: 20, low: 11, rain: 69, condition: "æ˜¥å­£" },
            { high: 22, low: 14, rain: 77, condition: "æ˜¥å­£" },
            { high: 24, low: 16, rain: 83, condition: "æ˜¥å­£" },
            { high: 25, low: 18, rain: 78, condition: "å¤å­£" },
          ],
          tips: "å—åŠçƒå­£èŠ‚ä¸åŒ—åŠçƒç›¸åï¼Œ9-11æœˆ(æ˜¥å­£)å’Œ3-5æœˆ(ç§‹å­£)æœ€èˆ’é€‚",
          packing: ["é˜²æ™’éœœ", "æ³³è¡£", "è½»ä¾¿è¡£ç‰©", "å¤ªé˜³é•œ"],
        },
        dubai: {
          name: "è¿ªæ‹œ",
          country: "é˜¿è”é…‹",
          climate: "çƒ­å¸¦æ²™æ¼ æ°”å€™",
          bestMonths: [10, 11, 0, 1, 2],
          goodMonths: [3, 9],
          weather: [
            { high: 24, low: 14, rain: 11, condition: "æ¸©æš–" },
            { high: 25, low: 15, rain: 36, condition: "æ¸©æš–" },
            { high: 29, low: 18, rain: 22, condition: "çƒ­" },
            { high: 33, low: 21, rain: 8, condition: "ç‚çƒ­" },
            { high: 38, low: 25, rain: 1, condition: "é…·çƒ­" },
            { high: 40, low: 28, rain: 0, condition: "é…·çƒ­" },
            { high: 41, low: 30, rain: 0, condition: "é…·çƒ­" },
            { high: 41, low: 30, rain: 0, condition: "é…·çƒ­" },
            { high: 39, low: 27, rain: 0, condition: "é…·çƒ­" },
            { high: 35, low: 23, rain: 1, condition: "çƒ­" },
            { high: 30, low: 19, rain: 3, condition: "æ¸©æš–" },
            { high: 26, low: 16, rain: 16, condition: "æ¸©æš–" },
          ],
          tips: "11æœˆè‡³3æœˆæ˜¯æœ€ä½³æ—…è¡Œæ—¶é—´ï¼Œå¤å­£(6-9æœˆ)æå…¶ç‚çƒ­ï¼Œä¸å»ºè®®æˆ·å¤–æ´»åŠ¨",
          packing: ["é˜²æ™’éœœ", "å¤ªé˜³é•œ", "è½»è–„é•¿è¢–", "å¸½å­"],
        },
        london: {
          name: "ä¼¦æ•¦",
          country: "è‹±å›½",
          climate: "æ¸©å¸¦æµ·æ´‹æ€§æ°”å€™",
          bestMonths: [5, 6, 7, 8],
          goodMonths: [4, 9],
          weather: [
            { high: 8, low: 2, rain: 55, condition: "é˜´å†·" },
            { high: 8, low: 2, rain: 40, condition: "é˜´å†·" },
            { high: 11, low: 4, rain: 42, condition: "å¤šäº‘" },
            { high: 14, low: 6, rain: 43, condition: "å¤šäº‘" },
            { high: 18, low: 9, rain: 49, condition: "æ¸©å’Œ" },
            { high: 21, low: 12, rain: 45, condition: "æ¸©æš–" },
            { high: 24, low: 14, rain: 45, condition: "æ¸©æš–" },
            { high: 23, low: 14, rain: 50, condition: "æ¸©æš–" },
            { high: 20, low: 11, rain: 49, condition: "èˆ’é€‚" },
            { high: 15, low: 8, rain: 69, condition: "å‡‰çˆ½" },
            { high: 11, low: 5, rain: 59, condition: "é˜´å†·" },
            { high: 8, low: 3, rain: 55, condition: "é˜´å†·" },
          ],
          tips: "6-8æœˆæ˜¯å¤å­£æœ€æ¸©æš–çš„æ—¶å€™ï¼Œä½†éšæ—¶å¯èƒ½ä¸‹é›¨ï¼Œè®°å¾—å¸¦ä¼",
          packing: ["é›¨ä¼", "é˜²æ°´å¤–å¥—", "åˆ†å±‚ç©¿æ­", "èˆ’é€‚æ­¥è¡Œé‹"],
        },
        singapore: {
          name: "æ–°åŠ å¡",
          country: "æ–°åŠ å¡",
          climate: "çƒ­å¸¦é›¨æ—æ°”å€™",
          bestMonths: [1, 2, 6, 7, 8],
          goodMonths: [3, 4, 5, 9],
          weather: [
            { high: 30, low: 24, rain: 243, condition: "å¤šé›¨" },
            { high: 31, low: 24, rain: 162, condition: "è¾ƒå°‘é›¨" },
            { high: 32, low: 25, rain: 185, condition: "å¤šé›¨" },
            { high: 32, low: 25, rain: 178, condition: "å¤šé›¨" },
            { high: 32, low: 25, rain: 171, condition: "å¤šé›¨" },
            { high: 31, low: 25, rain: 162, condition: "è¾ƒå°‘é›¨" },
            { high: 31, low: 25, rain: 159, condition: "è¾ƒå°‘é›¨" },
            { high: 31, low: 25, rain: 176, condition: "è¾ƒå°‘é›¨" },
            { high: 31, low: 24, rain: 178, condition: "å¤šé›¨" },
            { high: 31, low: 24, rain: 193, condition: "å¤šé›¨" },
            { high: 31, low: 24, rain: 256, condition: "å¤šé›¨" },
            { high: 30, low: 24, rain: 269, condition: "å¤šé›¨" },
          ],
          tips: "å…¨å¹´é«˜æ¸©å¤šé›¨ï¼Œ2æœˆå’Œ6-8æœˆç›¸å¯¹å¹²ç‡¥ï¼Œä¸‹åˆå¸¸æœ‰é›·é˜µé›¨",
          packing: ["é˜²æ™’éœœ", "é›¨ä¼", "è½»è–„é€æ°”è¡£ç‰©", "å¤ªé˜³é•œ"],
        },
        bali: {
          name: "å·´å˜å²›",
          country: "å°åº¦å°¼è¥¿äºš",
          climate: "çƒ­å¸¦å­£é£æ°”å€™",
          bestMonths: [3, 4, 5, 6, 7, 8, 9],
          goodMonths: [2, 10],
          weather: [
            { high: 30, low: 24, rain: 345, condition: "é›¨å­£" },
            { high: 30, low: 24, rain: 274, condition: "é›¨å­£" },
            { high: 30, low: 24, rain: 234, condition: "è¿‡æ¸¡" },
            { high: 31, low: 24, rain: 88, condition: "æ—±å­£" },
            { high: 30, low: 24, rain: 93, condition: "æ—±å­£" },
            { high: 29, low: 23, rain: 53, condition: "æ—±å­£" },
            { high: 28, low: 23, rain: 55, condition: "æ—±å­£" },
            { high: 29, low: 23, rain: 25, condition: "æ—±å­£" },
            { high: 29, low: 23, rain: 47, condition: "æ—±å­£" },
            { high: 30, low: 24, rain: 63, condition: "è¿‡æ¸¡" },
            { high: 30, low: 24, rain: 179, condition: "é›¨å­£" },
            { high: 30, low: 24, rain: 276, condition: "é›¨å­£" },
          ],
          tips: "4-10æœˆæ˜¯æ—±å­£ï¼Œå¤©æ°”æ™´æœ—é€‚åˆæµ·æ»©å’Œæˆ·å¤–æ´»åŠ¨",
          packing: ["é˜²æ™’éœœ", "æ³³è¡£", "è½»ä¾¿è¡£ç‰©", "é©±èšŠæ¶²"],
        },
        rome: {
          name: "ç½—é©¬",
          country: "æ„å¤§åˆ©",
          climate: "åœ°ä¸­æµ·æ°”å€™",
          bestMonths: [3, 4, 5, 9, 10],
          goodMonths: [6, 8, 11],
          weather: [
            { high: 12, low: 3, rain: 67, condition: "é˜´å†·" },
            { high: 13, low: 4, rain: 73, condition: "é˜´å†·" },
            { high: 16, low: 6, rain: 68, condition: "æ¸©å’Œ" },
            { high: 19, low: 9, rain: 65, condition: "èˆ’é€‚" },
            { high: 24, low: 13, rain: 48, condition: "èˆ’é€‚" },
            { high: 28, low: 17, rain: 34, condition: "æ¸©æš–" },
            { high: 31, low: 19, rain: 19, condition: "ç‚çƒ­" },
            { high: 31, low: 19, rain: 36, condition: "ç‚çƒ­" },
            { high: 27, low: 16, rain: 73, condition: "èˆ’é€‚" },
            { high: 22, low: 12, rain: 98, condition: "å‡‰çˆ½" },
            { high: 16, low: 8, rain: 115, condition: "å¤šé›¨" },
            { high: 13, low: 5, rain: 93, condition: "é˜´å†·" },
          ],
          tips: "4-5æœˆå’Œ9-10æœˆå¤©æ°”å®œäººï¼Œæ¸¸å®¢è¾ƒå°‘ï¼›7-8æœˆç‚çƒ­ä¸”æ‹¥æŒ¤",
          packing: ["å¤ªé˜³é•œ", "èˆ’é€‚æ­¥è¡Œé‹", "è½»ä¾¿å¤–å¥—", "é®é˜³å¸½"],
        },
        maldives: {
          name: "é©¬å°”ä»£å¤«",
          country: "é©¬å°”ä»£å¤«",
          climate: "çƒ­å¸¦å­£é£æ°”å€™",
          bestMonths: [0, 1, 2, 3],
          goodMonths: [4, 11],
          weather: [
            { high: 30, low: 26, rain: 114, condition: "æ—±å­£" },
            { high: 31, low: 26, rain: 38, condition: "æ—±å­£" },
            { high: 31, low: 27, rain: 74, condition: "æ—±å­£" },
            { high: 32, low: 27, rain: 123, condition: "è¿‡æ¸¡" },
            { high: 31, low: 27, rain: 219, condition: "é›¨å­£" },
            { high: 31, low: 26, rain: 167, condition: "é›¨å­£" },
            { high: 30, low: 26, rain: 150, condition: "é›¨å­£" },
            { high: 30, low: 26, rain: 176, condition: "é›¨å­£" },
            { high: 30, low: 26, rain: 199, condition: "é›¨å­£" },
            { high: 30, low: 26, rain: 194, condition: "é›¨å­£" },
            { high: 30, low: 26, rain: 231, condition: "é›¨å­£" },
            { high: 30, low: 26, rain: 217, condition: "è¿‡æ¸¡" },
          ],
          tips: "12æœˆè‡³4æœˆæ˜¯æ—±å­£ï¼Œæµ·æ°´æ¸…æ¾ˆé€‚åˆæµ®æ½œå’Œæ½œæ°´",
          packing: ["é˜²æ™’éœœ", "æ³³è¡£", "æµ®æ½œè£…å¤‡", "è½»è–„è¡£ç‰©"],
        },
      };

      var selectedMonth = new Date().getMonth();

      function init() {
        var select = document.getElementById("destination");
        select.textContent = "";

        var defaultOption = document.createElement("option");
        defaultOption.value = "";
        defaultOption.textContent = "è¯·é€‰æ‹©ç›®çš„åœ°...";
        select.appendChild(defaultOption);

        Object.keys(destinations).forEach(function (key) {
          var dest = destinations[key];
          var option = document.createElement("option");
          option.value = key;
          option.textContent = dest.name + " - " + dest.country;
          select.appendChild(option);
        });

        document.getElementById("month").value = selectedMonth;
        loadState();
      }

      function showWeather() {
        var destId = document.getElementById("destination").value;
        selectedMonth = parseInt(document.getElementById("month").value);

        if (!destId) {
          document.getElementById("weatherDisplay").classList.remove("active");
          return;
        }

        var dest = destinations[destId];
        var monthData = dest.weather[selectedMonth];

        document.getElementById("weatherTitle").textContent =
          "ğŸŒ¤ï¸ " + dest.name + " - " + monthNames[selectedMonth] + "å¤©æ°”";

        renderWeatherSummary(dest, monthData);
        renderMonthGrid(dest);
        renderRecommendation(dest, selectedMonth);

        document.getElementById("weatherDisplay").classList.add("active");
        saveState();
      }

      function renderWeatherSummary(dest, monthData) {
        var container = document.getElementById("weatherSummary");
        container.textContent = "";

        var stats = [
          { icon: "ğŸŒ¡ï¸", value: monthData.high + "Â°C", label: "æœ€é«˜æ¸©åº¦" },
          { icon: "â„ï¸", value: monthData.low + "Â°C", label: "æœ€ä½æ¸©åº¦" },
          { icon: "ğŸŒ§ï¸", value: monthData.rain + "mm", label: "æœˆé™æ°´é‡" },
          { icon: getWeatherIcon(monthData.condition), value: monthData.condition, label: "å¤©æ°”çŠ¶å†µ" },
        ];

        stats.forEach(function (stat) {
          var div = document.createElement("div");
          div.className = "weather-stat";

          var icon = document.createElement("div");
          icon.className = "weather-stat-icon";
          icon.textContent = stat.icon;

          var value = document.createElement("div");
          value.className = "weather-stat-value";
          value.textContent = stat.value;

          var label = document.createElement("div");
          label.className = "weather-stat-label";
          label.textContent = stat.label;

          div.appendChild(icon);
          div.appendChild(value);
          div.appendChild(label);
          container.appendChild(div);
        });
      }

      function renderMonthGrid(dest) {
        var container = document.getElementById("monthGrid");
        container.textContent = "";

        for (var i = 0; i < 12; i++) {
          var monthData = dest.weather[i];
          var isBest = dest.bestMonths.indexOf(i) !== -1;
          var isGood = dest.goodMonths.indexOf(i) !== -1;
          var isSelected = i === selectedMonth;

          var card = document.createElement("div");
          card.className = "month-card";
          if (isBest) card.className += " best";
          else if (isGood) card.className += " good";
          if (isSelected) card.className += " selected";
          card.onclick = (function (month) {
            return function () {
              document.getElementById("month").value = month;
              showWeather();
            };
          })(i);

          var icon = document.createElement("div");
          icon.className = "month-icon";
          icon.textContent = getWeatherIcon(monthData.condition);

          var name = document.createElement("div");
          name.className = "month-name";
          name.textContent = monthNames[i].substring(0, 2);

          var temp = document.createElement("div");
          temp.className = "month-temp";
          temp.textContent = monthData.low + "~" + monthData.high + "Â°";

          var rain = document.createElement("div");
          rain.className = "month-rain";
          rain.textContent = monthData.rain + "mm";

          card.appendChild(icon);
          card.appendChild(name);
          card.appendChild(temp);
          card.appendChild(rain);
          container.appendChild(card);
        }
      }

      function renderRecommendation(dest, month) {
        var container = document.getElementById("recommendation");
        container.textContent = "";

        var isBest = dest.bestMonths.indexOf(month) !== -1;
        var isGood = dest.goodMonths.indexOf(month) !== -1;

        var title = document.createElement("div");
        title.className = "recommendation-title";
        if (isBest) {
          title.textContent = "âœ¨ æœ€ä½³æ—…è¡Œæ—¶é—´ï¼";
        } else if (isGood) {
          title.textContent = "ğŸ‘ é€‚åˆæ—…è¡Œ";
        } else {
          title.textContent = "âš ï¸ éæœ€ä½³æ—¶æ®µ";
        }

        var content = document.createElement("div");
        content.className = "recommendation-content";

        var bestMonthsText = dest.bestMonths.map(function (m) {
          return monthNames[m];
        }).join("ã€");
        
        content.textContent = dest.tips + "\n\næœ€ä½³æ—…è¡Œæœˆä»½ï¼š" + bestMonthsText;

        var packingDiv = document.createElement("div");
        packingDiv.className = "packing-tips";

        var packingLabel = document.createElement("span");
        packingLabel.style.cssText =
          "font-weight: 600; color: var(--color-text-primary); margin-right: var(--space-2);";
        packingLabel.textContent = "å»ºè®®æºå¸¦ï¼š";
        packingDiv.appendChild(packingLabel);

        dest.packing.forEach(function (item) {
          var span = document.createElement("span");
          span.className = "packing-item";
          span.textContent = item;
          packingDiv.appendChild(span);
        });

        container.appendChild(title);
        container.appendChild(content);
        container.appendChild(packingDiv);
      }

      function getWeatherIcon(condition) {
        var icons = {
          æ™´çƒ­: "â˜€ï¸",
          æ™´å†·: "ğŸŒ¤ï¸",
          é…·çƒ­: "ğŸ”¥",
          ç‚çƒ­: "â˜€ï¸",
          æ¸©æš–: "ğŸŒ¤ï¸",
          èˆ’é€‚: "ğŸ˜Š",
          å‡‰çˆ½: "ğŸ‚",
          æ¸©å’Œ: "ğŸŒ¸",
          å¤šäº‘: "â›…",
          é˜´å†·: "ğŸŒ¥ï¸",
          å¯’å†·: "â„ï¸",
          ä¸¥å¯’: "ğŸ¥¶",
          é›¨å­£: "ğŸŒ§ï¸",
          å¤šé›¨: "ğŸŒ§ï¸",
          è¾ƒå°‘é›¨: "ğŸŒ¤ï¸",
          è¿‡æ¸¡: "â›…",
          æ¢…é›¨: "ğŸŒ§ï¸",
          å‡‰å­£: "ğŸ˜Š",
          å¤å­£: "â˜€ï¸",
          å†¬å­£: "â„ï¸",
          æ˜¥å­£: "ğŸŒ¸",
          ç§‹å­£: "ğŸ‚",
          æ—±å­£: "â˜€ï¸",
          çƒ­: "ğŸŒ¡ï¸",
        };
        return icons[condition] || "ğŸŒ¤ï¸";
      }

      async function copyWeatherInfo() {
        var destId = document.getElementById("destination").value;
        if (!destId) return;

        var dest = destinations[destId];
        var monthData = dest.weather[selectedMonth];

        var text = dest.name + " - " + monthNames[selectedMonth] + "å¤©æ°”\n";
        text += "========================\n\n";
        text += "æ°”å€™ç±»å‹ï¼š" + dest.climate + "\n";
        text += "æ¸©åº¦èŒƒå›´ï¼š" + monthData.low + "Â°C ~ " + monthData.high + "Â°C\n";
        text += "æœˆé™æ°´é‡ï¼š" + monthData.rain + "mm\n";
        text += "å¤©æ°”çŠ¶å†µï¼š" + monthData.condition + "\n\n";

        var bestMonthsText = dest.bestMonths.map(function (m) {
          return monthNames[m];
        }).join("ã€");
        text += "æœ€ä½³æ—…è¡Œæœˆä»½ï¼š" + bestMonthsText + "\n\n";
        text += "æ—…è¡Œæç¤ºï¼š" + dest.tips + "\n\n";
        text += "å»ºè®®æºå¸¦ï¼š" + dest.packing.join("ã€");

        try {
          await navigator.clipboard.writeText(text);
          showToast("å·²å¤åˆ¶åˆ°å‰ªè´´æ¿", "success");
        } catch (e) {
          showToast("å¤åˆ¶å¤±è´¥");
        }
      }

      function saveState() {
        var state = {
          destination: document.getElementById("destination").value,
          month: document.getElementById("month").value,
        };
        localStorage.setItem("weather-planner-state", JSON.stringify(state));
      }

      function loadState() {
        var saved = localStorage.getItem("weather-planner-state");
        if (saved) {
          try {
            var state = JSON.parse(saved);
            if (state.destination) {
              document.getElementById("destination").value = state.destination;
            }
            if (state.month !== undefined) {
              document.getElementById("month").value = state.month;
              selectedMonth = parseInt(state.month);
            }
            showWeather();
          } catch (e) {
            // ignore
          }
        }
      }

      function showToast(message, type) {
        var toast = document.getElementById("toast");
        toast.textContent = message;
        toast.className = "toast show " + (type || "");
        setTimeout(function () {
          toast.className = "toast";
        }, 2000);
      }

      function toggleTheme() {
        var html = document.documentElement;
        var currentTheme = html.getAttribute("data-theme") || "dark";
        var newTheme = currentTheme === "light" ? "dark" : "light";
        html.setAttribute("data-theme", newTheme);
        localStorage.setItem("theme", newTheme);
      }

      function initTheme() {
        var savedTheme = localStorage.getItem("theme");
        var prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
        var theme = savedTheme || (prefersDark ? "dark" : "light");
        document.documentElement.setAttribute("data-theme", theme);
      }

      initTheme();
      init();
    </script>
  </body>
</html>
