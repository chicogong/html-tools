<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å·¥èµ„è®¡ç®—å™¨ - HTML Tools</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { --bg: #0a0a0f; --card: #12121a; --border: #2a2a3a; --text: #fff; --text2: #888; --accent: #8b5cf6; }
        @media (prefers-color-scheme: light) { :root { --bg: #f5f5f5; --card: #fff; --border: #e0e0e0; --text: #333; --text2: #666; } }
        body { font-family: system-ui, -apple-system, sans-serif; background: var(--bg); color: var(--text); min-height: 100vh; padding: 20px; }
        .container { max-width: 900px; margin: 0 auto; }
        h1 { text-align: center; margin-bottom: 8px; font-size: 1.8rem; }
        .subtitle { text-align: center; color: var(--text2); margin-bottom: 24px; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        @media (max-width: 768px) { .grid { grid-template-columns: 1fr; } }
        .card { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 24px; margin-bottom: 20px; }
        .card-title { font-size: 1rem; color: var(--text2); margin-bottom: 16px; }
        .form-group { margin-bottom: 16px; }
        .form-group label { display: block; margin-bottom: 6px; font-size: 0.9rem; color: var(--text2); }
        input, select { width: 100%; padding: 12px; border: 1px solid var(--border); border-radius: 8px; background: var(--bg); color: var(--text); font-size: 1rem; }
        input:focus { outline: none; border-color: var(--accent); }
        .result-hero { background: linear-gradient(135deg, var(--accent), #6366f1); padding: 32px; border-radius: 12px; text-align: center; color: white; }
        .result-hero .big { font-size: 2.5rem; font-weight: 700; }
        .result-hero .label { opacity: 0.9; margin-bottom: 8px; }
        .result-row { display: flex; justify-content: space-between; padding: 12px; background: var(--bg); border-radius: 8px; margin-bottom: 8px; }
        .result-row .label { color: var(--text2); }
        .result-row .value { font-weight: 600; }
        .deduction-item { display: flex; justify-content: space-between; padding: 8px 12px; border-bottom: 1px solid var(--border); font-size: 0.9rem; }
        .deduction-item:last-child { border-bottom: none; }
        .section-title { font-size: 0.85rem; color: var(--text2); margin: 16px 0 8px; padding-bottom: 4px; border-bottom: 1px solid var(--border); }
        .help-text { font-size: 0.8rem; color: var(--text2); margin-top: 4px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ’¼ å·¥èµ„è®¡ç®—å™¨</h1>
        <p class="subtitle">è®¡ç®—ç¨å‰ç¨åå·¥èµ„ã€äº”é™©ä¸€é‡‘æ˜ç»†</p>
        
        <div class="grid">
            <div class="card">
                <div class="card-title">å·¥èµ„ä¿¡æ¯</div>
                <div class="form-group">
                    <label>ç¨å‰æœˆè–ª (å…ƒ)</label>
                    <input type="number" id="grossSalary" value="15000" oninput="calculate()">
                </div>
                <div class="form-group">
                    <label>æ‰€åœ¨åŸå¸‚</label>
                    <select id="city" onchange="calculate()">
                        <option value="beijing">åŒ—äº¬</option>
                        <option value="shanghai">ä¸Šæµ·</option>
                        <option value="guangzhou">å¹¿å·</option>
                        <option value="shenzhen">æ·±åœ³</option>
                        <option value="hangzhou">æ­å·</option>
                        <option value="other" selected>å…¶ä»–åŸå¸‚</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>å…¬ç§¯é‡‘ç¼´å­˜æ¯”ä¾‹ (%)</label>
                    <input type="number" id="housingFundRate" value="12" min="5" max="12" oninput="calculate()">
                    <div class="help-text">ä¸€èˆ¬ä¸º 5%-12%</div>
                </div>
                <div class="form-group">
                    <label>ä¸“é¡¹é™„åŠ æ‰£é™¤ (å…ƒ/æœˆ)</label>
                    <input type="number" id="specialDeduction" value="0" oninput="calculate()">
                    <div class="help-text">å­å¥³æ•™è‚²ã€ä½æˆ¿è´·æ¬¾åˆ©æ¯ç­‰</div>
                </div>
            </div>
            
            <div>
                <div class="result-hero">
                    <div class="label">ç¨åæœˆè–ª</div>
                    <div class="big" id="netSalary">Â¥0</div>
                </div>
                
                <div class="card" style="margin-top: 20px;">
                    <div class="card-title">å·¥èµ„æ˜ç»†</div>
                    <div class="result-row">
                        <span class="label">ç¨å‰å·¥èµ„</span>
                        <span class="value" id="displayGross">Â¥0</span>
                    </div>
                    <div class="result-row">
                        <span class="label">ä¸ªäººäº”é™©ä¸€é‡‘</span>
                        <span class="value" id="personalInsurance">-Â¥0</span>
                    </div>
                    <div class="result-row">
                        <span class="label">ä¸ªäººæ‰€å¾—ç¨</span>
                        <span class="value" id="incomeTax">-Â¥0</span>
                    </div>
                    <div class="result-row" style="background: rgba(139, 92, 246, 0.1);">
                        <span class="label">å®å‘å·¥èµ„</span>
                        <span class="value" style="color: var(--accent);" id="displayNet">Â¥0</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="grid">
            <div class="card">
                <div class="card-title">ä¸ªäººç¼´çº³ï¼ˆä»å·¥èµ„æ‰£é™¤ï¼‰</div>
                <div class="deduction-item">
                    <span>å…»è€ä¿é™© (8%)</span>
                    <span id="personal_pension">Â¥0</span>
                </div>
                <div class="deduction-item">
                    <span>åŒ»ç–—ä¿é™© (2%)</span>
                    <span id="personal_medical">Â¥0</span>
                </div>
                <div class="deduction-item">
                    <span>å¤±ä¸šä¿é™© (0.5%)</span>
                    <span id="personal_unemployment">Â¥0</span>
                </div>
                <div class="deduction-item">
                    <span>ä½æˆ¿å…¬ç§¯é‡‘</span>
                    <span id="personal_housing">Â¥0</span>
                </div>
                <div class="deduction-item" style="font-weight: 600;">
                    <span>åˆè®¡</span>
                    <span id="personal_total">Â¥0</span>
                </div>
            </div>
            
            <div class="card">
                <div class="card-title">å•ä½ç¼´çº³ï¼ˆé¢å¤–æˆæœ¬ï¼‰</div>
                <div class="deduction-item">
                    <span>å…»è€ä¿é™© (16%)</span>
                    <span id="company_pension">Â¥0</span>
                </div>
                <div class="deduction-item">
                    <span>åŒ»ç–—ä¿é™© (9.5%)</span>
                    <span id="company_medical">Â¥0</span>
                </div>
                <div class="deduction-item">
                    <span>å¤±ä¸šä¿é™© (0.5%)</span>
                    <span id="company_unemployment">Â¥0</span>
                </div>
                <div class="deduction-item">
                    <span>å·¥ä¼¤ä¿é™© (0.5%)</span>
                    <span id="company_injury">Â¥0</span>
                </div>
                <div class="deduction-item">
                    <span>ç”Ÿè‚²ä¿é™© (0.8%)</span>
                    <span id="company_maternity">Â¥0</span>
                </div>
                <div class="deduction-item">
                    <span>ä½æˆ¿å…¬ç§¯é‡‘</span>
                    <span id="company_housing">Â¥0</span>
                </div>
                <div class="deduction-item" style="font-weight: 600;">
                    <span>åˆè®¡</span>
                    <span id="company_total">Â¥0</span>
                </div>
            </div>
        </div>
        
        <div class="card">
            <div class="card-title">å¹´åº¦æ±‡æ€»</div>
            <div class="result-row">
                <span class="label">å¹´ç¨å‰æ”¶å…¥</span>
                <span class="value" id="yearlyGross">Â¥0</span>
            </div>
            <div class="result-row">
                <span class="label">å¹´ç¨åæ”¶å…¥</span>
                <span class="value" id="yearlyNet">Â¥0</span>
            </div>
            <div class="result-row">
                <span class="label">å¹´ç¼´ä¸ªç¨</span>
                <span class="value" id="yearlyTax">Â¥0</span>
            </div>
            <div class="result-row">
                <span class="label">å¹´å…¬ç§¯é‡‘ï¼ˆä¸ªäºº+å•ä½ï¼‰</span>
                <span class="value" id="yearlyHousing">Â¥0</span>
            </div>
            <div class="result-row">
                <span class="label">ç”¨äººæˆæœ¬ï¼ˆå•ä½è§†è§’ï¼‰</span>
                <span class="value" id="employerCost">Â¥0</span>
            </div>
        </div>
    </div>
    
    <script>
        // äº”é™©ä¸€é‡‘ç¼´çº³æ¯”ä¾‹ï¼ˆä»¥åŒ—äº¬ä¸ºä¾‹ï¼Œå„åœ°ç•¥æœ‰ä¸åŒï¼‰
        const insuranceRates = {
            personal: {
                pension: 0.08,      // å…»è€ä¿é™©
                medical: 0.02,      // åŒ»ç–—ä¿é™©
                unemployment: 0.005 // å¤±ä¸šä¿é™©
            },
            company: {
                pension: 0.16,
                medical: 0.095,
                unemployment: 0.005,
                injury: 0.005,      // å·¥ä¼¤ä¿é™©
                maternity: 0.008   // ç”Ÿè‚²ä¿é™©
            }
        };
        
        // ä¸ªç¨ç¨ç‡è¡¨ï¼ˆæœˆåº¦ï¼‰
        const taxBrackets = [
            { min: 0, max: 3000, rate: 0.03, deduction: 0 },
            { min: 3000, max: 12000, rate: 0.10, deduction: 210 },
            { min: 12000, max: 25000, rate: 0.20, deduction: 1410 },
            { min: 25000, max: 35000, rate: 0.25, deduction: 2660 },
            { min: 35000, max: 55000, rate: 0.30, deduction: 4410 },
            { min: 55000, max: 80000, rate: 0.35, deduction: 7160 },
            { min: 80000, max: Infinity, rate: 0.45, deduction: 15160 }
        ];
        
        function calculate() {
            const gross = parseFloat(document.getElementById('grossSalary').value) || 0;
            const housingFundRate = (parseFloat(document.getElementById('housingFundRate').value) || 12) / 100;
            const specialDeduction = parseFloat(document.getElementById('specialDeduction').value) || 0;
            
            // è®¡ç®—ä¸ªäººç¼´çº³äº”é™©ä¸€é‡‘
            const personalPension = gross * insuranceRates.personal.pension;
            const personalMedical = gross * insuranceRates.personal.medical;
            const personalUnemployment = gross * insuranceRates.personal.unemployment;
            const personalHousing = gross * housingFundRate;
            const personalTotal = personalPension + personalMedical + personalUnemployment + personalHousing;
            
            // è®¡ç®—å•ä½ç¼´çº³äº”é™©ä¸€é‡‘
            const companyPension = gross * insuranceRates.company.pension;
            const companyMedical = gross * insuranceRates.company.medical;
            const companyUnemployment = gross * insuranceRates.company.unemployment;
            const companyInjury = gross * insuranceRates.company.injury;
            const companyMaternity = gross * insuranceRates.company.maternity;
            const companyHousing = gross * housingFundRate;
            const companyTotal = companyPension + companyMedical + companyUnemployment + companyInjury + companyMaternity + companyHousing;
            
            // è®¡ç®—åº”çº³ç¨æ‰€å¾—é¢
            const threshold = 5000;
            const taxableIncome = Math.max(0, gross - personalTotal - threshold - specialDeduction);
            
            // è®¡ç®—ä¸ªç¨
            let tax = 0;
            for (const bracket of taxBrackets) {
                if (taxableIncome > bracket.min && taxableIncome <= bracket.max) {
                    tax = taxableIncome * bracket.rate - bracket.deduction;
                    break;
                } else if (taxableIncome > bracket.max) {
                    continue;
                }
            }
            if (taxableIncome > 80000) {
                tax = taxableIncome * 0.45 - 15160;
            }
            tax = Math.max(0, tax);
            
            // è®¡ç®—ç¨åå·¥èµ„
            const netSalary = gross - personalTotal - tax;
            
            const fmt = (n) => 'Â¥' + n.toLocaleString('zh-CN', { minimumFractionDigits: 0, maximumFractionDigits: 0 });
            
            // æ›´æ–°æ˜¾ç¤º
            document.getElementById('netSalary').textContent = fmt(netSalary);
            document.getElementById('displayGross').textContent = fmt(gross);
            document.getElementById('personalInsurance').textContent = '-' + fmt(personalTotal);
            document.getElementById('incomeTax').textContent = '-' + fmt(tax);
            document.getElementById('displayNet').textContent = fmt(netSalary);
            
            // ä¸ªäººç¼´çº³æ˜ç»†
            document.getElementById('personal_pension').textContent = fmt(personalPension);
            document.getElementById('personal_medical').textContent = fmt(personalMedical);
            document.getElementById('personal_unemployment').textContent = fmt(personalUnemployment);
            document.getElementById('personal_housing').textContent = fmt(personalHousing);
            document.getElementById('personal_total').textContent = fmt(personalTotal);
            
            // å•ä½ç¼´çº³æ˜ç»†
            document.getElementById('company_pension').textContent = fmt(companyPension);
            document.getElementById('company_medical').textContent = fmt(companyMedical);
            document.getElementById('company_unemployment').textContent = fmt(companyUnemployment);
            document.getElementById('company_injury').textContent = fmt(companyInjury);
            document.getElementById('company_maternity').textContent = fmt(companyMaternity);
            document.getElementById('company_housing').textContent = fmt(companyHousing);
            document.getElementById('company_total').textContent = fmt(companyTotal);
            
            // å¹´åº¦æ±‡æ€»
            document.getElementById('yearlyGross').textContent = fmt(gross * 12);
            document.getElementById('yearlyNet').textContent = fmt(netSalary * 12);
            document.getElementById('yearlyTax').textContent = fmt(tax * 12);
            document.getElementById('yearlyHousing').textContent = fmt((personalHousing + companyHousing) * 12);
            document.getElementById('employerCost').textContent = fmt((gross + companyTotal) * 12);
        }
        
        calculate();
    </script>
</body>
</html>
