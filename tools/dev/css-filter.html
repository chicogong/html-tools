<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS æ»¤é•œç”Ÿæˆå™¨</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">
    <style>
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .main-grid {
            display: grid;
            grid-template-columns: 400px 1fr;
            gap: 30px;
        }
        @media (max-width: 1024px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
        }
        .controls-panel {
            padding: 20px;
            border-radius: 8px;
            background: var(--pico-card-background-color);
            max-height: calc(100vh - 150px);
            overflow-y: auto;
        }
        .control-group {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--pico-muted-border-color);
        }
        .control-group:last-child {
            border-bottom: none;
        }
        .control-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        .control-header label {
            font-weight: 600;
            margin: 0;
        }
        .control-value {
            font-family: monospace;
            background: var(--pico-code-background-color);
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 14px;
        }
        .slider-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .slider-container input[type="range"] {
            flex: 1;
            margin: 0;
        }
        .reset-btn {
            padding: 4px 8px;
            font-size: 12px;
            background: var(--pico-secondary);
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .preview-area {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        .image-preview {
            background: var(--pico-card-background-color);
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }
        .preview-image {
            max-width: 100%;
            max-height: 400px;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
        }
        .image-controls {
            margin-top: 15px;
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }
        .sample-images {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 15px;
        }
        .sample-thumb {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 8px;
            cursor: pointer;
            border: 3px solid transparent;
            transition: border-color 0.3s;
        }
        .sample-thumb:hover {
            border-color: var(--pico-primary);
        }
        .sample-thumb.active {
            border-color: var(--pico-primary);
        }
        .code-output {
            background: var(--pico-card-background-color);
            border-radius: 8px;
            padding: 20px;
        }
        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            overflow-x: auto;
            white-space: pre-wrap;
            word-break: break-all;
        }
        .copy-btn {
            margin-top: 10px;
        }
        .theme-toggle {
            cursor: pointer;
            background: none;
            border: none;
            font-size: 24px;
        }
        .presets-section {
            margin-bottom: 20px;
        }
        .presets-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 8px;
        }
        .preset-btn {
            padding: 8px 12px;
            font-size: 13px;
            border: 2px solid var(--pico-primary);
            border-radius: 6px;
            background: transparent;
            cursor: pointer;
            transition: all 0.3s;
        }
        .preset-btn:hover {
            background: var(--pico-primary);
            color: white;
        }
        .drop-shadow-controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 10px;
        }
        .drop-shadow-controls input {
            margin-bottom: 0;
        }
        .reset-all-btn {
            width: 100%;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>CSS æ»¤é•œç”Ÿæˆå™¨</h1>
            <button class="theme-toggle" onclick="toggleTheme()" title="åˆ‡æ¢ä¸»é¢˜">ğŸŒ“</button>
        </div>

        <div class="main-grid">
            <div class="controls-panel">
                <div class="presets-section">
                    <label>å¿«é€Ÿé¢„è®¾</label>
                    <div class="presets-grid">
                        <button class="preset-btn" onclick="applyPreset('grayscale')">é»‘ç™½</button>
                        <button class="preset-btn" onclick="applyPreset('sepia')">å¤å¤</button>
                        <button class="preset-btn" onclick="applyPreset('vintage')">æ€€æ—§</button>
                        <button class="preset-btn" onclick="applyPreset('cold')">å†·è‰²</button>
                        <button class="preset-btn" onclick="applyPreset('warm')">æš–è‰²</button>
                        <button class="preset-btn" onclick="applyPreset('dramatic')">æˆå‰§</button>
                        <button class="preset-btn" onclick="applyPreset('blur')">æ¨¡ç³Š</button>
                        <button class="preset-btn" onclick="applyPreset('invert')">åè‰²</button>
                    </div>
                </div>

                <div class="control-group">
                    <div class="control-header">
                        <label>æ¨¡ç³Š (blur)</label>
                        <span class="control-value" id="blurValue">0px</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="blur" min="0" max="20" value="0" step="0.5" oninput="updateFilter()">
                        <button class="reset-btn" onclick="resetFilter('blur', 0)">é‡ç½®</button>
                    </div>
                </div>

                <div class="control-group">
                    <div class="control-header">
                        <label>äº®åº¦ (brightness)</label>
                        <span class="control-value" id="brightnessValue">100%</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="brightness" min="0" max="200" value="100" oninput="updateFilter()">
                        <button class="reset-btn" onclick="resetFilter('brightness', 100)">é‡ç½®</button>
                    </div>
                </div>

                <div class="control-group">
                    <div class="control-header">
                        <label>å¯¹æ¯”åº¦ (contrast)</label>
                        <span class="control-value" id="contrastValue">100%</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="contrast" min="0" max="200" value="100" oninput="updateFilter()">
                        <button class="reset-btn" onclick="resetFilter('contrast', 100)">é‡ç½®</button>
                    </div>
                </div>

                <div class="control-group">
                    <div class="control-header">
                        <label>ç°åº¦ (grayscale)</label>
                        <span class="control-value" id="grayscaleValue">0%</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="grayscale" min="0" max="100" value="0" oninput="updateFilter()">
                        <button class="reset-btn" onclick="resetFilter('grayscale', 0)">é‡ç½®</button>
                    </div>
                </div>

                <div class="control-group">
                    <div class="control-header">
                        <label>è‰²ç›¸æ—‹è½¬ (hue-rotate)</label>
                        <span class="control-value" id="hueRotateValue">0deg</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="hueRotate" min="0" max="360" value="0" oninput="updateFilter()">
                        <button class="reset-btn" onclick="resetFilter('hueRotate', 0)">é‡ç½®</button>
                    </div>
                </div>

                <div class="control-group">
                    <div class="control-header">
                        <label>åè‰² (invert)</label>
                        <span class="control-value" id="invertValue">0%</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="invert" min="0" max="100" value="0" oninput="updateFilter()">
                        <button class="reset-btn" onclick="resetFilter('invert', 0)">é‡ç½®</button>
                    </div>
                </div>

                <div class="control-group">
                    <div class="control-header">
                        <label>é¥±å’Œåº¦ (saturate)</label>
                        <span class="control-value" id="saturateValue">100%</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="saturate" min="0" max="300" value="100" oninput="updateFilter()">
                        <button class="reset-btn" onclick="resetFilter('saturate', 100)">é‡ç½®</button>
                    </div>
                </div>

                <div class="control-group">
                    <div class="control-header">
                        <label>è¤è‰² (sepia)</label>
                        <span class="control-value" id="sepiaValue">0%</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="sepia" min="0" max="100" value="0" oninput="updateFilter()">
                        <button class="reset-btn" onclick="resetFilter('sepia', 0)">é‡ç½®</button>
                    </div>
                </div>

                <div class="control-group">
                    <div class="control-header">
                        <label>é€æ˜åº¦ (opacity)</label>
                        <span class="control-value" id="opacityValue">100%</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="opacity" min="0" max="100" value="100" oninput="updateFilter()">
                        <button class="reset-btn" onclick="resetFilter('opacity', 100)">é‡ç½®</button>
                    </div>
                </div>

                <div class="control-group">
                    <div class="control-header">
                        <label>é˜´å½± (drop-shadow)</label>
                        <input type="checkbox" id="dropShadowEnabled" onchange="updateFilter()" style="width: auto; margin: 0;">
                    </div>
                    <div class="drop-shadow-controls">
                        <div>
                            <label style="font-size: 12px;">Xåç§»</label>
                            <input type="number" id="shadowX" value="5" oninput="updateFilter()">
                        </div>
                        <div>
                            <label style="font-size: 12px;">Yåç§»</label>
                            <input type="number" id="shadowY" value="5" oninput="updateFilter()">
                        </div>
                        <div>
                            <label style="font-size: 12px;">æ¨¡ç³Š</label>
                            <input type="number" id="shadowBlur" value="10" min="0" oninput="updateFilter()">
                        </div>
                        <div>
                            <label style="font-size: 12px;">é¢œè‰²</label>
                            <input type="color" id="shadowColor" value="#000000" oninput="updateFilter()">
                        </div>
                    </div>
                </div>

                <button class="reset-all-btn" onclick="resetAll()">é‡ç½®æ‰€æœ‰æ»¤é•œ</button>
            </div>

            <div class="preview-area">
                <div class="image-preview">
                    <h3>é¢„è§ˆ</h3>
                    <img id="previewImage" class="preview-image" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='300' viewBox='0 0 400 300'%3E%3Cdefs%3E%3ClinearGradient id='grad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%234facfe'/%3E%3Cstop offset='100%25' style='stop-color:%2300f2fe'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23grad)' width='400' height='300'/%3E%3Ccircle cx='100' cy='80' r='40' fill='%23ffd93d'/%3E%3Cellipse cx='200' cy='220' rx='150' ry='60' fill='%234ade80'/%3E%3Crect x='250' y='100' width='100' height='80' rx='10' fill='%23f472b6'/%3E%3Cpolygon points='50,250 100,150 150,250' fill='%238b5cf6'/%3E%3C/svg%3E" alt="é¢„è§ˆå›¾ç‰‡">
                    
                    <div class="image-controls">
                        <input type="file" id="imageInput" accept="image/*" style="display: none;" onchange="loadImage(event)">
                        <button onclick="document.getElementById('imageInput').click()">ä¸Šä¼ å›¾ç‰‡</button>
                        <button onclick="loadSampleImage(1)">ç¤ºä¾‹å›¾1</button>
                        <button onclick="loadSampleImage(2)">ç¤ºä¾‹å›¾2</button>
                        <button onclick="loadSampleImage(3)">ç¤ºä¾‹å›¾3</button>
                    </div>
                </div>

                <div class="code-output">
                    <h3>CSS ä»£ç </h3>
                    <div class="code-block" id="codeOutput"></div>
                    <button class="copy-btn" onclick="copyCode()">å¤åˆ¶ä»£ç </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const filterDefaults = {
            blur: 0,
            brightness: 100,
            contrast: 100,
            grayscale: 0,
            hueRotate: 0,
            invert: 0,
            saturate: 100,
            sepia: 0,
            opacity: 100
        };

        const sampleImages = {
            1: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='300'%3E%3Cdefs%3E%3ClinearGradient id='sky' x1='0%25' y1='0%25' x2='0%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%2387CEEB'/%3E%3Cstop offset='100%25' style='stop-color:%23E0F6FF'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23sky)' width='400' height='300'/%3E%3Ccircle cx='320' cy='60' r='35' fill='%23FFD700'/%3E%3Cellipse cx='200' cy='280' rx='250' ry='80' fill='%2390EE90'/%3E%3Crect x='80' y='150' width='60' height='100' fill='%238B4513'/%3E%3Cpolygon points='110,150 60,100 160,100' fill='%23228B22'/%3E%3Crect x='260' y='180' width='50' height='70' fill='%238B4513'/%3E%3Cpolygon points='285,180 245,140 325,140' fill='%23228B22'/%3E%3C/svg%3E",
            2: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='300'%3E%3Crect fill='%231a1a2e' width='400' height='300'/%3E%3Ccircle cx='200' cy='150' r='80' fill='%23e94560'/%3E%3Ccircle cx='200' cy='150' r='60' fill='%230f3460'/%3E%3Ccircle cx='200' cy='150' r='40' fill='%23e94560'/%3E%3Ccircle cx='200' cy='150' r='20' fill='%2316213e'/%3E%3Ccircle cx='50' cy='50' r='3' fill='white'/%3E%3Ccircle cx='150' cy='30' r='2' fill='white'/%3E%3Ccircle cx='300' cy='60' r='3' fill='white'/%3E%3Ccircle cx='350' cy='120' r='2' fill='white'/%3E%3Ccircle cx='80' cy='200' r='2' fill='white'/%3E%3Ccircle cx='320' cy='250' r='3' fill='white'/%3E%3C/svg%3E",
            3: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='300'%3E%3Cdefs%3E%3ClinearGradient id='sunset' x1='0%25' y1='0%25' x2='0%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23ff6b6b'/%3E%3Cstop offset='50%25' style='stop-color:%23feca57'/%3E%3Cstop offset='100%25' style='stop-color:%23ff9ff3'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23sunset)' width='400' height='300'/%3E%3Cellipse cx='200' cy='320' rx='250' ry='100' fill='%232d3436'/%3E%3Crect x='150' y='180' width='8' height='70' fill='%232d3436'/%3E%3Cellipse cx='154' cy='170' rx='25' ry='35' fill='%2300b894'/%3E%3Crect x='250' y='200' width='6' height='50' fill='%232d3436'/%3E%3Cellipse cx='253' cy='195' rx='18' ry='25' fill='%2300b894'/%3E%3Ccircle cx='320' cy='80' r='30' fill='%23ffeaa7' opacity='0.9'/%3E%3C/svg%3E"
        };

        function updateFilter() {
            const blur = document.getElementById('blur').value;
            const brightness = document.getElementById('brightness').value;
            const contrast = document.getElementById('contrast').value;
            const grayscale = document.getElementById('grayscale').value;
            const hueRotate = document.getElementById('hueRotate').value;
            const invert = document.getElementById('invert').value;
            const saturate = document.getElementById('saturate').value;
            const sepia = document.getElementById('sepia').value;
            const opacity = document.getElementById('opacity').value;
            const dropShadowEnabled = document.getElementById('dropShadowEnabled').checked;
            
            document.getElementById('blurValue').textContent = blur + 'px';
            document.getElementById('brightnessValue').textContent = brightness + '%';
            document.getElementById('contrastValue').textContent = contrast + '%';
            document.getElementById('grayscaleValue').textContent = grayscale + '%';
            document.getElementById('hueRotateValue').textContent = hueRotate + 'deg';
            document.getElementById('invertValue').textContent = invert + '%';
            document.getElementById('saturateValue').textContent = saturate + '%';
            document.getElementById('sepiaValue').textContent = sepia + '%';
            document.getElementById('opacityValue').textContent = opacity + '%';
            
            let filterParts = [];
            if (blur != 0) filterParts.push('blur(' + blur + 'px)');
            if (brightness != 100) filterParts.push('brightness(' + brightness + '%)');
            if (contrast != 100) filterParts.push('contrast(' + contrast + '%)');
            if (grayscale != 0) filterParts.push('grayscale(' + grayscale + '%)');
            if (hueRotate != 0) filterParts.push('hue-rotate(' + hueRotate + 'deg)');
            if (invert != 0) filterParts.push('invert(' + invert + '%)');
            if (saturate != 100) filterParts.push('saturate(' + saturate + '%)');
            if (sepia != 0) filterParts.push('sepia(' + sepia + '%)');
            if (opacity != 100) filterParts.push('opacity(' + opacity + '%)');
            
            if (dropShadowEnabled) {
                const shadowX = document.getElementById('shadowX').value;
                const shadowY = document.getElementById('shadowY').value;
                const shadowBlur = document.getElementById('shadowBlur').value;
                const shadowColor = document.getElementById('shadowColor').value;
                filterParts.push('drop-shadow(' + shadowX + 'px ' + shadowY + 'px ' + shadowBlur + 'px ' + shadowColor + ')');
            }
            
            const filterValue = filterParts.length > 0 ? filterParts.join(' ') : 'none';
            document.getElementById('previewImage').style.filter = filterValue;
            
            generateCode(filterParts);
        }

        function generateCode(filterParts) {
            let css = '.element {\n';
            if (filterParts.length > 0) {
                css += '  filter: ' + filterParts.join('\n         ') + ';\n';
            } else {
                css += '  filter: none;\n';
            }
            css += '}';
            document.getElementById('codeOutput').textContent = css;
        }

        function resetFilter(id, defaultValue) {
            document.getElementById(id).value = defaultValue;
            updateFilter();
        }

        function resetAll() {
            Object.keys(filterDefaults).forEach(key => {
                document.getElementById(key).value = filterDefaults[key];
            });
            document.getElementById('dropShadowEnabled').checked = false;
            document.getElementById('shadowX').value = 5;
            document.getElementById('shadowY').value = 5;
            document.getElementById('shadowBlur').value = 10;
            document.getElementById('shadowColor').value = '#000000';
            updateFilter();
        }

        function applyPreset(preset) {
            resetAll();
            switch(preset) {
                case 'grayscale':
                    document.getElementById('grayscale').value = 100;
                    break;
                case 'sepia':
                    document.getElementById('sepia').value = 100;
                    break;
                case 'vintage':
                    document.getElementById('sepia').value = 50;
                    document.getElementById('contrast').value = 120;
                    document.getElementById('brightness').value = 90;
                    break;
                case 'cold':
                    document.getElementById('hueRotate').value = 180;
                    document.getElementById('saturate').value = 80;
                    break;
                case 'warm':
                    document.getElementById('hueRotate').value = 30;
                    document.getElementById('saturate').value = 130;
                    break;
                case 'dramatic':
                    document.getElementById('contrast').value = 150;
                    document.getElementById('brightness').value = 110;
                    document.getElementById('saturate').value = 130;
                    break;
                case 'blur':
                    document.getElementById('blur').value = 5;
                    break;
                case 'invert':
                    document.getElementById('invert').value = 100;
                    break;
            }
            updateFilter();
        }

        function loadImage(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('previewImage').src = e.target.result;
                };
                reader.readAsDataURL(file);
            }
        }

        function loadSampleImage(num) {
            document.getElementById('previewImage').src = sampleImages[num];
        }

        function copyCode() {
            const code = document.getElementById('codeOutput').textContent;
            navigator.clipboard.writeText(code).then(() => {
                const btn = document.querySelector('.copy-btn');
                btn.textContent = 'å·²å¤åˆ¶!';
                setTimeout(() => {
                    btn.textContent = 'å¤åˆ¶ä»£ç ';
                }, 2000);
            });
        }

        function toggleTheme() {
            const html = document.documentElement;
            const currentTheme = html.getAttribute('data-theme');
            html.setAttribute('data-theme', currentTheme === 'light' ? 'dark' : 'light');
        }

        updateFilter();
    </script>
</body>
</html>
