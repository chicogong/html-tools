<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Favicon Ê£ÄÊµãÂô® - WebUtils</title>
    <!-- SEO Meta Tags -->
    <meta name="description" content="Favicon Ê£ÄÊµãÂô® - WebUtils" />
    <meta name="keywords" content="favicon-checker,dev,tools,webutils" />
    <meta name="author" content="WebUtils" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://tools.realtime-ai.chat/tools/dev/favicon-checker.html" />

    <!-- Open Graph -->
    <meta property="og:title" content="Favicon Ê£ÄÊµãÂô® - WebUtils" />
    <meta property="og:description" content="Favicon Ê£ÄÊµãÂô® - WebUtils" />
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://tools.realtime-ai.chat/tools/dev/favicon-checker.html"
    />
    <meta property="og:site_name" content="WebUtils" />
    <meta property="og:locale" content="zh_CN" />
    <meta property="og:image" content="https://tools.realtime-ai.chat/social-preview.png" />
    <meta property="og:image:width" content="1280" />
    <meta property="og:image:height" content="640" />
    <meta property="og:image:type" content="image/png" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Favicon Ê£ÄÊµãÂô® - WebUtils" />
    <meta name="twitter:description" content="Favicon Ê£ÄÊµãÂô® - WebUtils" />
    <meta name="twitter:image" content="https://tools.realtime-ai.chat/social-preview.png" />

    <meta name="description" content="Ê£ÄÊµãÁΩëÁ´ôÁöÑFaviconÂõæÊ†áÔºåÊîØÊåÅÂ§öÁßçÊ†ºÂºèÊ£ÄÊµãÂíåÈ¢ÑËßà" />
    <meta name="keywords" content="favicon,ÁΩëÁ´ôÂõæÊ†á,ÂõæÊ†áÊ£ÄÊµã,ico,png,svg" />
    <style>
      :root {
        --bg-deep: #0a0a0f;
        --bg-surface: #12121a;
        --bg-card: #1a1a24;
        --bg-input: #0e0e14;
        --text-primary: #e8e8ed;
        --text-secondary: #8888a0;
        --text-muted: #55556a;
        --border-subtle: #2a2a3a;
        --border-strong: #3a3a4a;
        --accent-cyan: #00f5d4;
        --accent-green: #10b981;
        --accent-red: #f43f5e;
        --accent-yellow: #fbbf24;
        --accent-purple: #a855f7;
        --glow-cyan: rgb(0, 245, 212, 0.15);
        --glow-green: rgb(16, 185, 129, 0.15);
        --glow-red: rgb(244, 63, 94, 0.15);
        --radius-sm: 4px;
        --radius-md: 8px;
        --radius-lg: 12px;
      }

      [data-theme="light"] {
        --bg-deep: #fafafa;
        --bg-surface: #fff;
        --bg-card: #fff;
        --bg-input: #f5f5f5;
        --bg-hover: #f5f5f5;
        --text-primary: #1a1a1a;
        --text-secondary: #666;
        --text-muted: #999;
        --border-subtle: #e5e5e5;
        --border-strong: #d5d5d5;
      }

      :root {
        --bg-color: #1a1a2e;
        --container-bg: #16213e;
        --text-color: #eee;
        --border-color: #0f3460;
        --primary-color: #00d9ff;
        --secondary-color: #e94560;
        --hover-color: #00b8d4;
        --input-bg: #0f3460;
        --success-color: #10b981;
        --warning-color: #f59e0b;
        --error-color: #ef4444;
        --shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      }

      [data-theme="light"] {
        --bg-color: #f0f4f8;
        --container-bg: #fff;
        --text-color: #333;
        --border-color: #d1d5db;
        --primary-color: #0284c7;
        --secondary-color: #dc2626;
        --hover-color: #0369a1;
        --input-bg: #f8fafc;
        --shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        background-color: var(--bg-color);
        color: var(--text-color);
        min-height: 100vh;
        padding: 20px;
        transition: all 0.3s ease;
      }

      .container {
        max-width: 900px;
        margin: 0 auto;
      }

      header {
        text-align: center;
        margin-bottom: 30px;
      }

      h1 {
        font-size: 2rem;
        margin-bottom: 10px;
        background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .subtitle {
        color: var(--text-color);
        opacity: 0.7;
      }

      .theme-toggle {
        position: fixed;
        top: 20px;
        right: 20px;
        background: var(--container-bg);
        border: 1px solid var(--border-color);
        color: var(--text-color);
        padding: 10px 15px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1.2rem;
        transition: all 0.3s ease;
        z-index: 1000;
      }

      .theme-toggle:hover {
        border-color: var(--primary-color);
      }

      .panel {
        background: var(--container-bg);
        border-radius: 12px;
        padding: 25px;
        margin-bottom: 20px;
        box-shadow: var(--shadow);
        border: 1px solid var(--border-color);
      }

      .panel-title {
        font-size: 1.1rem;
        font-weight: 600;
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 1px solid var(--border-color);
      }

      .input-group {
        display: flex;
        gap: 10px;
        margin-bottom: 15px;
      }

      .input-group input {
        flex: 1;
        padding: 14px 18px;
        background: var(--input-bg);
        border: 1px solid var(--border-color);
        border-radius: 8px;
        color: var(--text-color);
        font-size: 1rem;
        transition: all 0.3s ease;
      }

      .input-group input:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px rgba(0, 217, 255, 0.1);
      }

      .btn {
        padding: 14px 28px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1rem;
        font-weight: 500;
        transition: all 0.3s ease;
        display: inline-flex;
        align-items: center;
        gap: 8px;
      }

      .btn-primary {
        background: linear-gradient(135deg, var(--primary-color), var(--hover-color));
        color: white;
      }

      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 15px rgba(0, 217, 255, 0.3);
      }

      .btn-primary:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
      }

      .info-box {
        padding: 15px;
        background: rgba(0, 217, 255, 0.1);
        border: 1px solid var(--primary-color);
        border-radius: 8px;
        font-size: 0.9rem;
        line-height: 1.6;
      }

      .info-box code {
        background: var(--input-bg);
        padding: 2px 6px;
        border-radius: 4px;
        font-family: Monaco, Menlo, monospace;
      }

      .results {
        display: none;
      }

      .results.show {
        display: block;
      }

      .site-info {
        display: flex;
        align-items: center;
        gap: 15px;
        padding: 15px;
        background: var(--input-bg);
        border-radius: 8px;
        margin-bottom: 20px;
      }

      .site-favicon {
        width: 48px;
        height: 48px;
        border-radius: 8px;
        object-fit: contain;
        background: white;
        padding: 4px;
      }

      .site-details h3 {
        font-size: 1rem;
        margin-bottom: 4px;
      }

      .site-details .url {
        font-size: 0.85rem;
        opacity: 0.7;
        word-break: break-all;
      }

      .favicon-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 15px;
      }

      .favicon-card {
        background: var(--input-bg);
        border: 1px solid var(--border-color);
        border-radius: 10px;
        padding: 15px;
        text-align: center;
        transition: all 0.3s ease;
      }

      .favicon-card:hover {
        border-color: var(--primary-color);
        transform: translateY(-2px);
      }

      .favicon-card.found {
        border-color: var(--success-color);
      }

      .favicon-card.not-found {
        opacity: 0.5;
      }

      .favicon-preview {
        width: 64px;
        height: 64px;
        margin: 0 auto 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: white;
        border-radius: 8px;
        padding: 8px;
      }

      .favicon-preview img {
        max-width: 100%;
        max-height: 100%;
        object-fit: contain;
      }

      .favicon-preview .placeholder {
        color: #999;
        font-size: 0.8rem;
      }

      .favicon-type {
        font-weight: 600;
        margin-bottom: 4px;
        font-size: 0.9rem;
      }

      .favicon-size {
        font-size: 0.8rem;
        opacity: 0.7;
        margin-bottom: 8px;
      }

      .favicon-status {
        display: inline-block;
        padding: 4px 10px;
        border-radius: 20px;
        font-size: 0.75rem;
        font-weight: 500;
      }

      .status-found {
        background: rgba(16, 185, 129, 0.2);
        color: var(--success-color);
      }

      .status-not-found {
        background: rgba(239, 68, 68, 0.2);
        color: var(--error-color);
      }

      .favicon-url {
        margin-top: 10px;
        font-size: 0.75rem;
        word-break: break-all;
        opacity: 0.7;
        max-height: 40px;
        overflow: hidden;
      }

      .download-btn {
        margin-top: 10px;
        padding: 6px 12px;
        background: var(--primary-color);
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 0.8rem;
        transition: all 0.3s ease;
      }

      .download-btn:hover {
        background: var(--hover-color);
      }

      .loading {
        text-align: center;
        padding: 40px;
      }

      .spinner {
        width: 40px;
        height: 40px;
        border: 3px solid var(--border-color);
        border-top-color: var(--primary-color);
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin: 0 auto 15px;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      .error-message {
        padding: 20px;
        background: rgba(239, 68, 68, 0.1);
        border: 1px solid var(--error-color);
        border-radius: 8px;
        color: var(--error-color);
        text-align: center;
      }

      .summary {
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
        margin-bottom: 20px;
      }

      .summary-item {
        padding: 12px 20px;
        background: var(--input-bg);
        border-radius: 8px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .summary-value {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--primary-color);
      }

      .summary-label {
        font-size: 0.85rem;
        opacity: 0.7;
      }

      .toast {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: var(--primary-color);
        color: white;
        padding: 12px 25px;
        border-radius: 8px;
        font-weight: 500;
        transform: translateY(100px);
        opacity: 0;
        transition: all 0.3s ease;
        z-index: 1000;
      }

      .toast.show {
        transform: translateY(0);
        opacity: 1;
      }

      @media (max-width: 768px) {
        .input-group {
          flex-direction: column;
        }

        .favicon-grid {
          grid-template-columns: repeat(2, 1fr);
        }
      }

      .breadcrumb {
        background: rgba(255, 255, 255, 0.95);
        padding: 8px 15px;
        border-radius: 20px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        font-size: 0.85rem;
      }
      .breadcrumb a {
        color: #667eea;
        text-decoration: none;
      }
      .breadcrumb a:hover {
        text-decoration: underline;
      }
      .breadcrumb span {
        color: #999;
        margin: 0 5px;
      }
    </style>
  </head>
  <body>
    <nav class="breadcrumb">
      <a href="../../index.html">È¶ñÈ°µ</a>
      <span>‚Ä∫</span>
      Favicon Ê£ÄÊµãÂô®
    </nav>
    <button class="theme-toggle" onclick="toggleTheme()">üåì</button>

    <div class="container">
      <header>
        <h1>Favicon Ê£ÄÊµãÂô®</h1>
        <p class="subtitle">Ê£ÄÊµãÁΩëÁ´ôÁöÑ Favicon ÂõæÊ†á</p>
      </header>

      <div class="panel">
        <h2 class="panel-title">ËæìÂÖ•ÁΩëÁ´ôÂú∞ÂùÄ</h2>
        <div class="input-group">
          <input
            type="url"
            id="urlInput"
            placeholder="ËæìÂÖ•ÁΩëÁ´ôURLÔºåÂ¶Ç https://example.com"
            onkeypress="if (event.key === 'Enter') checkFavicon();"
          />
          <button class="btn btn-primary" id="checkBtn" onclick="checkFavicon()">
            <span>üîç</span>
            Ê£ÄÊµã
          </button>
        </div>
        <div class="info-box">
          <strong>ËØ¥ÊòéÔºö</strong>
          Áî±‰∫éÊµèËßàÂô®ÂÆâÂÖ®ÈôêÂà∂ÔºåÊú¨Â∑•ÂÖ∑‰ΩøÁî® Google Favicon ÊúçÂä°ÂíåÂ∏∏ËßÅË∑ØÂæÑÁåúÊµãÊù•Ê£ÄÊµãÁΩëÁ´ôÂõæÊ†á„ÄÇ
          ÊîØÊåÅÊ£ÄÊµãÁöÑÊ†ºÂºèÂåÖÊã¨Ôºö
          <code>favicon.ico</code>
          „ÄÅ
          <code>favicon.png</code>
          „ÄÅ
          <code>apple-touch-icon.png</code>
          Á≠â„ÄÇ
        </div>
      </div>

      <div class="panel results" id="results">
        <h2 class="panel-title">Ê£ÄÊµãÁªìÊûú</h2>

        <div class="loading" id="loading">
          <div class="spinner"></div>
          <p>Ê≠£Âú®Ê£ÄÊµã Favicon...</p>
        </div>

        <div id="resultContent" style="display: none">
          <div class="site-info" id="siteInfo">
            <img class="site-favicon" id="mainFavicon" src="data:," alt="Favicon" />
            <div class="site-details">
              <h3 id="siteDomain">example.com</h3>
              <p class="url" id="siteUrl">https://example.com</p>
            </div>
          </div>

          <div class="summary" id="summary">
            <div class="summary-item">
              <span class="summary-value" id="foundCount">0</span>
              <span class="summary-label">Ê£ÄÊµãÂà∞</span>
            </div>
            <div class="summary-item">
              <span class="summary-value" id="totalCount">0</span>
              <span class="summary-label">ÊÄªÊ£ÄÊµãÊï∞</span>
            </div>
          </div>

          <div class="favicon-grid" id="faviconGrid"></div>
        </div>

        <div class="error-message" id="errorMessage" style="display: none"></div>
      </div>
    </div>

    <div class="toast" id="toast"></div>

    <script>
      // Theme toggle
      window.toggleTheme = function () {
        const html = document.documentElement;
        const currentTheme = html.getAttribute("data-theme");
        const newTheme = currentTheme === "light" ? "dark" : "light";
        html.setAttribute("data-theme", newTheme);
        localStorage.setItem("theme", newTheme);
      };

      // Initialize theme
      (function initTheme() {
        const savedTheme = localStorage.getItem("theme") || "dark";
        document.documentElement.setAttribute("data-theme", savedTheme);
      })();

      // Favicon paths to check
      const faviconPaths = [
        { path: "/favicon.ico", type: "ICO", desc: "Ê†áÂáÜÂõæÊ†á" },
        { path: "/favicon.png", type: "PNG", desc: "PNGÊ†ºÂºè" },
        { path: "/favicon-32x32.png", type: "PNG 32x32", desc: "32ÂÉèÁ¥†" },
        { path: "/favicon-16x16.png", type: "PNG 16x16", desc: "16ÂÉèÁ¥†" },
        { path: "/apple-touch-icon.png", type: "Apple Touch", desc: "iOSÂõæÊ†á" },
        { path: "/apple-touch-icon-precomposed.png", type: "Apple Precomposed", desc: "iOSÈ¢ÑÂ§ÑÁêÜ" },
        { path: "/icon-192x192.png", type: "PWA 192", desc: "PWAÂõæÊ†á" },
        { path: "/icon-512x512.png", type: "PWA 512", desc: "PWAÂ§ßÂõæÊ†á" },
        { path: "/mstile-150x150.png", type: "MS Tile", desc: "WindowsÁ£ÅË¥¥" }
      ];

      window.checkFavicon = async function () {
        const urlInput = document.getElementById("urlInput");
        let url = urlInput.value.trim();

        if (!url) {
          showToast("ËØ∑ËæìÂÖ•ÁΩëÁ´ôURL");
          return;
        }

        // Add protocol if missing
        if (!url.startsWith("http://") && !url.startsWith("https://")) {
          url = "https://" + url;
        }

        try {
          new URL(url);
        } catch (e) {
          showToast("ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑURL");
          return;
        }

        const resultsPanel = document.getElementById("results");
        const loading = document.getElementById("loading");
        const resultContent = document.getElementById("resultContent");
        const errorMessage = document.getElementById("errorMessage");
        const checkBtn = document.getElementById("checkBtn");

        resultsPanel.classList.add("show");
        loading.style.display = "block";
        resultContent.style.display = "none";
        errorMessage.style.display = "none";
        checkBtn.disabled = true;

        try {
          const urlObj = new URL(url);
          const baseUrl = `${urlObj.protocol}//${urlObj.hostname}`;
          const domain = urlObj.hostname;

          // Update site info
          document.getElementById("siteDomain").textContent = domain;
          document.getElementById("siteUrl").textContent = baseUrl;

          // Get main favicon from Google service
          const googleFaviconUrl = `https://www.google.com/s2/favicons?domain=${domain}&sz=64`;
          document.getElementById("mainFavicon").src = googleFaviconUrl;

          // Check all favicon paths
          const results = await Promise.all(
            faviconPaths.map((item) => checkFaviconPath(baseUrl, item))
          );

          // Count found favicons
          const foundCount = results.filter((r) => r.found).length;
          document.getElementById("foundCount").textContent = foundCount;
          document.getElementById("totalCount").textContent = results.length;

          // Render grid
          renderFaviconGrid(results, baseUrl);

          loading.style.display = "none";
          resultContent.style.display = "block";
        } catch (error) {
          loading.style.display = "none";
          errorMessage.style.display = "block";
          errorMessage.textContent = `Ê£ÄÊµãÂ§±Ë¥•: ${error.message}`;
        }

        checkBtn.disabled = false;
      };

      async function checkFaviconPath(baseUrl, item) {
        const fullUrl = baseUrl + item.path;

        return new Promise((resolve) => {
          const img = new Image();
          img.onload = () => {
            resolve({
              ...item,
              url: fullUrl,
              found: true,
              width: img.naturalWidth,
              height: img.naturalHeight
            });
          };
          img.onerror = () => {
            resolve({
              ...item,
              url: fullUrl,
              found: false
            });
          };
          img.src = fullUrl;
        });
      }

      function renderFaviconGrid(results, baseUrl) {
        const grid = document.getElementById("faviconGrid");
        grid.innerHTML = "";

        // Add Google favicon service result first
        const domain = new URL(baseUrl).hostname;
        const googleCard = createFaviconCard({
          type: "Google Service",
          desc: "Ë∞∑Ê≠åÂõæÊ†áÊúçÂä°",
          url: `https://www.google.com/s2/favicons?domain=${domain}&sz=64`,
          found: true,
          width: 64,
          height: 64
        });
        grid.appendChild(googleCard);

        // Add other results
        results.forEach((result) => {
          const card = createFaviconCard(result);
          grid.appendChild(card);
        });
      }

      function createFaviconCard(result) {
        const card = document.createElement("div");
        card.className = `favicon-card ${result.found ? "found" : "not-found"}`;

        const preview = document.createElement("div");
        preview.className = "favicon-preview";

        if (result.found) {
          const img = document.createElement("img");
          img.src = result.url;
          img.alt = result.type;
          img.onerror = () => {
            preview.innerHTML = '<span class="placeholder">Âä†ËΩΩÂ§±Ë¥•</span>';
          };
          preview.appendChild(img);
        } else {
          preview.innerHTML = '<span class="placeholder">Êú™ÊâæÂà∞</span>';
        }

        const type = document.createElement("div");
        type.className = "favicon-type";
        type.textContent = result.type;

        const size = document.createElement("div");
        size.className = "favicon-size";
        size.textContent =
          result.found && result.width ? `${result.width} x ${result.height}` : result.desc;

        const status = document.createElement("span");
        status.className = `favicon-status ${result.found ? "status-found" : "status-not-found"}`;
        status.textContent = result.found ? "Â∑≤ÊâæÂà∞" : "Êú™ÊâæÂà∞";

        card.appendChild(preview);
        card.appendChild(type);
        card.appendChild(size);
        card.appendChild(status);

        if (result.found) {
          const urlDiv = document.createElement("div");
          urlDiv.className = "favicon-url";
          urlDiv.textContent = result.url;
          urlDiv.title = result.url;
          card.appendChild(urlDiv);

          const downloadBtn = document.createElement("button");
          downloadBtn.className = "download-btn";
          downloadBtn.textContent = "‰∏ãËΩΩ";
          downloadBtn.onclick = (e) => {
            e.stopPropagation();
            downloadFavicon(result.url, result.type);
          };
          card.appendChild(downloadBtn);

          card.onclick = () => {
            navigator.clipboard.writeText(result.url).then(() => {
              showToast("URLÂ∑≤Â§çÂà∂");
            });
          };
          card.style.cursor = "pointer";
          card.title = "ÁÇπÂáªÂ§çÂà∂URL";
        }

        return card;
      }

      async function downloadFavicon(url, type) {
        try {
          // For cross-origin images, we need to use a proxy or just open in new tab
          window.open(url, "_blank");
          showToast("Â∑≤Âú®Êñ∞Ê†áÁ≠æÈ°µÊâìÂºÄ");
        } catch (error) {
          showToast("‰∏ãËΩΩÂ§±Ë¥•");
        }
      }

      function showToast(message) {
        const toast = document.getElementById("toast");
        toast.textContent = message;
        toast.classList.add("show");
        setTimeout(() => toast.classList.remove("show"), 2000);
      }
    </script>
  </body>
</html>
