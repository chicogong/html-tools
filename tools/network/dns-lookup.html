<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DNS Êü•ËØ¢Â∑•ÂÖ∑ - WebUtils</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { --bg-primary: #0a0a0f; --bg-secondary: #12121a; --bg-tertiary: #1a1a25; --text-primary: #fff; --text-secondary: #88a; --accent: #6366f1; --border: #2a2a3a; --success: #22c55e; }
        [data-theme="light"] { --bg-primary: #f8fafc; --bg-secondary: #fff; --bg-tertiary: #f1f5f9; --text-primary: #1e293b; --text-secondary: #64748b; --border: #e2e8f0; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: var(--bg-primary); color: var(--text-primary); min-height: 100vh; }
        .header { background: linear-gradient(135deg, #10b981, #059669); padding: 2rem; text-align: center; }
        .header h1 { font-size: 1.8rem; margin-bottom: 0.5rem; }
        .nav { display: flex; justify-content: space-between; max-width: 1200px; margin: 0 auto 1rem; }
        .back-link { color: rgba(255,255,255,0.9); text-decoration: none; }
        .theme-toggle { background: rgba(255,255,255,0.2); border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; color: white; cursor: pointer; }
        .container { max-width: 900px; margin: 0 auto; padding: 2rem; }
        .card { background: var(--bg-secondary); border: 1px solid var(--border); border-radius: 1rem; padding: 1.5rem; margin-bottom: 1.5rem; }
        .search-row { display: flex; gap: 0.75rem; margin-bottom: 1rem; }
        .search-row input { flex: 1; padding: 0.75rem 1rem; border: 1px solid var(--border); border-radius: 0.5rem; background: var(--bg-tertiary); color: var(--text-primary); font-size: 1rem; }
        .search-row select { width: 120px; padding: 0.75rem; border: 1px solid var(--border); border-radius: 0.5rem; background: var(--bg-tertiary); color: var(--text-primary); }
        .search-row button { padding: 0.75rem 1.5rem; background: var(--accent); color: white; border: none; border-radius: 0.5rem; cursor: pointer; }
        .quick-domains { display: flex; flex-wrap: wrap; gap: 0.5rem; margin-bottom: 1rem; }
        .quick-btn { padding: 0.375rem 0.75rem; background: var(--bg-tertiary); border: 1px solid var(--border); border-radius: 0.375rem; color: var(--text-primary); cursor: pointer; font-size: 0.85rem; }
        .quick-btn:hover { border-color: var(--accent); }
        .result-section { margin-top: 1rem; }
        .result-section h3 { font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 0.5rem; display: flex; align-items: center; gap: 0.5rem; }
        .result-section h3 .badge { background: var(--accent); color: white; padding: 0.125rem 0.5rem; border-radius: 0.25rem; font-size: 0.75rem; }
        .records { background: var(--bg-tertiary); border-radius: 0.5rem; overflow: hidden; }
        .record { display: flex; justify-content: space-between; padding: 0.75rem 1rem; border-bottom: 1px solid var(--border); font-family: monospace; font-size: 0.9rem; }
        .record:last-child { border-bottom: none; }
        .record .type { color: var(--accent); min-width: 60px; }
        .record .value { flex: 1; word-break: break-all; }
        .record .ttl { color: var(--text-secondary); min-width: 80px; text-align: right; }
        .loading { text-align: center; padding: 2rem; color: var(--text-secondary); }
        .error { padding: 1rem; background: rgba(239, 68, 68, 0.1); color: #ef4444; border-radius: 0.5rem; text-align: center; }
        .hidden { display: none; }
    </style>
</head>
<body>
    <div class="header">
        <div class="nav">
            <a href="../../index.html" class="back-link">‚Üê ËøîÂõûÈ¶ñÈ°µ</a>
            <button class="theme-toggle" onclick="toggleTheme()">üåì ‰∏ªÈ¢ò</button>
        </div>
        <h1>üîç DNS Êü•ËØ¢Â∑•ÂÖ∑</h1>
        <p>Êü•ËØ¢ÂüüÂêçÁöÑ DNS ËÆ∞ÂΩï</p>
    </div>
    <div class="container">
        <div class="card">
            <div class="search-row">
                <input type="text" id="domain" placeholder="ËæìÂÖ•ÂüüÂêç (Â¶Ç: example.com)" value="google.com">
                <select id="recordType">
                    <option value="A">A</option>
                    <option value="AAAA">AAAA</option>
                    <option value="CNAME">CNAME</option>
                    <option value="MX">MX</option>
                    <option value="TXT">TXT</option>
                    <option value="NS">NS</option>
                    <option value="SOA">SOA</option>
                    <option value="ALL" selected>ÂÖ®ÈÉ®</option>
                </select>
                <button onclick="lookup()">Êü•ËØ¢</button>
            </div>
            <div class="quick-domains">
                <span style="color: var(--text-secondary); font-size: 0.85rem;">Âø´ÈÄüÊü•ËØ¢:</span>
                <button class="quick-btn" onclick="setDomain('google.com')">google.com</button>
                <button class="quick-btn" onclick="setDomain('github.com')">github.com</button>
                <button class="quick-btn" onclick="setDomain('cloudflare.com')">cloudflare.com</button>
                <button class="quick-btn" onclick="setDomain('baidu.com')">baidu.com</button>
            </div>
        </div>
        
        <div class="card hidden" id="resultCard">
            <div class="loading" id="loading">Êü•ËØ¢‰∏≠...</div>
            <div class="error hidden" id="error"></div>
            <div id="results"></div>
        </div>
    </div>
    <script>
        window.setDomain = function(domain) {
            document.getElementById('domain').value = domain;
            lookup();
        };
        
        window.lookup = async function() {
            const domain = document.getElementById('domain').value.trim();
            const recordType = document.getElementById('recordType').value;
            
            if (!domain) return;
            
            document.getElementById('resultCard').classList.remove('hidden');
            document.getElementById('loading').classList.remove('hidden');
            document.getElementById('results').innerHTML = '';
            document.getElementById('error').classList.add('hidden');
            
            const types = recordType === 'ALL' ? ['A', 'AAAA', 'CNAME', 'MX', 'TXT', 'NS'] : [recordType];
            
            try {
                let html = '';
                
                for (const type of types) {
                    const response = await fetch(`https://dns.google/resolve?name=${domain}&type=${type}`);
                    const data = await response.json();
                    
                    if (data.Answer && data.Answer.length > 0) {
                        html += `<div class="result-section">
                            <h3>${type} ËÆ∞ÂΩï <span class="badge">${data.Answer.length}</span></h3>
                            <div class="records">
                                ${data.Answer.map(r => `
                                    <div class="record">
                                        <span class="type">${type}</span>
                                        <span class="value">${r.data}</span>
                                        <span class="ttl">TTL: ${r.TTL}s</span>
                                    </div>
                                `).join('')}
                            </div>
                        </div>`;
                    }
                }
                
                document.getElementById('loading').classList.add('hidden');
                
                if (html) {
                    document.getElementById('results').innerHTML = html;
                } else {
                    document.getElementById('error').classList.remove('hidden');
                    document.getElementById('error').textContent = 'Êú™ÊâæÂà∞ DNS ËÆ∞ÂΩï';
                }
                
            } catch (err) {
                document.getElementById('loading').classList.add('hidden');
                document.getElementById('error').classList.remove('hidden');
                document.getElementById('error').textContent = 'Êü•ËØ¢Â§±Ë¥•: ' + err.message;
            }
        };
        
        document.getElementById('domain').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') lookup();
        });
        
        window.toggleTheme = function() {
            const t = document.body.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
            document.body.setAttribute('data-theme', t);
            localStorage.setItem('theme', t);
        };

        document.body.setAttribute('data-theme', localStorage.getItem('theme') || 'dark');
    </script>
</body>
</html>
