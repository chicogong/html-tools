<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>éšç§æ”¿ç­–ç”Ÿæˆå™¨ - WebUtils</title>
  <meta name="description" content="å¿«é€Ÿç”Ÿæˆç¬¦åˆæ³•è§„è¦æ±‚çš„éšç§æ”¿ç­–æ–‡æ¡£" />
  <meta name="keywords" content="éšç§æ”¿ç­– privacy policy ç”Ÿæˆå™¨ GDPR åˆè§„" />
  <meta name="author" content="WebUtils" />
  <meta name="robots" content="index, follow" />
  <meta property="og:title" content="éšç§æ”¿ç­–ç”Ÿæˆå™¨ - WebUtils" />
  <meta property="og:description" content="å¿«é€Ÿç”Ÿæˆç¬¦åˆæ³•è§„è¦æ±‚çš„éšç§æ”¿ç­–æ–‡æ¡£" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="WebUtils" />
  <meta property="og:locale" content="zh_CN" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="éšç§æ”¿ç­–ç”Ÿæˆå™¨ - WebUtils" />
  <meta name="twitter:description" content="å¿«é€Ÿç”Ÿæˆç¬¦åˆæ³•è§„è¦æ±‚çš„éšç§æ”¿ç­–æ–‡æ¡£" />

  <style>
    :root {
      --bg: #f8f9fa;
      --card-bg: #fff;
      --text: #212529;
      --text-muted: #6c757d;
      --border: #dee2e6;
      --primary: #6366f1;
      --primary-hover: #4f46e5;
      --success: #198754;
      --danger: #dc3545;
      --shadow: 0 2px 8px rgb(0,0,0,0.08);
      --radius: 8px;
    }

    [data-theme="dark"] {
      --bg: #0a0a0f;
      --card-bg: #1a1a24;
      --text: #e8e8ed;
      --text-muted: #9898a4;
      --border: #2a2a36;
      --primary: #818cf8;
      --primary-hover: #6366f1;
      --success: #10b981;
      --danger: #ef4444;
      --shadow: 0 2px 8px rgb(0,0,0,0.3);
    }

    * { box-sizing: border-box; }

    body {
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
      background: var(--bg);
      color: var(--text);
      margin: 0;
      padding: 24px;
      min-height: 100vh;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
    }

    .back-link {
      display: inline-block;
      margin-bottom: 16px;
      color: var(--primary);
      text-decoration: none;
      font-size: 0.9rem;
    }

    .back-link:hover {
      text-decoration: underline;
    }

    .theme-toggle {
      position: fixed;
      top: 1rem;
      right: 1rem;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: 1px solid var(--border);
      background: var(--card-bg);
      cursor: pointer;
      font-size: 1.2rem;
      z-index: 100;
      transition: all .2s;
    }

    .theme-toggle:hover {
      transform: scale(1.1);
    }

    h1 {
      font-size: 1.75rem;
      margin: 0 0 8px;
    }

    .desc {
      color: var(--text-muted);
      margin: 0 0 24px;
      font-size: 0.95rem;
    }

    .card {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow);
      margin-bottom: 20px;
    }

    .form-group {
      margin-bottom: 16px;
    }

    .form-group label {
      display: block;
      font-weight: 600;
      margin-bottom: 6px;
      font-size: 0.9rem;
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 10px 12px;
      font-size: 0.95rem;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      background: var(--card-bg);
      color: var(--text);
    }

    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgb(99,102,241,0.15);
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }

    @media (max-width: 640px) {
      .form-row {
        grid-template-columns: 1fr;
      }
    }

    .checkbox-group {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
    }

    .checkbox-group label {
      display: flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
      font-weight: normal;
      font-size: 0.9rem;
    }

    .btn-row {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      margin-top: 20px;
    }

    button {
      padding: 10px 20px;
      font-size: 0.95rem;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      background: var(--card-bg);
      color: var(--text);
      cursor: pointer;
      transition: all 0.2s;
    }

    button:hover {
      border-color: var(--primary);
      color: var(--primary);
    }

    button.primary {
      background: var(--primary);
      border-color: var(--primary);
      color: #fff;
    }

    button.primary:hover {
      background: var(--primary-hover);
      border-color: var(--primary-hover);
      color: #fff;
    }

    .output-section {
      margin-top: 24px;
    }

    .output-section label {
      display: block;
      font-weight: 600;
      margin-bottom: 8px;
      font-size: 0.95rem;
    }

    .output-area {
      width: 100%;
      min-height: 400px;
      padding: 16px;
      font-family: system-ui, -apple-system, sans-serif;
      font-size: 0.9rem;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      background: var(--bg);
      color: var(--text);
      resize: vertical;
      line-height: 1.6;
    }

    .status {
      font-size: 0.85rem;
      margin-top: 8px;
      min-height: 20px;
    }

    .status.success {
      color: var(--success);
    }

    .status.error {
      color: var(--danger);
    }

    footer {
      text-align: center;
      margin-top: 32px;
      padding-top: 16px;
      border-top: 1px solid var(--border);
      color: var(--text-muted);
      font-size: 0.85rem;
    }

    footer a {
      color: var(--primary);
      text-decoration: none;
    }

    footer a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <div class="container">
    <a href="../../index.html" class="back-link">â† è¿”å›å·¥å…·åˆ—è¡¨</a>
    <button class="theme-toggle" onclick="toggleTheme()" title="åˆ‡æ¢ä¸»é¢˜">ğŸŒ™</button>

    <h1>éšç§æ”¿ç­–ç”Ÿæˆå™¨</h1>
    <p class="desc">æ ¹æ®æ‚¨çš„ä¸šåŠ¡ä¿¡æ¯å¿«é€Ÿç”Ÿæˆç¬¦åˆæ³•è§„è¦æ±‚çš„éšç§æ”¿ç­–æ–‡æ¡£</p>

    <div class="card">
      <div class="form-row">
        <div class="form-group">
          <label for="companyName">å…¬å¸/ç½‘ç«™åç§° *</label>
          <input type="text" id="companyName" placeholder="ä¾‹å¦‚ï¼šç¤ºä¾‹ç§‘æŠ€æœ‰é™å…¬å¸" />
        </div>
        <div class="form-group">
          <label for="websiteUrl">ç½‘ç«™åœ°å€</label>
          <input type="text" id="websiteUrl" placeholder="ä¾‹å¦‚ï¼šhttps://example.com" />
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="contactEmail">è”ç³»é‚®ç®± *</label>
          <input type="email" id="contactEmail" placeholder="ä¾‹å¦‚ï¼šprivacy@example.com" />
        </div>
        <div class="form-group">
          <label for="effectiveDate">ç”Ÿæ•ˆæ—¥æœŸ</label>
          <input type="date" id="effectiveDate" />
        </div>
      </div>

      <div class="form-group">
        <label for="companyAddress">å…¬å¸åœ°å€</label>
        <input type="text" id="companyAddress" placeholder="ä¾‹å¦‚ï¼šåŒ—äº¬å¸‚æœé˜³åŒºxxxè·¯xxxå·" />
      </div>

      <div class="form-group">
        <label>æ”¶é›†çš„æ•°æ®ç±»å‹</label>
        <div class="checkbox-group">
          <label><input type="checkbox" id="dataName" checked /> å§“å</label>
          <label><input type="checkbox" id="dataEmail" checked /> é‚®ç®±</label>
          <label><input type="checkbox" id="dataPhone" /> ç”µè¯</label>
          <label><input type="checkbox" id="dataAddress" /> åœ°å€</label>
          <label><input type="checkbox" id="dataPayment" /> æ”¯ä»˜ä¿¡æ¯</label>
          <label><input type="checkbox" id="dataUsage" checked /> ä½¿ç”¨æ•°æ®</label>
          <label><input type="checkbox" id="dataCookies" checked /> Cookies</label>
          <label><input type="checkbox" id="dataLocation" /> ä½ç½®ä¿¡æ¯</label>
          <label><input type="checkbox" id="dataDevice" checked /> è®¾å¤‡ä¿¡æ¯</label>
        </div>
      </div>

      <div class="form-group">
        <label>é€‚ç”¨æ³•è§„</label>
        <div class="checkbox-group">
          <label><input type="checkbox" id="lawGdpr" /> GDPR (æ¬§ç›Ÿ)</label>
          <label><input type="checkbox" id="lawCcpa" /> CCPA (åŠ å·)</label>
          <label><input type="checkbox" id="lawPipl" checked /> ä¸ªäººä¿¡æ¯ä¿æŠ¤æ³• (ä¸­å›½)</label>
        </div>
      </div>

      <div class="form-group">
        <label for="language">è¾“å‡ºè¯­è¨€</label>
        <select id="language">
          <option value="zh">ä¸­æ–‡</option>
          <option value="en">English</option>
        </select>
      </div>

      <div class="btn-row">
        <button class="primary" onclick="generatePolicy()">ç”Ÿæˆéšç§æ”¿ç­–</button>
        <button onclick="copyOutput()">å¤åˆ¶</button>
        <button onclick="downloadPolicy()">ä¸‹è½½</button>
        <button onclick="clearForm()">æ¸…ç©º</button>
      </div>

      <div id="status" class="status"></div>

      <div class="output-section">
        <label for="output">ç”Ÿæˆçš„éšç§æ”¿ç­–</label>
        <textarea id="output" class="output-area" readonly placeholder="ç‚¹å‡»ã€ç”Ÿæˆéšç§æ”¿ç­–ã€‘æŒ‰é’®ç”Ÿæˆå†…å®¹..."></textarea>
      </div>
    </div>

    <footer>
      çº¯å‰ç«¯å·¥å…· Â· æ— æœåŠ¡å™¨ Â· 
      <a href="../../index.html">WebUtils</a>
    </footer>
  </div>

  <script>
    var LS_KEY = 'privacy_policy_form_v1';

    function getFormData() {
      return {
        companyName: document.getElementById('companyName').value.trim(),
        websiteUrl: document.getElementById('websiteUrl').value.trim(),
        contactEmail: document.getElementById('contactEmail').value.trim(),
        effectiveDate: document.getElementById('effectiveDate').value,
        companyAddress: document.getElementById('companyAddress').value.trim(),
        dataTypes: {
          name: document.getElementById('dataName').checked,
          email: document.getElementById('dataEmail').checked,
          phone: document.getElementById('dataPhone').checked,
          address: document.getElementById('dataAddress').checked,
          payment: document.getElementById('dataPayment').checked,
          usage: document.getElementById('dataUsage').checked,
          cookies: document.getElementById('dataCookies').checked,
          location: document.getElementById('dataLocation').checked,
          device: document.getElementById('dataDevice').checked
        },
        laws: {
          gdpr: document.getElementById('lawGdpr').checked,
          ccpa: document.getElementById('lawCcpa').checked,
          pipl: document.getElementById('lawPipl').checked
        },
        language: document.getElementById('language').value
      };
    }

    function setFormData(data) {
      if (!data) return;
      if (data.companyName) document.getElementById('companyName').value = data.companyName;
      if (data.websiteUrl) document.getElementById('websiteUrl').value = data.websiteUrl;
      if (data.contactEmail) document.getElementById('contactEmail').value = data.contactEmail;
      if (data.effectiveDate) document.getElementById('effectiveDate').value = data.effectiveDate;
      if (data.companyAddress) document.getElementById('companyAddress').value = data.companyAddress;
      if (data.dataTypes) {
        Object.keys(data.dataTypes).forEach(function(key) {
          var el = document.getElementById('data' + key.charAt(0).toUpperCase() + key.slice(1));
          if (el) el.checked = data.dataTypes[key];
        });
      }
      if (data.laws) {
        if (data.laws.gdpr !== undefined) document.getElementById('lawGdpr').checked = data.laws.gdpr;
        if (data.laws.ccpa !== undefined) document.getElementById('lawCcpa').checked = data.laws.ccpa;
        if (data.laws.pipl !== undefined) document.getElementById('lawPipl').checked = data.laws.pipl;
      }
      if (data.language) document.getElementById('language').value = data.language;
    }

    function saveToStorage() {
      try {
        localStorage.setItem(LS_KEY, JSON.stringify(getFormData()));
      } catch (e) {}
    }

    function loadFromStorage() {
      try {
        var saved = localStorage.getItem(LS_KEY);
        if (saved) {
          setFormData(JSON.parse(saved));
        }
      } catch (e) {}
    }

    function showStatus(msg, type) {
      var el = document.getElementById('status');
      el.textContent = msg;
      el.className = 'status ' + (type || '');
    }

    function generatePolicy() {
      var data = getFormData();

      if (!data.companyName) {
        showStatus('è¯·è¾“å…¥å…¬å¸/ç½‘ç«™åç§°', 'error');
        return;
      }
      if (!data.contactEmail) {
        showStatus('è¯·è¾“å…¥è”ç³»é‚®ç®±', 'error');
        return;
      }

      var output = '';
      var effectiveDate = data.effectiveDate || new Date().toISOString().split('T')[0];

      if (data.language === 'zh') {
        output = generateChinesePolicy(data, effectiveDate);
      } else {
        output = generateEnglishPolicy(data, effectiveDate);
      }

      document.getElementById('output').value = output;
      saveToStorage();
      showStatus('éšç§æ”¿ç­–å·²ç”Ÿæˆ', 'success');
    }

    function generateChinesePolicy(data, effectiveDate) {
      var lines = [];
      lines.push('éšç§æ”¿ç­–');
      lines.push('');
      lines.push('ç”Ÿæ•ˆæ—¥æœŸï¼š' + effectiveDate);
      lines.push('');
      lines.push('ä¸€ã€å¼•è¨€');
      lines.push('');
      lines.push(data.companyName + 'ï¼ˆä»¥ä¸‹ç®€ç§°"æˆ‘ä»¬"ï¼‰éå¸¸é‡è§†æ‚¨çš„éšç§ã€‚æœ¬éšç§æ”¿ç­–è¯´æ˜äº†æˆ‘ä»¬å¦‚ä½•æ”¶é›†ã€ä½¿ç”¨ã€å­˜å‚¨å’Œä¿æŠ¤æ‚¨çš„ä¸ªäººä¿¡æ¯ã€‚');
      if (data.websiteUrl) {
        lines.push('');
        lines.push('æœ¬æ”¿ç­–é€‚ç”¨äº ' + data.websiteUrl + ' åŠæˆ‘ä»¬æä¾›çš„ç›¸å…³æœåŠ¡ã€‚');
      }
      lines.push('');
      lines.push('äºŒã€æˆ‘ä»¬æ”¶é›†çš„ä¿¡æ¯');
      lines.push('');
      lines.push('æˆ‘ä»¬å¯èƒ½æ”¶é›†ä»¥ä¸‹ç±»å‹çš„ä¸ªäººä¿¡æ¯ï¼š');
      lines.push('');

      var dataTypeNames = {
        name: 'å§“å',
        email: 'ç”µå­é‚®ä»¶åœ°å€',
        phone: 'ç”µè¯å·ç ',
        address: 'é€šè®¯åœ°å€',
        payment: 'æ”¯ä»˜å’Œè´¦å•ä¿¡æ¯',
        usage: 'æœåŠ¡ä½¿ç”¨æ•°æ®å’Œæµè§ˆè®°å½•',
        cookies: 'Cookies å’Œç±»ä¼¼æŠ€æœ¯æ”¶é›†çš„æ•°æ®',
        location: 'åœ°ç†ä½ç½®ä¿¡æ¯',
        device: 'è®¾å¤‡ä¿¡æ¯ï¼ˆè®¾å¤‡å‹å·ã€æ“ä½œç³»ç»Ÿã€æµè§ˆå™¨ç±»å‹ç­‰ï¼‰'
      };

      Object.keys(data.dataTypes).forEach(function(key) {
        if (data.dataTypes[key] && dataTypeNames[key]) {
          lines.push('â€¢ ' + dataTypeNames[key]);
        }
      });

      lines.push('');
      lines.push('ä¸‰ã€ä¿¡æ¯çš„ä½¿ç”¨ç›®çš„');
      lines.push('');
      lines.push('æˆ‘ä»¬æ”¶é›†çš„ä¿¡æ¯å°†ç”¨äºä»¥ä¸‹ç›®çš„ï¼š');
      lines.push('');
      lines.push('â€¢ æä¾›ã€ç»´æŠ¤å’Œæ”¹è¿›æˆ‘ä»¬çš„æœåŠ¡');
      lines.push('â€¢ å¤„ç†æ‚¨çš„è¯·æ±‚å’Œäº¤æ˜“');
      lines.push('â€¢ ä¸æ‚¨æ²Ÿé€šï¼ŒåŒ…æ‹¬å‘é€æœåŠ¡é€šçŸ¥');
      lines.push('â€¢ éµå®ˆæ³•å¾‹æ³•è§„è¦æ±‚');
      lines.push('â€¢ ä¿æŠ¤æˆ‘ä»¬çš„åˆæ³•æƒç›Š');

      lines.push('');
      lines.push('å››ã€ä¿¡æ¯çš„å…±äº«ä¸æŠ«éœ²');
      lines.push('');
      lines.push('é™¤ä»¥ä¸‹æƒ…å†µå¤–ï¼Œæˆ‘ä»¬ä¸ä¼šä¸ç¬¬ä¸‰æ–¹å…±äº«æ‚¨çš„ä¸ªäººä¿¡æ¯ï¼š');
      lines.push('');
      lines.push('â€¢ è·å¾—æ‚¨çš„æ˜ç¡®åŒæ„');
      lines.push('â€¢ æ³•å¾‹æ³•è§„è¦æ±‚');
      lines.push('â€¢ ä¸æˆæƒæœåŠ¡æä¾›å•†åˆä½œä»¥æä¾›æœåŠ¡');
      lines.push('â€¢ ä¿æŠ¤æˆ‘ä»¬æˆ–ä»–äººçš„æƒåˆ©ã€è´¢äº§æˆ–å®‰å…¨');

      lines.push('');
      lines.push('äº”ã€ä¿¡æ¯å®‰å…¨');
      lines.push('');
      lines.push('æˆ‘ä»¬é‡‡å–é€‚å½“çš„æŠ€æœ¯å’Œç»„ç»‡æªæ–½æ¥ä¿æŠ¤æ‚¨çš„ä¸ªäººä¿¡æ¯ï¼Œé˜²æ­¢æœªç»æˆæƒçš„è®¿é—®ã€ä½¿ç”¨æˆ–æ³„éœ²ã€‚');

      lines.push('');
      lines.push('å…­ã€æ‚¨çš„æƒåˆ©');
      lines.push('');
      lines.push('æ ¹æ®é€‚ç”¨æ³•å¾‹ï¼Œæ‚¨å¯èƒ½æ‹¥æœ‰ä»¥ä¸‹æƒåˆ©ï¼š');
      lines.push('');
      lines.push('â€¢ è®¿é—®æ‚¨çš„ä¸ªäººä¿¡æ¯');
      lines.push('â€¢ æ›´æ­£ä¸å‡†ç¡®çš„ä¿¡æ¯');
      lines.push('â€¢ åˆ é™¤æ‚¨çš„ä¸ªäººä¿¡æ¯');
      lines.push('â€¢ é™åˆ¶æˆ–åå¯¹æŸäº›å¤„ç†');
      lines.push('â€¢ æ•°æ®å¯æºå¸¦æƒ');

      if (data.laws.pipl) {
        lines.push('');
        lines.push('ä¸ƒã€ä¸­å›½ä¸ªäººä¿¡æ¯ä¿æŠ¤æ³•åˆè§„');
        lines.push('');
        lines.push('æ ¹æ®ã€Šä¸­åäººæ°‘å…±å’Œå›½ä¸ªäººä¿¡æ¯ä¿æŠ¤æ³•ã€‹ï¼Œæˆ‘ä»¬æ‰¿è¯ºï¼š');
        lines.push('');
        lines.push('â€¢ éµå¾ªåˆæ³•ã€æ­£å½“ã€å¿…è¦å’Œè¯šä¿¡åŸåˆ™å¤„ç†ä¸ªäººä¿¡æ¯');
        lines.push('â€¢ æ˜ç¡®å‘ŠçŸ¥å¤„ç†ç›®çš„ã€æ–¹å¼å’ŒèŒƒå›´');
        lines.push('â€¢ ä¸è¿‡åº¦æ”¶é›†ä¸ªäººä¿¡æ¯');
        lines.push('â€¢ é‡‡å–å¿…è¦æªæ–½ä¿éšœä¸ªäººä¿¡æ¯å®‰å…¨');
      }

      if (data.laws.gdpr) {
        lines.push('');
        lines.push('å…«ã€GDPR åˆè§„å£°æ˜');
        lines.push('');
        lines.push('å¯¹äºæ¬§ç›Ÿç”¨æˆ·ï¼Œæˆ‘ä»¬éµå®ˆã€Šé€šç”¨æ•°æ®ä¿æŠ¤æ¡ä¾‹ã€‹ï¼ˆGDPRï¼‰çš„è¦æ±‚ï¼ŒåŒ…æ‹¬ï¼š');
        lines.push('');
        lines.push('â€¢ ä»…åœ¨æœ‰åˆæ³•ä¾æ®æ—¶å¤„ç†ä¸ªäººæ•°æ®');
        lines.push('â€¢ æä¾›æ¸…æ™°çš„åŒæ„æœºåˆ¶');
        lines.push('â€¢ ä¿éšœæ•°æ®ä¸»ä½“æƒåˆ©');
        lines.push('â€¢ è·¨å¢ƒæ•°æ®ä¼ è¾“ç¬¦åˆè§„å®š');
      }

      if (data.laws.ccpa) {
        lines.push('');
        lines.push('ä¹ã€CCPA åˆè§„å£°æ˜');
        lines.push('');
        lines.push('å¯¹äºåŠ å·å±…æ°‘ï¼Œæ ¹æ®ã€ŠåŠ å·æ¶ˆè´¹è€…éšç§æ³•ã€‹ï¼ˆCCPAï¼‰ï¼Œæ‚¨æœ‰æƒï¼š');
        lines.push('');
        lines.push('â€¢ äº†è§£æˆ‘ä»¬æ”¶é›†çš„ä¸ªäººä¿¡æ¯ç±»åˆ«');
        lines.push('â€¢ è¦æ±‚åˆ é™¤æ‚¨çš„ä¸ªäººä¿¡æ¯');
        lines.push('â€¢ é€‰æ‹©ä¸å‡ºå”®æ‚¨çš„ä¸ªäººä¿¡æ¯');
        lines.push('â€¢ ä¸å› è¡Œä½¿éšç§æƒè€Œå—åˆ°æ­§è§†');
      }

      if (data.dataTypes.cookies) {
        lines.push('');
        lines.push('åã€Cookies æ”¿ç­–');
        lines.push('');
        lines.push('æˆ‘ä»¬ä½¿ç”¨ Cookies å’Œç±»ä¼¼æŠ€æœ¯æ¥æ”¹å–„ç”¨æˆ·ä½“éªŒã€åˆ†æç½‘ç«™æµé‡å’Œæä¾›ä¸ªæ€§åŒ–å†…å®¹ã€‚æ‚¨å¯ä»¥é€šè¿‡æµè§ˆå™¨è®¾ç½®ç®¡ç† Cookies åå¥½ã€‚');
      }

      lines.push('');
      lines.push('åä¸€ã€æ”¿ç­–æ›´æ–°');
      lines.push('');
      lines.push('æˆ‘ä»¬å¯èƒ½ä¼šä¸æ—¶æ›´æ–°æœ¬éšç§æ”¿ç­–ã€‚æ›´æ–°åçš„æ”¿ç­–å°†åœ¨æœ¬é¡µé¢å‘å¸ƒï¼Œé‡å¤§å˜æ›´æ—¶æˆ‘ä»¬ä¼šé€šè¿‡é€‚å½“æ–¹å¼é€šçŸ¥æ‚¨ã€‚');

      lines.push('');
      lines.push('åäºŒã€è”ç³»æˆ‘ä»¬');
      lines.push('');
      lines.push('å¦‚æœæ‚¨å¯¹æœ¬éšç§æ”¿ç­–æœ‰ä»»ä½•ç–‘é—®æˆ–éœ€è¦è¡Œä½¿æ‚¨çš„æƒåˆ©ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»æˆ‘ä»¬ï¼š');
      lines.push('');
      lines.push('é‚®ç®±ï¼š' + data.contactEmail);
      if (data.companyAddress) {
        lines.push('åœ°å€ï¼š' + data.companyAddress);
      }

      lines.push('');
      lines.push('---');
      lines.push(data.companyName);
      lines.push('æœ€åæ›´æ–°ï¼š' + effectiveDate);

      return lines.join('\n');
    }

    function generateEnglishPolicy(data, effectiveDate) {
      var lines = [];
      lines.push('Privacy Policy');
      lines.push('');
      lines.push('Effective Date: ' + effectiveDate);
      lines.push('');
      lines.push('1. Introduction');
      lines.push('');
      lines.push(data.companyName + ' ("we", "us", or "our") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, store, and protect your personal information.');
      if (data.websiteUrl) {
        lines.push('');
        lines.push('This policy applies to ' + data.websiteUrl + ' and our related services.');
      }
      lines.push('');
      lines.push('2. Information We Collect');
      lines.push('');
      lines.push('We may collect the following types of personal information:');
      lines.push('');

      var dataTypeNames = {
        name: 'Name',
        email: 'Email address',
        phone: 'Phone number',
        address: 'Mailing address',
        payment: 'Payment and billing information',
        usage: 'Usage data and browsing history',
        cookies: 'Data collected through cookies and similar technologies',
        location: 'Geolocation information',
        device: 'Device information (device model, operating system, browser type, etc.)'
      };

      Object.keys(data.dataTypes).forEach(function(key) {
        if (data.dataTypes[key] && dataTypeNames[key]) {
          lines.push('â€¢ ' + dataTypeNames[key]);
        }
      });

      lines.push('');
      lines.push('3. How We Use Your Information');
      lines.push('');
      lines.push('We use the collected information for the following purposes:');
      lines.push('');
      lines.push('â€¢ To provide, maintain, and improve our services');
      lines.push('â€¢ To process your requests and transactions');
      lines.push('â€¢ To communicate with you, including service notifications');
      lines.push('â€¢ To comply with legal requirements');
      lines.push('â€¢ To protect our legitimate interests');

      lines.push('');
      lines.push('4. Information Sharing and Disclosure');
      lines.push('');
      lines.push('We do not share your personal information with third parties except:');
      lines.push('');
      lines.push('â€¢ With your explicit consent');
      lines.push('â€¢ As required by law');
      lines.push('â€¢ With authorized service providers to deliver our services');
      lines.push('â€¢ To protect our or others\' rights, property, or safety');

      lines.push('');
      lines.push('5. Data Security');
      lines.push('');
      lines.push('We implement appropriate technical and organizational measures to protect your personal information against unauthorized access, use, or disclosure.');

      lines.push('');
      lines.push('6. Your Rights');
      lines.push('');
      lines.push('Depending on applicable laws, you may have the following rights:');
      lines.push('');
      lines.push('â€¢ Access your personal information');
      lines.push('â€¢ Correct inaccurate information');
      lines.push('â€¢ Delete your personal information');
      lines.push('â€¢ Restrict or object to certain processing');
      lines.push('â€¢ Data portability');

      if (data.laws.gdpr) {
        lines.push('');
        lines.push('7. GDPR Compliance');
        lines.push('');
        lines.push('For EU users, we comply with the General Data Protection Regulation (GDPR), including:');
        lines.push('');
        lines.push('â€¢ Processing personal data only with a lawful basis');
        lines.push('â€¢ Providing clear consent mechanisms');
        lines.push('â€¢ Ensuring data subject rights');
        lines.push('â€¢ Complying with cross-border data transfer requirements');
      }

      if (data.laws.ccpa) {
        lines.push('');
        lines.push('8. CCPA Compliance');
        lines.push('');
        lines.push('For California residents, under the California Consumer Privacy Act (CCPA), you have the right to:');
        lines.push('');
        lines.push('â€¢ Know what personal information we collect');
        lines.push('â€¢ Request deletion of your personal information');
        lines.push('â€¢ Opt-out of the sale of your personal information');
        lines.push('â€¢ Non-discrimination for exercising your privacy rights');
      }

      if (data.dataTypes.cookies) {
        lines.push('');
        lines.push('9. Cookie Policy');
        lines.push('');
        lines.push('We use cookies and similar technologies to improve user experience, analyze website traffic, and provide personalized content. You can manage your cookie preferences through your browser settings.');
      }

      lines.push('');
      lines.push('10. Policy Updates');
      lines.push('');
      lines.push('We may update this Privacy Policy from time to time. Updated policies will be posted on this page, and we will notify you of significant changes through appropriate means.');

      lines.push('');
      lines.push('11. Contact Us');
      lines.push('');
      lines.push('If you have any questions about this Privacy Policy or need to exercise your rights, please contact us:');
      lines.push('');
      lines.push('Email: ' + data.contactEmail);
      if (data.companyAddress) {
        lines.push('Address: ' + data.companyAddress);
      }

      lines.push('');
      lines.push('---');
      lines.push(data.companyName);
      lines.push('Last Updated: ' + effectiveDate);

      return lines.join('\n');
    }

    function copyOutput() {
      var output = document.getElementById('output').value;
      if (!output) {
        showStatus('æ²¡æœ‰å¯å¤åˆ¶çš„å†…å®¹', 'error');
        return;
      }
      navigator.clipboard.writeText(output).then(function() {
        showStatus('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿', 'success');
      }).catch(function() {
        showStatus('å¤åˆ¶å¤±è´¥', 'error');
      });
    }

    function downloadPolicy() {
      var output = document.getElementById('output').value;
      if (!output) {
        showStatus('æ²¡æœ‰å¯ä¸‹è½½çš„å†…å®¹', 'error');
        return;
      }
      var data = getFormData();
      var filename = (data.language === 'zh' ? 'éšç§æ”¿ç­–' : 'Privacy_Policy') + '.txt';
      var blob = new Blob([output], { type: 'text/plain;charset=utf-8' });
      var url = URL.createObjectURL(blob);
      var a = document.createElement('a');
      a.href = url;
      a.download = filename;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
      showStatus('ä¸‹è½½å·²å¼€å§‹', 'success');
    }

    function clearForm() {
      document.getElementById('companyName').value = '';
      document.getElementById('websiteUrl').value = '';
      document.getElementById('contactEmail').value = '';
      document.getElementById('effectiveDate').value = '';
      document.getElementById('companyAddress').value = '';
      document.getElementById('output').value = '';
      localStorage.removeItem(LS_KEY);
      showStatus('å·²æ¸…ç©º', 'success');
    }

    // Auto-save on input
    document.querySelectorAll('input, select').forEach(function(el) {
      el.addEventListener('change', saveToStorage);
      el.addEventListener('input', saveToStorage);
    });

    // Theme toggle
    function toggleTheme() {
      var html = document.documentElement;
      var btn = document.querySelector('.theme-toggle');
      var next = html.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
      html.setAttribute('data-theme', next);
      btn.textContent = next === 'dark' ? 'ğŸŒ™' : 'â˜€ï¸';
      localStorage.setItem('theme', next);
    }

    // Initialize
    (function() {
      var savedTheme = localStorage.getItem('theme');
      if (savedTheme) {
        document.documentElement.setAttribute('data-theme', savedTheme);
        var btn = document.querySelector('.theme-toggle');
        if (btn) btn.textContent = savedTheme === 'dark' ? 'ğŸŒ™' : 'â˜€ï¸';
      }
      loadFromStorage();
      // Set default date
      if (!document.getElementById('effectiveDate').value) {
        document.getElementById('effectiveDate').value = new Date().toISOString().split('T')[0];
      }
    })();
  </script>
</body>
</html>
