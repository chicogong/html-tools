<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>æ³¢æµªèƒŒæ™¯ç”Ÿæˆå™¨ - WebUtils</title>
    <!-- SEO Meta Tags -->
    <meta name="description" content="æ³¢æµªèƒŒæ™¯ç”Ÿæˆå™¨ - WebUtils" />
    <meta name="keywords" content="wave-bg,generator,tools,webutils" />
    <meta name="author" content="WebUtils" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://tools.realtime-ai.chat/tools/generator/wave-bg.html" />

    <!-- Open Graph -->
    <meta property="og:title" content="æ³¢æµªèƒŒæ™¯ç”Ÿæˆå™¨ - WebUtils" />
    <meta property="og:description" content="æ³¢æµªèƒŒæ™¯ç”Ÿæˆå™¨ - WebUtils" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://tools.realtime-ai.chat/tools/generator/wave-bg.html" />
    <meta property="og:site_name" content="WebUtils" />
    <meta property="og:locale" content="zh_CN" />
    <meta property="og:image" content="https://tools.realtime-ai.chat/social-preview.png" />
    <meta property="og:image:width" content="1280" />
    <meta property="og:image:height" content="640" />
    <meta property="og:image:type" content="image/png" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="æ³¢æµªèƒŒæ™¯ç”Ÿæˆå™¨ - WebUtils" />
    <meta name="twitter:description" content="æ³¢æµªèƒŒæ™¯ç”Ÿæˆå™¨ - WebUtils" />
    <meta name="twitter:image" content="https://tools.realtime-ai.chat/social-preview.png" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css" />
    <style>
      :root {
        --bg-deep: #0a0a0f;
        --bg-surface: #12121a;
        --bg-card: #1a1a24;
        --bg-input: #0e0e14;
        --text-primary: #e8e8ed;
        --text-secondary: #8888a0;
        --text-muted: #55556a;
        --border-subtle: #2a2a3a;
        --border-strong: #3a3a4a;
        --accent-cyan: #00f5d4;
        --accent-green: #10b981;
        --accent-red: #f43f5e;
        --accent-yellow: #fbbf24;
        --accent-purple: #a855f7;
        --glow-cyan: rgb(0, 245, 212, 0.15);
        --glow-green: rgb(16, 185, 129, 0.15);
        --glow-red: rgb(244, 63, 94, 0.15);
        --radius-sm: 4px;
        --radius-md: 8px;
        --radius-lg: 12px;
      }

      [data-theme="light"] {
        --bg-deep: #fafafa;
        --bg-surface: #fff;
        --bg-card: #fff;
        --bg-input: #f5f5f5;
        --bg-hover: #f5f5f5;
        --text-primary: #1a1a1a;
        --text-secondary: #666;
        --text-muted: #999;
        --border-subtle: #e5e5e5;
        --border-strong: #d5d5d5;
      }

      .theme-toggle {
        position: fixed;
        top: 1rem;
        right: 1rem;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        border: 1px solid var(--border-subtle);
        background: var(--bg-card);
        cursor: pointer;
        font-size: 1.2rem;
        z-index: 100;
        transition: all 0.2s;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .theme-toggle:hover {
        transform: scale(1.1);
      }

      :root {
        --preview-bg: #f0f0f0;
      }
      [data-theme="dark"] {
        --preview-bg: #2a2a2a;
      }
      body {
        min-height: 100vh;
        padding: 20px;
      }
      .container {
        max-width: 1200px;
        margin: 0 auto;
      }
      header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 2rem;
      }
      .preview-area {
        background: var(--preview-bg);
        border-radius: 8px;
        padding: 20px;
        margin-bottom: 2rem;
        min-height: 300px;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
      }
      #wavePreview {
        width: 100%;
        max-height: 400px;
      }
      .controls {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1rem;
        margin-bottom: 2rem;
      }
      .control-group {
        padding: 1rem;
        background: var(--pico-card-background-color);
        border-radius: 8px;
      }
      .control-group label {
        display: block;
        margin-bottom: 0.5rem;
      }
      .color-inputs {
        display: flex;
        gap: 10px;
        align-items: center;
      }
      .color-inputs input[type="color"] {
        width: 60px;
        height: 40px;
        padding: 2px;
        cursor: pointer;
      }
      .btn-group {
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
      }
      .range-value {
        font-weight: bold;
        color: var(--pico-primary);
      }

      .breadcrumb {
        background: rgba(255, 255, 255, 0.95);
        padding: 8px 15px;
        border-radius: 20px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        font-size: 0.85rem;
      }
      .breadcrumb a {
        color: #667eea;
        text-decoration: none;
      }
      .breadcrumb a:hover {
        text-decoration: underline;
      }
      .breadcrumb span {
        color: #999;
        margin: 0 5px;
      }
    </style>
  </head>
  <body>
    <button class="theme-toggle" onclick="toggleTheme()" aria-label="åˆ‡æ¢ä¸»é¢˜">
      <span id="theme-icon">ğŸŒ™</span>
    </button>

    <nav class="breadcrumb">
      <a href="../../index.html">é¦–é¡µ</a>
      <span>â€º</span>
      æ³¢æµªèƒŒæ™¯ç”Ÿæˆå™¨
    </nav>
    <div class="container">
      <a
        href="../../index.html"
        style="
          display: inline-block;
          margin-bottom: 1rem;
          color: var(--pico-primary);
          text-decoration: none;
        "
      >
        â† è¿”å›é¦–é¡µ
      </a>
      <header>
        <h1>æ³¢æµªèƒŒæ™¯ç”Ÿæˆå™¨</h1>
        <button id="themeToggle" class="outline">åˆ‡æ¢ä¸»é¢˜</button>
      </header>

      <div class="preview-area">
        <svg id="wavePreview" viewBox="0 0 1200 400" preserveAspectRatio="none">
          <defs>
            <linearGradient id="waveGradient" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" id="gradientStart" stop-color="#4F46E5" />
              <stop offset="100%" id="gradientEnd" stop-color="#7C3AED" />
            </linearGradient>
          </defs>
          <rect width="100%" height="100%" id="bgRect" fill="#ffffff" />
          <path id="wave1" fill="url(#waveGradient)" opacity="0.8" />
          <path id="wave2" fill="url(#waveGradient)" opacity="0.5" />
          <path id="wave3" fill="url(#waveGradient)" opacity="0.3" />
        </svg>
      </div>

      <div class="controls">
        <div class="control-group">
          <label>æ³¢æµªé¢œè‰²èµ·å§‹</label>
          <div class="color-inputs">
            <input type="color" id="colorStart" value="#4F46E5" />
            <input type="text" id="colorStartText" value="#4F46E5" maxlength="7" />
          </div>
        </div>

        <div class="control-group">
          <label>æ³¢æµªé¢œè‰²ç»“æŸ</label>
          <div class="color-inputs">
            <input type="color" id="colorEnd" value="#7C3AED" />
            <input type="text" id="colorEndText" value="#7C3AED" maxlength="7" />
          </div>
        </div>

        <div class="control-group">
          <label>èƒŒæ™¯é¢œè‰²</label>
          <div class="color-inputs">
            <input type="color" id="bgColor" value="#ffffff" />
            <input type="text" id="bgColorText" value="#ffffff" maxlength="7" />
          </div>
        </div>

        <div class="control-group">
          <label>
            æŒ¯å¹…:
            <span class="range-value" id="amplitudeValue">50</span>
          </label>
          <input type="range" id="amplitude" min="10" max="150" value="50" />
        </div>

        <div class="control-group">
          <label>
            é¢‘ç‡:
            <span class="range-value" id="frequencyValue">2</span>
          </label>
          <input type="range" id="frequency" min="1" max="10" value="2" step="0.5" />
        </div>

        <div class="control-group">
          <label>
            æ³¢æµªå±‚æ•°:
            <span class="range-value" id="layersValue">3</span>
          </label>
          <input type="range" id="layers" min="1" max="5" value="3" />
        </div>

        <div class="control-group">
          <label>
            æ³¢æµªé«˜åº¦:
            <span class="range-value" id="heightValue">200</span>
          </label>
          <input type="range" id="waveHeight" min="50" max="350" value="200" />
        </div>

        <div class="control-group">
          <label>æ³¢æµªä½ç½®</label>
          <select id="wavePosition">
            <option value="bottom">åº•éƒ¨</option>
            <option value="top">é¡¶éƒ¨</option>
          </select>
        </div>
      </div>

      <div class="btn-group">
        <button id="generateBtn">ç”Ÿæˆæ³¢æµª</button>
        <button id="randomBtn" class="secondary">éšæœºç”Ÿæˆ</button>
        <button id="downloadSvg" class="outline">ä¸‹è½½ SVG</button>
        <button id="downloadPng" class="outline">ä¸‹è½½ PNG</button>
        <button id="copyCode" class="outline">å¤åˆ¶ä»£ç </button>
      </div>
    </div>

    <script>
      // Theme toggle
      const themeToggle = document.getElementById("themeToggle");
      themeToggle.addEventListener("click", () => {
        const html = document.documentElement;
        const currentTheme = html.getAttribute("data-theme");
        html.setAttribute("data-theme", currentTheme === "dark" ? "light" : "dark");
      });

      // Elements
      const colorStart = document.getElementById("colorStart");
      const colorStartText = document.getElementById("colorStartText");
      const colorEnd = document.getElementById("colorEnd");
      const colorEndText = document.getElementById("colorEndText");
      const bgColor = document.getElementById("bgColor");
      const bgColorText = document.getElementById("bgColorText");
      const amplitude = document.getElementById("amplitude");
      const frequency = document.getElementById("frequency");
      const layers = document.getElementById("layers");
      const waveHeight = document.getElementById("waveHeight");
      const wavePosition = document.getElementById("wavePosition");

      // Sync color inputs
      function syncColorInputs(colorInput, textInput) {
        colorInput.addEventListener("input", () => {
          textInput.value = colorInput.value;
          generateWave();
        });
        textInput.addEventListener("input", () => {
          if (/^#[0-9A-Fa-f]{6}$/.test(textInput.value)) {
            colorInput.value = textInput.value;
            generateWave();
          }
        });
      }

      syncColorInputs(colorStart, colorStartText);
      syncColorInputs(colorEnd, colorEndText);
      syncColorInputs(bgColor, bgColorText);

      // Update range values
      const rangeInputs = [
        { input: amplitude, display: "amplitudeValue" },
        { input: frequency, display: "frequencyValue" },
        { input: layers, display: "layersValue" },
        { input: waveHeight, display: "heightValue" }
      ];

      rangeInputs.forEach(({ input, display }) => {
        input.addEventListener("input", () => {
          document.getElementById(display).textContent = input.value;
          generateWave();
        });
      });

      wavePosition.addEventListener("change", generateWave);

      // Generate wave path
      function generateWavePath(width, height, amp, freq, offset, position) {
        const points = [];
        const baseY =
          position === "bottom" ? height - parseInt(waveHeight.value) : parseInt(waveHeight.value);

        for (let x = 0; x <= width; x += 10) {
          const y = baseY + Math.sin((x / width) * Math.PI * freq + offset) * amp;
          points.push(`${x},${y}`);
        }

        if (position === "bottom") {
          return (
            `M0,${height} L0,${points[0].split(",")[1]} ` +
            points.map((p) => `L${p}`).join(" ") +
            ` L${width},${height} Z`
          );
        } else {
          return (
            `M0,0 L0,${points[0].split(",")[1]} ` +
            points.map((p) => `L${p}`).join(" ") +
            ` L${width},0 Z`
          );
        }
      }

      // Generate wave
      function generateWave() {
        const svg = document.getElementById("wavePreview");
        const width = 1200;
        const height = 400;
        const amp = parseInt(amplitude.value);
        const freq = parseFloat(frequency.value);
        const layerCount = parseInt(layers.value);
        const position = wavePosition.value;

        // Update gradient
        document.getElementById("gradientStart").setAttribute("stop-color", colorStart.value);
        document.getElementById("gradientEnd").setAttribute("stop-color", colorEnd.value);

        // Update background
        document.getElementById("bgRect").setAttribute("fill", bgColor.value);

        // Remove existing wave paths
        const existingWaves = svg.querySelectorAll(".wave-path");
        existingWaves.forEach((w) => w.remove());

        // Generate wave layers
        for (let i = 0; i < layerCount; i++) {
          const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
          path.classList.add("wave-path");
          const opacity = 1 - i * 0.2;
          const layerAmp = amp * (1 - i * 0.15);
          const offset = i * 0.5;

          path.setAttribute("d", generateWavePath(width, height, layerAmp, freq, offset, position));
          path.setAttribute("fill", "url(#waveGradient)");
          path.setAttribute("opacity", opacity);
          svg.appendChild(path);
        }

        // Remove old wave paths
        document.getElementById("wave1").setAttribute("d", "");
        document.getElementById("wave2").setAttribute("d", "");
        document.getElementById("wave3").setAttribute("d", "");
      }

      // Random generation
      document.getElementById("randomBtn").addEventListener("click", () => {
        const randomColor = () =>
          "#" +
          Math.floor(Math.random() * 16777215)
            .toString(16)
            .padStart(6, "0");

        colorStart.value = randomColor();
        colorStartText.value = colorStart.value;
        colorEnd.value = randomColor();
        colorEndText.value = colorEnd.value;

        amplitude.value = Math.floor(Math.random() * 100) + 30;
        document.getElementById("amplitudeValue").textContent = amplitude.value;

        frequency.value = (Math.random() * 5 + 1).toFixed(1);
        document.getElementById("frequencyValue").textContent = frequency.value;

        generateWave();
      });

      // Generate button
      document.getElementById("generateBtn").addEventListener("click", generateWave);

      // Download SVG
      document.getElementById("downloadSvg").addEventListener("click", () => {
        const svg = document.getElementById("wavePreview");
        const svgData = new XMLSerializer().serializeToString(svg);
        const blob = new Blob([svgData], { type: "image/svg+xml" });
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = "wave-background.svg";
        a.click();
        URL.revokeObjectURL(url);
      });

      // Download PNG
      document.getElementById("downloadPng").addEventListener("click", () => {
        const svg = document.getElementById("wavePreview");
        const svgData = new XMLSerializer().serializeToString(svg);
        const canvas = document.createElement("canvas");
        canvas.width = 1200;
        canvas.height = 400;
        const ctx = canvas.getContext("2d");
        const img = new Image();
        img.onload = () => {
          ctx.drawImage(img, 0, 0);
          const a = document.createElement("a");
          a.href = canvas.toDataURL("image/png");
          a.download = "wave-background.png";
          a.click();
        };
        img.src = "data:image/svg+xml;base64," + btoa(unescape(encodeURIComponent(svgData)));
      });

      // Copy SVG code
      document.getElementById("copyCode").addEventListener("click", () => {
        const svg = document.getElementById("wavePreview");
        const svgData = new XMLSerializer().serializeToString(svg);
        navigator.clipboard.writeText(svgData).then(() => {
          alert("SVG ä»£ç å·²å¤åˆ¶åˆ°å‰ªè´´æ¿");
        });
      });

      // Initial generation
      generateWave();

      // Theme toggle
      function toggleTheme() {
        const html = document.documentElement;
        const currentTheme = html.getAttribute("data-theme");
        const newTheme = currentTheme === "light" ? "dark" : "light";
        html.setAttribute("data-theme", newTheme);
        document.getElementById("theme-icon").textContent = newTheme === "light" ? "â˜€ï¸" : "ğŸŒ™";
        localStorage.setItem("theme", newTheme);
      }

      // Load saved theme
      const savedTheme = localStorage.getItem("theme") || "dark";
      if (savedTheme === "light") {
        document.documentElement.setAttribute("data-theme", "light");
        document.getElementById("theme-icon").textContent = "â˜€ï¸";
      }
    </script>
  </body>
</html>
