<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¦–ä»˜è®¡ç®—å™¨ - WebUtils</title>
  <!-- SEO Meta Tags -->
  <meta name="description" content="é¦–ä»˜è®¡ç®—å™¨ - WebUtils" />
  <meta name="keywords" content="down-payment,realestate,tools,webutils" />
  <meta name="author" content="WebUtils" />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href="https://tools.realtime-ai.chat/tools/realestate/down-payment.html" />

  <!-- Open Graph -->
  <meta property="og:title" content="é¦–ä»˜è®¡ç®—å™¨ - WebUtils" />
  <meta property="og:description" content="é¦–ä»˜è®¡ç®—å™¨ - WebUtils" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://tools.realtime-ai.chat/tools/realestate/down-payment.html" />
  <meta property="og:site_name" content="WebUtils" />
  <meta property="og:locale" content="zh_CN" />
  <meta property="og:image" content="https://tools.realtime-ai.chat/social-preview.png" />
  <meta property="og:image:width" content="1280" />
  <meta property="og:image:height" content="640" />
  <meta property="og:image:type" content="image/png" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="é¦–ä»˜è®¡ç®—å™¨ - WebUtils" />
  <meta name="twitter:description" content="é¦–ä»˜è®¡ç®—å™¨ - WebUtils" />
  <meta name="twitter:image" content="https://tools.realtime-ai.chat/social-preview.png" />

    <style>
    :root {
      --bg-deep: #0a0a0f;
      --bg-surface: #12121a;
      --bg-card: #1a1a24;
      --bg-input: #0e0e14;
      --text-primary: #e8e8ed;
      --text-secondary: #8888a0;
      --text-muted: #55556a;
      --border-subtle: #2a2a3a;
      --border-strong: #3a3a4a;
      --accent-cyan: #00f5d4;
      --accent-green: #10b981;
      --accent-red: #f43f5e;
      --accent-yellow: #fbbf24;
      --accent-purple: #a855f7;
      --glow-cyan: rgb(0, 245, 212, 0.15);
      --glow-green: rgb(16, 185, 129, 0.15);
      --glow-red: rgb(244, 63, 94, 0.15);
      --radius-sm: 4px;
      --radius-md: 8px;
      --radius-lg: 12px;
    }

    [data-theme="light"] {
      --bg-deep: #fafafa;
      --bg-surface: #fff;
      --bg-card: #fff;
      --bg-input: #f5f5f5;
      --bg-hover: #f5f5f5;
      --text-primary: #1a1a1a;
      --text-secondary: #666;
      --text-muted: #999;
      --border-subtle: #e5e5e5;
      --border-strong: #d5d5d5;
    }

    .theme-toggle {
      position: fixed;
      top: 1rem;
      right: 1rem;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: 1px solid var(--border-subtle);
      background: var(--bg-card);
      cursor: pointer;
      font-size: 1.2rem;
      z-index: 100;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .theme-toggle:hover {
      transform: scale(1.1);
    }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { 
            --bg: #0a0a0f; 
            --card: #12121a; 
            --border: #2a2a3a; 
            --text: #fff; 
            --text2: #888; 
            --accent: #10b981; 
            --accent2: #6366f1; 
            --warning: #f59e0b;
        }
        @media (prefers-color-scheme: light) { 
            :root { 
                --bg: #f5f5f5; 
                --card: #fff; 
                --border: #e0e0e0; 
                --text: #333; 
                --text2: #666; 
            } 
        }
        body { 
            font-family: system-ui, -apple-system, sans-serif; 
            background: var(--bg); 
            color: var(--text); 
            min-height: 100vh; 
            padding: 20px; 
        }
        .container { max-width: 800px; margin: 0 auto; }
        .back-link { 
            display: inline-block; 
            margin-bottom: 16px; 
            color: var(--accent); 
            text-decoration: none; 
            font-size: 0.9rem; 
        }
        .back-link:hover { text-decoration: underline; }
        h1 { text-align: center; margin-bottom: 8px; font-size: 1.8rem; }
        .subtitle { text-align: center; color: var(--text2); margin-bottom: 24px; }
        .tabs { display: flex; gap: 8px; margin-bottom: 20px; }
        .tab { 
            flex: 1; 
            padding: 12px; 
            border: 1px solid var(--border); 
            border-radius: 8px; 
            background: var(--bg); 
            color: var(--text); 
            cursor: pointer; 
            text-align: center; 
            transition: all 0.2s;
        }
        .tab:hover { border-color: var(--accent); }
        .tab.active { background: var(--accent); border-color: var(--accent); color: white; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        @media (max-width: 768px) { .grid { grid-template-columns: 1fr; } }
        .card { 
            background: var(--card); 
            border: 1px solid var(--border); 
            border-radius: 12px; 
            padding: 24px; 
            margin-bottom: 20px; 
        }
        .card-title { font-size: 1rem; color: var(--text2); margin-bottom: 16px; }
        .form-group { margin-bottom: 16px; }
        .form-group label { display: block; margin-bottom: 6px; font-size: 0.9rem; color: var(--text2); }
        input, select { 
            width: 100%; 
            padding: 12px; 
            border: 1px solid var(--border); 
            border-radius: 8px; 
            background: var(--bg); 
            color: var(--text); 
            font-size: 1rem; 
        }
        input:focus, select:focus { outline: none; border-color: var(--accent); }
        .input-group { display: flex; gap: 8px; }
        .input-group input { flex: 1; }
        .input-group .unit { 
            padding: 12px 16px; 
            background: var(--border); 
            border-radius: 8px; 
            color: var(--text2); 
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            min-width: 50px;
            justify-content: center;
        }
        .quick-btns { display: flex; gap: 8px; margin-top: 8px; flex-wrap: wrap; }
        .quick-btn { 
            padding: 6px 12px; 
            border: 1px solid var(--border); 
            border-radius: 4px; 
            background: var(--bg); 
            color: var(--text); 
            cursor: pointer; 
            font-size: 0.8rem; 
            transition: all 0.2s;
        }
        .quick-btn:hover { border-color: var(--accent); background: var(--accent); color: white; }
        .result-hero { 
            background: linear-gradient(135deg, var(--accent), #059669); 
            padding: 24px; 
            border-radius: 12px; 
            text-align: center; 
            color: white; 
            margin-bottom: 20px;
        }
        .result-hero .big { font-size: 2.2rem; font-weight: 700; }
        .result-hero .label { opacity: 0.9; margin-bottom: 4px; font-size: 0.9rem; }
        .result-hero .note { font-size: 0.8rem; opacity: 0.8; margin-top: 8px; }
        .result-row { 
            display: flex; 
            justify-content: space-between; 
            padding: 12px; 
            background: var(--bg); 
            border-radius: 8px; 
            margin-bottom: 8px; 
        }
        .result-row .label { color: var(--text2); }
        .result-row .value { font-weight: 600; }
        .result-row.highlight { background: rgba(16, 185, 129, 0.1); }
        .result-row.highlight .value { color: var(--accent); }
        .progress-bar { 
            height: 24px; 
            background: var(--bg); 
            border-radius: 12px; 
            overflow: hidden; 
            margin: 16px 0;
            position: relative;
        }
        .progress-fill { 
            height: 100%; 
            background: linear-gradient(90deg, var(--accent), var(--accent2)); 
            transition: width 0.3s ease;
            border-radius: 12px;
        }
        .progress-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--text);
        }
        .tip-box {
            background: rgba(245, 158, 11, 0.1);
            border: 1px solid var(--warning);
            border-radius: 8px;
            padding: 12px 16px;
            margin-top: 16px;
            font-size: 0.85rem;
            color: var(--warning);
        }
        .estimate-section { margin-top: 20px; padding-top: 20px; border-top: 1px solid var(--border); }
        .estimate-title { font-size: 0.9rem; color: var(--text2); margin-bottom: 12px; }
    
        .breadcrumb {     background: rgba(255,255,255,0.95); padding: 8px 15px; border-radius: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); font-size: 0.85rem; }
        .breadcrumb a { color: #667eea; text-decoration: none; }
        .breadcrumb a:hover { text-decoration: underline; }
        .breadcrumb span { color: #999; margin: 0 5px; }
    </style>
</head>
<body>
  <button class="theme-toggle" onclick="toggleTheme()" aria-label="åˆ‡æ¢ä¸»é¢˜">
    <span id="theme-icon">ğŸŒ™</span>
  </button>

    <nav class="breadcrumb"><a href="../../index.html">é¦–é¡µ</a><span>â€º</span>é¦–ä»˜è®¡ç®—å™¨</nav>
    <div class="container">
        <a href="../../index.html" class="back-link">â† è¿”å›å·¥å…·åˆ—è¡¨</a>
        <h1>ğŸ’° é¦–ä»˜è®¡ç®—å™¨</h1>
        <p class="subtitle">å¿«é€Ÿè®¡ç®—è´­æˆ¿é¦–ä»˜é‡‘é¢æˆ–åæ¨é¦–ä»˜æ¯”ä¾‹</p>
        
        <div class="tabs">
            <button class="tab active" data-mode="calc-amount">è®¡ç®—é¦–ä»˜é‡‘é¢</button>
            <button class="tab" data-mode="calc-ratio">åæ¨é¦–ä»˜æ¯”ä¾‹</button>
        </div>
        
        <div class="grid">
            <div class="card">
                <div class="card-title">è¾“å…¥å‚æ•°</div>
                <div class="form-group">
                    <label>æˆ¿å±‹æ€»ä»·</label>
                    <div class="input-group">
                        <input type="number" id="housePrice" value="200" min="0" step="1">
                        <span class="unit">ä¸‡å…ƒ</span>
                    </div>
                    <div class="quick-btns">
                        <button class="quick-btn" data-price="100">100ä¸‡</button>
                        <button class="quick-btn" data-price="200">200ä¸‡</button>
                        <button class="quick-btn" data-price="300">300ä¸‡</button>
                        <button class="quick-btn" data-price="500">500ä¸‡</button>
                    </div>
                </div>
                
                <div class="form-group" id="ratioGroup">
                    <label>é¦–ä»˜æ¯”ä¾‹</label>
                    <div class="input-group">
                        <input type="number" id="downPaymentRate" value="30" min="0" max="100" step="1">
                        <span class="unit">%</span>
                    </div>
                    <div class="quick-btns">
                        <button class="quick-btn" data-down="20">20%</button>
                        <button class="quick-btn" data-down="30">30%</button>
                        <button class="quick-btn" data-down="40">40%</button>
                        <button class="quick-btn" data-down="50">50%</button>
                    </div>
                </div>
                
                <div class="form-group" id="amountGroup" style="display: none;">
                    <label>é¦–ä»˜é‡‘é¢</label>
                    <div class="input-group">
                        <input type="number" id="downPaymentAmount" value="60" min="0" step="1">
                        <span class="unit">ä¸‡å…ƒ</span>
                    </div>
                    <div class="quick-btns">
                        <button class="quick-btn" data-amount="30">30ä¸‡</button>
                        <button class="quick-btn" data-amount="50">50ä¸‡</button>
                        <button class="quick-btn" data-amount="80">80ä¸‡</button>
                        <button class="quick-btn" data-amount="100">100ä¸‡</button>
                    </div>
                </div>
                
                <div class="estimate-section">
                    <div class="estimate-title">æœˆä¾›é¢„ä¼°å‚æ•°</div>
                    <div class="form-group">
                        <label>è´·æ¬¾å¹´é™</label>
                        <div class="input-group">
                            <input type="number" id="years" value="30" min="1" max="30" step="1">
                            <span class="unit">å¹´</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>å¹´åˆ©ç‡</label>
                        <div class="input-group">
                            <input type="number" id="rate" value="3.1" min="0" max="20" step="0.01">
                            <span class="unit">%</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div>
                <div class="result-hero">
                    <div class="label" id="heroLabel">éœ€æ”¯ä»˜é¦–ä»˜</div>
                    <div class="big" id="heroValue">Â¥60.00ä¸‡</div>
                    <div class="note" id="heroNote">å æˆ¿ä»· 30%</div>
                </div>
                
                <div class="card">
                    <div class="card-title">èµ„é‡‘æ„æˆ</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill" style="width: 30%"></div>
                        <span class="progress-text" id="progressText">é¦–ä»˜ 30%</span>
                    </div>
                    
                    <div class="result-row highlight">
                        <span class="label">é¦–ä»˜é‡‘é¢</span>
                        <span class="value" id="resultDownPayment">Â¥60.00ä¸‡</span>
                    </div>
                    <div class="result-row">
                        <span class="label">è´·æ¬¾é‡‘é¢</span>
                        <span class="value" id="resultLoan">Â¥140.00ä¸‡</span>
                    </div>
                    <div class="result-row">
                        <span class="label">æˆ¿å±‹æ€»ä»·</span>
                        <span class="value" id="resultTotal">Â¥200.00ä¸‡</span>
                    </div>
                    
                    <div style="margin-top: 20px; padding-top: 16px; border-top: 1px solid var(--border);">
                        <div class="card-title">æœˆä¾›é¢„ä¼°ï¼ˆç­‰é¢æœ¬æ¯ï¼‰</div>
                        <div class="result-row">
                            <span class="label">é¢„è®¡æœˆä¾›</span>
                            <span class="value" id="monthlyPayment">Â¥5,982.45</span>
                        </div>
                        <div class="result-row">
                            <span class="label">è¿˜æ¬¾æ€»é¢</span>
                            <span class="value" id="totalPayment">Â¥215.37ä¸‡</span>
                        </div>
                        <div class="result-row">
                            <span class="label">æ”¯ä»˜åˆ©æ¯</span>
                            <span class="value" id="totalInterest">Â¥75.37ä¸‡</span>
                        </div>
                    </div>
                    
                    <div class="tip-box" id="tipBox">
                        æç¤ºï¼šé¦–å¥—æˆ¿é¦–ä»˜æ¯”ä¾‹é€šå¸¸ä¸º20%-30%ï¼ŒäºŒå¥—æˆ¿é€šå¸¸ä¸º40%-60%ï¼Œå…·ä½“ä»¥å½“åœ°æ”¿ç­–ä¸ºå‡†ã€‚
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        (function() {
            let mode = 'calc-amount'; // calc-amount: è®¡ç®—é¦–ä»˜é‡‘é¢, calc-ratio: åæ¨é¦–ä»˜æ¯”ä¾‹
            
            const $ = (id) => document.getElementById(id);
            
            // æ ¼å¼åŒ–é‡‘é¢ï¼ˆä¸‡å…ƒï¼‰
            function formatWan(value) {
                return 'Â¥' + value.toLocaleString('zh-CN', { 
                    minimumFractionDigits: 2, 
                    maximumFractionDigits: 2 
                }) + 'ä¸‡';
            }
            
            // æ ¼å¼åŒ–é‡‘é¢ï¼ˆå…ƒï¼‰
            function formatYuan(value) {
                return 'Â¥' + value.toLocaleString('zh-CN', { 
                    minimumFractionDigits: 2, 
                    maximumFractionDigits: 2 
                });
            }
            
            // è®¡ç®—ç­‰é¢æœ¬æ¯æœˆä¾›
            function calcMonthlyPayment(principal, months, monthlyRate) {
                if (monthlyRate === 0 || months === 0) {
                    return principal / (months || 1);
                }
                return principal * monthlyRate * Math.pow(1 + monthlyRate, months) 
                    / (Math.pow(1 + monthlyRate, months) - 1);
            }
            
            // ä¸»è®¡ç®—å‡½æ•°
            function calculate() {
                const housePrice = parseFloat($('housePrice').value) || 0; // ä¸‡å…ƒ
                const years = parseInt($('years').value) || 30;
                const annualRate = parseFloat($('rate').value) / 100 || 0;
                const months = years * 12;
                const monthlyRate = annualRate / 12;
                
                let downPayment, downPaymentRate, loanAmount;
                
                if (mode === 'calc-amount') {
                    // æ ¹æ®æ¯”ä¾‹è®¡ç®—é¦–ä»˜é‡‘é¢
                    downPaymentRate = parseFloat($('downPaymentRate').value) / 100 || 0;
                    downPayment = housePrice * downPaymentRate;
                    loanAmount = housePrice - downPayment;
                    
                    $('heroLabel').textContent = 'éœ€æ”¯ä»˜é¦–ä»˜';
                    $('heroValue').textContent = formatWan(downPayment);
                    $('heroNote').textContent = 'å æˆ¿ä»· ' + (downPaymentRate * 100).toFixed(0) + '%';
                } else {
                    // æ ¹æ®é¦–ä»˜é‡‘é¢åæ¨æ¯”ä¾‹
                    downPayment = parseFloat($('downPaymentAmount').value) || 0; // ä¸‡å…ƒ
                    downPaymentRate = housePrice > 0 ? downPayment / housePrice : 0;
                    loanAmount = housePrice - downPayment;
                    
                    $('heroLabel').textContent = 'é¦–ä»˜æ¯”ä¾‹';
                    $('heroValue').textContent = (downPaymentRate * 100).toFixed(1) + '%';
                    $('heroNote').textContent = 'é¦–ä»˜ ' + formatWan(downPayment);
                }
                
                // æ›´æ–°è¿›åº¦æ¡
                const progressPercent = Math.min(100, Math.max(0, downPaymentRate * 100));
                $('progressFill').style.width = progressPercent + '%';
                $('progressText').textContent = 'é¦–ä»˜ ' + progressPercent.toFixed(0) + '%';
                
                // æ›´æ–°ç»“æœ
                $('resultDownPayment').textContent = formatWan(downPayment);
                $('resultLoan').textContent = formatWan(loanAmount);
                $('resultTotal').textContent = formatWan(housePrice);
                
                // è®¡ç®—æœˆä¾›é¢„ä¼°
                const loanAmountYuan = loanAmount * 10000;
                const monthlyPayment = calcMonthlyPayment(loanAmountYuan, months, monthlyRate);
                const totalPayment = monthlyPayment * months;
                const totalInterest = totalPayment - loanAmountYuan;
                
                $('monthlyPayment').textContent = formatYuan(monthlyPayment);
                $('totalPayment').textContent = formatWan(totalPayment / 10000);
                $('totalInterest').textContent = formatWan(totalInterest / 10000);
                
                // æ›´æ–°æç¤º
                updateTip(downPaymentRate);
            }
            
            // æ›´æ–°æç¤ºä¿¡æ¯
            function updateTip(rate) {
                const tipBox = $('tipBox');
                if (rate < 0.2) {
                    tipBox.textContent = 'æç¤ºï¼šé¦–ä»˜æ¯”ä¾‹è¾ƒä½ï¼Œéƒ¨åˆ†åœ°åŒºå¯èƒ½ä¸æ»¡è¶³è´·æ¬¾æ¡ä»¶ã€‚å»ºè®®é¦–ä»˜è‡³å°‘20%ä»¥ä¸Šã€‚';
                    tipBox.style.borderColor = '#ef4444';
                    tipBox.style.color = '#ef4444';
                    tipBox.style.background = 'rgba(239, 68, 68, 0.1)';
                } else if (rate >= 0.2 && rate < 0.3) {
                    tipBox.textContent = 'æç¤ºï¼š20%-30%é¦–ä»˜é€šå¸¸é€‚ç”¨äºé¦–å¥—æˆ¿ï¼Œå…·ä½“æ”¿ç­–è¯·å’¨è¯¢å½“åœ°é“¶è¡Œã€‚';
                    tipBox.style.borderColor = '#f59e0b';
                    tipBox.style.color = '#f59e0b';
                    tipBox.style.background = 'rgba(245, 158, 11, 0.1)';
                } else if (rate >= 0.3 && rate < 0.5) {
                    tipBox.textContent = 'æç¤ºï¼š30%-50%é¦–ä»˜æ˜¯æ¯”è¾ƒå¸¸è§çš„é¦–ä»˜åŒºé—´ï¼Œè´·æ¬¾å®¡æ‰¹é€šè¿‡ç‡è¾ƒé«˜ã€‚';
                    tipBox.style.borderColor = '#10b981';
                    tipBox.style.color = '#10b981';
                    tipBox.style.background = 'rgba(16, 185, 129, 0.1)';
                } else {
                    tipBox.textContent = 'æç¤ºï¼šé¦–ä»˜æ¯”ä¾‹è¾ƒé«˜ï¼Œè´·æ¬¾é‡‘é¢è¾ƒå°‘ï¼Œæœˆä¾›å‹åŠ›ä¼šæ˜æ˜¾é™ä½ã€‚';
                    tipBox.style.borderColor = '#6366f1';
                    tipBox.style.color = '#6366f1';
                    tipBox.style.background = 'rgba(99, 102, 241, 0.1)';
                }
            }
            
            // åˆ‡æ¢æ¨¡å¼
            function switchMode(newMode) {
                mode = newMode;
                
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelector('[data-mode="' + newMode + '"]').classList.add('active');
                
                if (newMode === 'calc-amount') {
                    $('ratioGroup').style.display = 'block';
                    $('amountGroup').style.display = 'none';
                } else {
                    $('ratioGroup').style.display = 'none';
                    $('amountGroup').style.display = 'block';
                }
                
                calculate();
            }
            
            // äº‹ä»¶ç»‘å®š
            function bindEvents() {
                // Tab åˆ‡æ¢
                document.querySelectorAll('.tab').forEach(tab => {
                    tab.addEventListener('click', function() {
                        switchMode(this.dataset.mode);
                    });
                });
                
                // è¾“å…¥æ¡†å˜åŒ–
                ['housePrice', 'downPaymentRate', 'downPaymentAmount', 'years', 'rate'].forEach(id => {
                    $(id).addEventListener('input', calculate);
                });
                
                // å¿«æ·æŒ‰é’® - æˆ¿ä»·
                document.querySelectorAll('.quick-btn[data-price]').forEach(btn => {
                    btn.addEventListener('click', function() {
                        $('housePrice').value = this.dataset.price;
                        calculate();
                    });
                });
                
                // å¿«æ·æŒ‰é’® - é¦–ä»˜æ¯”ä¾‹
                document.querySelectorAll('.quick-btn[data-down]').forEach(btn => {
                    btn.addEventListener('click', function() {
                        $('downPaymentRate').value = this.dataset.down;
                        calculate();
                    });
                });
                
                // å¿«æ·æŒ‰é’® - é¦–ä»˜é‡‘é¢
                document.querySelectorAll('.quick-btn[data-amount]').forEach(btn => {
                    btn.addEventListener('click', function() {
                        $('downPaymentAmount').value = this.dataset.amount;
                        calculate();
                    });
                });
            }
            
            // åˆå§‹åŒ–
            bindEvents();
            calculate();
        })();
    
    // Theme toggle
    function toggleTheme() {
      const html = document.documentElement;
      const currentTheme = html.getAttribute('data-theme');
      const newTheme = currentTheme === 'light' ? 'dark' : 'light';
      html.setAttribute('data-theme', newTheme);
      document.getElementById('theme-icon').textContent = newTheme === 'light' ? 'â˜€ï¸' : 'ğŸŒ™';
      localStorage.setItem('theme', newTheme);
    }

    // Load saved theme
    const savedTheme = localStorage.getItem('theme') || 'dark';
    if (savedTheme === 'light') {
      document.documentElement.setAttribute('data-theme', 'light');
      document.getElementById('theme-icon').textContent = 'â˜€ï¸';
    }

</script>
</body>
</html>
