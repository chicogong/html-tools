<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BMI è®¡ç®—å™¨ - HTML Tools</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { --bg-primary: #0a0a0f; --bg-secondary: #12121a; --bg-tertiary: #1a1a25; --text-primary: #fff; --text-secondary: #88a; --accent: #6366f1; --border: #2a2a3a; --success: #22c55e; --warning: #f59e0b; --danger: #ef4444; }
        [data-theme="light"] { --bg-primary: #f8fafc; --bg-secondary: #fff; --bg-tertiary: #f1f5f9; --text-primary: #1e293b; --text-secondary: #64748b; --border: #e2e8f0; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: var(--bg-primary); color: var(--text-primary); min-height: 100vh; }
        .header { background: linear-gradient(135deg, #22c55e, #10b981); padding: 2rem; text-align: center; }
        .header h1 { font-size: 1.8rem; margin-bottom: 0.5rem; }
        .nav { display: flex; justify-content: space-between; max-width: 1200px; margin: 0 auto 1rem; }
        .back-link { color: rgba(255,255,255,0.9); text-decoration: none; }
        .theme-toggle { background: rgba(255,255,255,0.2); border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; color: white; cursor: pointer; }
        .container { max-width: 600px; margin: 0 auto; padding: 2rem; }
        .card { background: var(--bg-secondary); border: 1px solid var(--border); border-radius: 1rem; padding: 1.5rem; margin-bottom: 1.5rem; }
        .result-display { text-align: center; padding: 2rem; margin-bottom: 1.5rem; }
        .bmi-value { font-size: 4rem; font-weight: 700; }
        .bmi-label { font-size: 1.2rem; margin-top: 0.5rem; }
        .bmi-range { font-size: 0.9rem; color: var(--text-secondary); margin-top: 0.5rem; }
        .input-group { margin-bottom: 1rem; }
        .input-group label { display: block; margin-bottom: 0.5rem; color: var(--text-secondary); font-size: 0.9rem; }
        .input-row { display: flex; gap: 0.5rem; }
        .input-row input { flex: 1; }
        .input-row select { width: 80px; }
        input, select { width: 100%; padding: 0.75rem 1rem; border: 1px solid var(--border); border-radius: 0.5rem; background: var(--bg-tertiary); color: var(--text-primary); font-size: 1rem; }
        .scale { margin: 1.5rem 0; }
        .scale-bar { height: 12px; border-radius: 6px; background: linear-gradient(90deg, #3b82f6 0%, #22c55e 25%, #f59e0b 50%, #ef4444 75%, #dc2626 100%); position: relative; }
        .scale-marker { position: absolute; top: -6px; width: 4px; height: 24px; background: var(--text-primary); border-radius: 2px; transform: translateX(-50%); transition: left 0.3s; }
        .scale-labels { display: flex; justify-content: space-between; margin-top: 0.5rem; font-size: 0.75rem; color: var(--text-secondary); }
        .info-table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
        .info-table th, .info-table td { padding: 0.75rem; text-align: left; border-bottom: 1px solid var(--border); }
        .info-table th { color: var(--text-secondary); font-weight: 500; }
        .category { display: inline-block; width: 12px; height: 12px; border-radius: 2px; margin-right: 0.5rem; }
        .ideal-weight { background: var(--bg-tertiary); border-radius: 0.5rem; padding: 1rem; margin-top: 1rem; text-align: center; }
        .ideal-weight-title { font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 0.5rem; }
        .ideal-weight-value { font-size: 1.5rem; font-weight: 600; color: var(--success); }
    </style>
</head>
<body>
    <div class="header">
        <div class="nav">
            <a href="../../index.html" class="back-link">â† è¿”å›é¦–é¡µ</a>
            <button class="theme-toggle" onclick="toggleTheme()">ğŸŒ“ ä¸»é¢˜</button>
        </div>
        <h1>âš–ï¸ BMI è®¡ç®—å™¨</h1>
        <p>èº«ä½“è´¨é‡æŒ‡æ•°è®¡ç®—ä¸å¥åº·è¯„ä¼°</p>
    </div>
    <div class="container">
        <div class="card">
            <div class="result-display">
                <div class="bmi-value" id="bmiValue">--</div>
                <div class="bmi-label" id="bmiLabel">è¯·è¾“å…¥èº«é«˜ä½“é‡</div>
                <div class="bmi-range" id="bmiRange"></div>
            </div>
            
            <div class="scale">
                <div class="scale-bar">
                    <div class="scale-marker" id="marker" style="left: 50%"></div>
                </div>
                <div class="scale-labels">
                    <span>åç˜¦</span>
                    <span>æ­£å¸¸</span>
                    <span>è¶…é‡</span>
                    <span>è‚¥èƒ–</span>
                </div>
            </div>
            
            <div class="input-group">
                <label>èº«é«˜</label>
                <div class="input-row">
                    <input type="number" id="height" value="170" oninput="calculate()">
                    <select id="heightUnit" onchange="calculate()">
                        <option value="cm">å˜ç±³</option>
                        <option value="m">ç±³</option>
                        <option value="ft">è‹±å°º</option>
                    </select>
                </div>
            </div>
            
            <div class="input-group">
                <label>ä½“é‡</label>
                <div class="input-row">
                    <input type="number" id="weight" value="65" oninput="calculate()">
                    <select id="weightUnit" onchange="calculate()">
                        <option value="kg">åƒå…‹</option>
                        <option value="lb">ç£…</option>
                    </select>
                </div>
            </div>
            
            <div class="ideal-weight">
                <div class="ideal-weight-title">ç†æƒ³ä½“é‡èŒƒå›´ (BMI 18.5-24)</div>
                <div class="ideal-weight-value" id="idealWeight">--</div>
            </div>
        </div>
        
        <div class="card">
            <h3 style="margin-bottom: 1rem;">BMI åˆ†ç±»æ ‡å‡†</h3>
            <table class="info-table">
                <tr><th>åˆ†ç±»</th><th>BMI èŒƒå›´</th><th>å¥åº·é£é™©</th></tr>
                <tr><td><span class="category" style="background:#3b82f6"></span>åç˜¦</td><td>&lt; 18.5</td><td>è¥å…»ä¸è‰¯é£é™©</td></tr>
                <tr><td><span class="category" style="background:#22c55e"></span>æ­£å¸¸</td><td>18.5 - 24</td><td>ä½é£é™©</td></tr>
                <tr><td><span class="category" style="background:#f59e0b"></span>è¶…é‡</td><td>24 - 28</td><td>ä¸­ç­‰é£é™©</td></tr>
                <tr><td><span class="category" style="background:#ef4444"></span>è‚¥èƒ–</td><td>28 - 32</td><td>é«˜é£é™©</td></tr>
                <tr><td><span class="category" style="background:#dc2626"></span>é‡åº¦è‚¥èƒ–</td><td>&gt; 32</td><td>æé«˜é£é™©</td></tr>
            </table>
        </div>
    </div>
    <script>
        window.calculate = function() {
            let height = parseFloat(document.getElementById('height').value);
            let weight = parseFloat(document.getElementById('weight').value);
            const heightUnit = document.getElementById('heightUnit').value;
            const weightUnit = document.getElementById('weightUnit').value;
            
            // Convert to meters
            if (heightUnit === 'cm') height = height / 100;
            else if (heightUnit === 'ft') height = height * 0.3048;
            
            // Convert to kg
            if (weightUnit === 'lb') weight = weight * 0.453592;
            
            if (height > 0 && weight > 0) {
                const bmi = weight / (height * height);
                document.getElementById('bmiValue').textContent = bmi.toFixed(1);
                
                let label, color, position;
                if (bmi < 18.5) {
                    label = 'åç˜¦'; color = '#3b82f6'; position = (bmi / 18.5) * 25;
                } else if (bmi < 24) {
                    label = 'æ­£å¸¸'; color = '#22c55e'; position = 25 + ((bmi - 18.5) / 5.5) * 25;
                } else if (bmi < 28) {
                    label = 'è¶…é‡'; color = '#f59e0b'; position = 50 + ((bmi - 24) / 4) * 25;
                } else if (bmi < 32) {
                    label = 'è‚¥èƒ–'; color = '#ef4444'; position = 75 + ((bmi - 28) / 4) * 20;
                } else {
                    label = 'é‡åº¦è‚¥èƒ–'; color = '#dc2626'; position = 95;
                }
                
                document.getElementById('bmiLabel').textContent = label;
                document.getElementById('bmiLabel').style.color = color;
                document.getElementById('bmiValue').style.color = color;
                document.getElementById('marker').style.left = Math.min(position, 98) + '%';
                
                // Calculate ideal weight range
                const minWeight = 18.5 * height * height;
                const maxWeight = 24 * height * height;
                const unitLabel = weightUnit === 'lb' ? 'lb' : 'kg';
                const factor = weightUnit === 'lb' ? 2.20462 : 1;
                document.getElementById('idealWeight').textContent = 
                    `${(minWeight * factor).toFixed(1)} - ${(maxWeight * factor).toFixed(1)} ${unitLabel}`;
                
                document.getElementById('bmiRange').textContent = 
                    `èº«é«˜ ${(height * 100).toFixed(0)}cmï¼Œç†æƒ³ BMI èŒƒå›´ 18.5-24`;
            }
        };
        
        window.toggleTheme = function() {
            const t = document.body.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
            document.body.setAttribute('data-theme', t);
            localStorage.setItem('theme', t);
        };

        document.body.setAttribute('data-theme', localStorage.getItem('theme') || 'dark');
        calculate();
    </script>
</body>
</html>
