<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é˜…è¯»æ—¶é—´ä¼°ç®— - Reading Time Calculator</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">
    <style>
        :root { --primary: #3b82f6; }
        body { padding: 1rem; min-height: 100vh; }
        .container { max-width: 900px; margin: 0 auto; }
        header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; }
        header h1 { margin: 0; font-size: 1.5rem; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 1rem; margin-bottom: 1.5rem; }
        .stat-card { background: var(--pico-card-background-color); border-radius: 10px; padding: 1rem; text-align: center; }
        .stat-card .icon { font-size: 1.5rem; margin-bottom: 0.25rem; }
        .stat-card .value { font-size: 1.5rem; font-weight: 700; color: var(--primary); }
        .stat-card .label { font-size: 0.75rem; color: var(--pico-muted-color); }
        .settings { background: var(--pico-card-background-color); border-radius: 10px; padding: 1rem; margin-bottom: 1rem; }
        .settings-row { display: flex; gap: 1rem; flex-wrap: wrap; align-items: center; }
        .settings-row label { font-size: 0.85rem; display: flex; align-items: center; gap: 0.5rem; }
        .settings-row input[type="number"] { width: 80px; margin: 0; }
        .settings-row select { width: auto; margin: 0; }
        .input-panel { background: var(--pico-card-background-color); border-radius: 10px; padding: 1rem; margin-bottom: 1rem; }
        .input-panel textarea { min-height: 300px; font-size: 1rem; line-height: 1.6; }
        .detail-stats { background: var(--pico-card-background-color); border-radius: 10px; padding: 1rem; }
        .detail-stats h3 { margin: 0 0 1rem; font-size: 1rem; }
        .detail-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; }
        .detail-item { display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid var(--pico-muted-border-color); }
        .detail-item:last-child { border-bottom: none; }
        .detail-item .name { color: var(--pico-muted-color); }
        .detail-item .value { font-weight: 500; }
        .time-display { font-size: 2.5rem; font-weight: 700; color: var(--primary); text-align: center; padding: 1.5rem; background: var(--pico-card-background-color); border-radius: 10px; margin-bottom: 1rem; }
        .time-display .unit { font-size: 1rem; font-weight: normal; color: var(--pico-muted-color); }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ“– é˜…è¯»æ—¶é—´ä¼°ç®—</h1>
            <button id="themeToggle" class="outline">ğŸŒ™</button>
        </header>
        <div class="time-display"><span id="readingTime">0</span> <span class="unit">åˆ†é’Ÿé˜…è¯»</span></div>
        <div class="stats-grid">
            <div class="stat-card"><div class="icon">ğŸ“</div><div class="value" id="charCount">0</div><div class="label">æ€»å­—ç¬¦</div></div>
            <div class="stat-card"><div class="icon">ğŸ”¤</div><div class="value" id="wordCount">0</div><div class="label">å•è¯/è¯ç»„</div></div>
            <div class="stat-card"><div class="icon">ğŸ“„</div><div class="value" id="paraCount">0</div><div class="label">æ®µè½</div></div>
            <div class="stat-card"><div class="icon">ğŸ“</div><div class="value" id="lineCount">0</div><div class="label">è¡Œæ•°</div></div>
        </div>
        <div class="settings">
            <div class="settings-row">
                <label>é˜…è¯»é€Ÿåº¦ï¼š<input type="number" id="readSpeed" value="300" min="50" max="1000"> <select id="speedUnit"><option value="cpm">å­—/åˆ†é’Ÿ</option><option value="wpm">è¯/åˆ†é’Ÿ</option></select></label>
                <label>è¯­è¨€ç±»å‹ï¼š<select id="langType"><option value="zh">ä¸­æ–‡</option><option value="en">è‹±æ–‡</option><option value="mixed">ä¸­è‹±æ··åˆ</option></select></label>
            </div>
        </div>
        <div class="input-panel">
            <textarea id="inputText" placeholder="ç²˜è´´æˆ–è¾“å…¥æ–‡æœ¬å†…å®¹..."></textarea>
        </div>
        <div class="detail-stats">
            <h3>è¯¦ç»†ç»Ÿè®¡</h3>
            <div class="detail-grid">
                <div><div class="detail-item"><span class="name">ä¸­æ–‡å­—ç¬¦</span><span class="value" id="zhCount">0</span></div><div class="detail-item"><span class="name">è‹±æ–‡å­—ç¬¦</span><span class="value" id="enCount">0</span></div><div class="detail-item"><span class="name">æ•°å­—</span><span class="value" id="numCount">0</span></div></div>
                <div><div class="detail-item"><span class="name">æ ‡ç‚¹ç¬¦å·</span><span class="value" id="punctCount">0</span></div><div class="detail-item"><span class="name">ç©ºæ ¼</span><span class="value" id="spaceCount">0</span></div><div class="detail-item"><span class="name">è‹±æ–‡å•è¯</span><span class="value" id="enWordCount">0</span></div></div>
            </div>
        </div>
    </div>
    <script>
        const $ = id => document.getElementById(id);
        window.analyze = function() {
            const text = $('inputText').value;
            const speed = parseInt($('readSpeed').value) || 300;
            const speedUnit = $('speedUnit').value;
            const langType = $('langType').value;
            // Character counts
            const zhChars = (text.match(/[\u4e00-\u9fa5]/g) || []).length;
            const enChars = (text.match(/[a-zA-Z]/g) || []).length;
            const numChars = (text.match(/[0-9]/g) || []).length;
            const punctChars = (text.match(/[ï¼Œã€‚ï¼ï¼Ÿã€ï¼›ï¼š""''ï¼ˆï¼‰ã€ã€‘ã€Šã€‹\.,!?;:'"()\[\]{}]/g) || []).length;
            const spaces = (text.match(/\s/g) || []).length;
            const enWords = (text.match(/[a-zA-Z]+/g) || []).length;
            // Basic stats
            const totalChars = text.length;
            const lines = text.split('\n').length;
            const paras = text.split(/\n\s*\n/).filter(p => p.trim()).length || (text.trim() ? 1 : 0);
            // Calculate reading time
            let readingMinutes = 0;
            if (langType === 'zh') {
                readingMinutes = zhChars / speed;
            } else if (langType === 'en') {
                readingMinutes = speedUnit === 'wpm' ? enWords / speed : enChars / speed;
            } else {
                // Mixed: Chinese chars + English words
                const zhTime = zhChars / 300;
                const enTime = enWords / 200;
                readingMinutes = zhTime + enTime;
            }
            // Update UI
            $('readingTime').textContent = Math.max(1, Math.ceil(readingMinutes));
            $('charCount').textContent = totalChars;
            $('wordCount').textContent = zhChars + enWords;
            $('paraCount').textContent = paras;
            $('lineCount').textContent = lines;
            $('zhCount').textContent = zhChars;
            $('enCount').textContent = enChars;
            $('numCount').textContent = numChars;
            $('punctCount').textContent = punctChars;
            $('spaceCount').textContent = spaces;
            $('enWordCount').textContent = enWords;
        };
        $('inputText').oninput = analyze;
        $('readSpeed').oninput = analyze;
        $('speedUnit').onchange = analyze;
        $('langType').onchange = analyze;
        function loadTheme() { const t = localStorage.getItem('theme') || 'light'; document.documentElement.setAttribute('data-theme', t); $('themeToggle').textContent = t === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™'; }
        window.toggleTheme = function() { const c = document.documentElement.getAttribute('data-theme'); const n = c === 'dark' ? 'light' : 'dark'; document.documentElement.setAttribute('data-theme', n); localStorage.setItem('theme', n); $('themeToggle').textContent = n === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™'; };
        $('themeToggle').onclick = toggleTheme;
        loadTheme();
    </script>
</body>
</html>
