<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTMLÂÆû‰ΩìÁºñÁ†ÅÂô®</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: linear-gradient(135deg, #e96443 0%, #904e95 100%); min-height: 100vh; padding: 20px; }
        .container { max-width: 800px; margin: 0 auto; }
        h1 { color: white; text-align: center; margin-bottom: 30px; font-size: 28px; text-shadow: 2px 2px 4px rgba(0,0,0,0.2); }
        .card { background: white; border-radius: 20px; padding: 30px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); }
        .tabs { display: flex; gap: 10px; margin-bottom: 20px; }
        .tab { flex: 1; padding: 12px; background: #f0f0f0; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: 500; }
        .tab.active { background: linear-gradient(135deg, #e96443, #904e95); color: white; }
        label { display: block; margin-bottom: 8px; font-weight: 600; color: #333; }
        textarea { width: 100%; height: 150px; padding: 15px; border: 2px solid #e0e0e0; border-radius: 10px; font-size: 14px; font-family: monospace; resize: vertical; }
        textarea:focus { outline: none; border-color: #e96443; }
        .arrow { text-align: center; padding: 15px; font-size: 24px; color: #904e95; }
        .btn-copy { width: 100%; padding: 12px; background: linear-gradient(135deg, #e96443, #904e95); color: white; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; margin-top: 15px; }
        .reference { margin-top: 25px; padding: 20px; background: #f8f9fa; border-radius: 12px; }
        .reference-title { font-weight: 600; margin-bottom: 15px; }
        .reference-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }
        .ref-item { background: white; padding: 10px; border-radius: 6px; text-align: center; font-family: monospace; font-size: 12px; }
        .ref-char { font-size: 20px; margin-bottom: 5px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üî§ HTMLÂÆû‰ΩìÁºñÁ†ÅÂô®</h1>
        <div class="card">
            <div class="tabs">
                <button class="tab active" onclick="setMode('encode')">ÁºñÁ†Å</button>
                <button class="tab" onclick="setMode('decode')">Ëß£Á†Å</button>
            </div>
            <div>
                <label id="inputLabel">ËæìÂÖ•ÊñáÊú¨</label>
                <textarea id="input" placeholder="ËæìÂÖ•Ë¶ÅÁºñÁ†ÅÁöÑÊñáÊú¨..."><div class="test">Hello & World</div></textarea>
            </div>
            <div class="arrow">‚Üì</div>
            <div>
                <label id="outputLabel">ÁºñÁ†ÅÁªìÊûú</label>
                <textarea id="output" readonly></textarea>
            </div>
            <button class="btn-copy" onclick="copyResult()">Â§çÂà∂ÁªìÊûú</button>
            <div class="reference">
                <div class="reference-title">Â∏∏Áî®HTMLÂÆû‰Ωì</div>
                <div class="reference-grid">
                    <div class="ref-item"><div class="ref-char">&lt;</div>&amp;lt;</div>
                    <div class="ref-item"><div class="ref-char">&gt;</div>&amp;gt;</div>
                    <div class="ref-item"><div class="ref-char">&amp;</div>&amp;amp;</div>
                    <div class="ref-item"><div class="ref-char">&quot;</div>&amp;quot;</div>
                    <div class="ref-item"><div class="ref-char">&apos;</div>&amp;apos;</div>
                    <div class="ref-item"><div class="ref-char">&nbsp;</div>&amp;nbsp;</div>
                    <div class="ref-item"><div class="ref-char">&copy;</div>&amp;copy;</div>
                    <div class="ref-item"><div class="ref-char">&reg;</div>&amp;reg;</div>
                </div>
            </div>
        </div>
    </div>
    <script>
        let mode = 'encode';
        const entities = {'&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#39;'};
        const reverseEntities = {'&amp;': '&', '&lt;': '<', '&gt;': '>', '&quot;': '"', '&#39;': "'", '&apos;': "'", '&nbsp;': ' '};
        function encode(str) {
            return str.replace(/[&<>"']/g, c => entities[c]);
        }
        function decode(str) {
            return str.replace(/&(amp|lt|gt|quot|apos|nbsp|#39|#(\d+)|#x([0-9a-fA-F]+));/g, (match, entity, dec, hex) => {
                if (reverseEntities['&' + entity + ';']) return reverseEntities['&' + entity + ';'];
                if (dec) return String.fromCharCode(parseInt(dec, 10));
                if (hex) return String.fromCharCode(parseInt(hex, 16));
                return match;
            });
        }
        function process() {
            const input = document.getElementById('input').value;
            document.getElementById('output').value = mode === 'encode' ? encode(input) : decode(input);
        }
        function setMode(m) {
            mode = m;
            document.querySelectorAll('.tab').forEach((t, i) => t.classList.toggle('active', (m === 'encode' && i === 0) || (m === 'decode' && i === 1)));
            document.getElementById('inputLabel').textContent = m === 'encode' ? 'ËæìÂÖ•ÊñáÊú¨' : 'ËæìÂÖ•HTMLÂÆû‰Ωì';
            document.getElementById('outputLabel').textContent = m === 'encode' ? 'ÁºñÁ†ÅÁªìÊûú' : 'Ëß£Á†ÅÁªìÊûú';
            process();
        }
        function copyResult() {
            navigator.clipboard.writeText(document.getElementById('output').value);
            const btn = document.querySelector('.btn-copy');
            btn.textContent = 'Â∑≤Â§çÂà∂!';
            setTimeout(() => btn.textContent = 'Â§çÂà∂ÁªìÊûú', 1500);
        }
        document.getElementById('input').addEventListener('input', process);
        process();
    </script>
</body>
</html>
