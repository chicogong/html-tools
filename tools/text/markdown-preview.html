<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown é¢„è§ˆå™¨ - HTML Tools</title>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { --bg-primary: #0a0a0f; --bg-secondary: #12121a; --bg-tertiary: #1a1a25; --text-primary: #fff; --text-secondary: #88a; --accent: #6366f1; --border: #2a2a3a; --success: #22c55e; }
        [data-theme="light"] { --bg-primary: #f8fafc; --bg-secondary: #fff; --bg-tertiary: #f1f5f9; --text-primary: #1e293b; --text-secondary: #64748b; --border: #e2e8f0; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: var(--bg-primary); color: var(--text-primary); min-height: 100vh; }
        .header { background: linear-gradient(135deg, #6366f1, #8b5cf6); padding: 1.5rem 2rem; }
        .header-content { max-width: 1400px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; }
        .header h1 { font-size: 1.5rem; }
        .header-actions { display: flex; gap: 0.5rem; }
        .btn { padding: 0.5rem 1rem; border: none; border-radius: 0.5rem; cursor: pointer; font-size: 0.9rem; transition: all 0.2s; }
        .btn-ghost { background: rgba(255,255,255,0.2); color: white; }
        .btn-ghost:hover { background: rgba(255,255,255,0.3); }
        .back-link { color: rgba(255,255,255,0.9); text-decoration: none; }
        .main { display: flex; height: calc(100vh - 80px); }
        .panel { flex: 1; display: flex; flex-direction: column; overflow: hidden; }
        .panel-header { padding: 0.75rem 1rem; background: var(--bg-secondary); border-bottom: 1px solid var(--border); font-size: 0.85rem; color: var(--text-secondary); display: flex; justify-content: space-between; align-items: center; }
        .editor { flex: 1; border: none; border-right: 1px solid var(--border); background: var(--bg-secondary); color: var(--text-primary); padding: 1rem; font-family: 'Fira Code', Consolas, monospace; font-size: 0.95rem; line-height: 1.6; resize: none; outline: none; }
        .preview { flex: 1; padding: 1.5rem; overflow-y: auto; background: var(--bg-secondary); }
        .preview h1 { font-size: 2rem; margin: 1rem 0; padding-bottom: 0.5rem; border-bottom: 1px solid var(--border); }
        .preview h2 { font-size: 1.5rem; margin: 1rem 0 0.5rem; padding-bottom: 0.25rem; border-bottom: 1px solid var(--border); }
        .preview h3 { font-size: 1.25rem; margin: 0.75rem 0; }
        .preview p { margin: 0.75rem 0; line-height: 1.8; }
        .preview ul, .preview ol { margin: 0.75rem 0; padding-left: 1.5rem; }
        .preview li { margin: 0.25rem 0; }
        .preview code { background: var(--bg-tertiary); padding: 0.125rem 0.375rem; border-radius: 0.25rem; font-family: monospace; font-size: 0.9em; }
        .preview pre { background: var(--bg-tertiary); padding: 1rem; border-radius: 0.5rem; overflow-x: auto; margin: 1rem 0; }
        .preview pre code { background: none; padding: 0; }
        .preview blockquote { border-left: 4px solid var(--accent); padding-left: 1rem; margin: 1rem 0; color: var(--text-secondary); }
        .preview a { color: var(--accent); }
        .preview table { border-collapse: collapse; width: 100%; margin: 1rem 0; }
        .preview th, .preview td { border: 1px solid var(--border); padding: 0.5rem; text-align: left; }
        .preview th { background: var(--bg-tertiary); }
        .preview img { max-width: 100%; border-radius: 0.5rem; }
        .preview hr { border: none; border-top: 1px solid var(--border); margin: 1.5rem 0; }
        .view-toggle { display: flex; gap: 0.25rem; }
        .view-btn { padding: 0.25rem 0.75rem; background: var(--bg-tertiary); border: 1px solid var(--border); border-radius: 0.25rem; color: var(--text-secondary); cursor: pointer; font-size: 0.8rem; }
        .view-btn.active { background: var(--accent); border-color: var(--accent); color: white; }
        @media (max-width: 768px) {
            .main { flex-direction: column; }
            .editor { border-right: none; border-bottom: 1px solid var(--border); }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <div style="display: flex; align-items: center; gap: 1rem;">
                <a href="../../index.html" class="back-link">â† è¿”å›</a>
                <h1>ğŸ“ Markdown é¢„è§ˆå™¨</h1>
            </div>
            <div class="header-actions">
                <div class="view-toggle">
                    <button class="view-btn active" onclick="setView('split')">åˆ†æ </button>
                    <button class="view-btn" onclick="setView('edit')">ç¼–è¾‘</button>
                    <button class="view-btn" onclick="setView('preview')">é¢„è§ˆ</button>
                </div>
                <button class="btn btn-ghost" onclick="toggleTheme()">ğŸŒ“ ä¸»é¢˜</button>
            </div>
        </div>
    </div>
    <div class="main" id="main">
        <div class="panel" id="editorPanel">
            <div class="panel-header">
                <span>Markdown ç¼–è¾‘å™¨</span>
                <span id="charCount">0 å­—ç¬¦</span>
            </div>
            <textarea class="editor" id="editor" oninput="updatePreview()"># Hello Markdown!

æ¬¢è¿ä½¿ç”¨ **Markdown é¢„è§ˆå™¨**ã€‚

## åŠŸèƒ½ç‰¹æ€§

- å®æ—¶é¢„è§ˆ
- è¯­æ³•é«˜äº®
- æ”¯æŒ GFM æ‰©å±•

### ä»£ç ç¤ºä¾‹

```javascript
function greet(name) {
    return `Hello, ${name}!`;
}
```

### è¡¨æ ¼ç¤ºä¾‹

| åç§° | ç±»å‹ | æè¿° |
|------|------|------|
| id | number | å”¯ä¸€æ ‡è¯† |
| name | string | ç”¨æˆ·å |

### å¼•ç”¨

&gt; Markdown æ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ã€‚

### é“¾æ¥

è®¿é—® [HTML Tools](https://example.com) è·å–æ›´å¤šå·¥å…·ã€‚

---

*æ–œä½“* å’Œ **ç²—ä½“** å’Œ ~~åˆ é™¤çº¿~~
</textarea>
        </div>
        <div class="panel" id="previewPanel">
            <div class="panel-header">
                <span>é¢„è§ˆ</span>
            </div>
            <div class="preview" id="preview"></div>
        </div>
    </div>
    <script>
        let currentView = 'split';
        
        window.updatePreview = function() {
            const markdown = document.getElementById('editor').value;
            document.getElementById('preview').innerHTML = marked.parse(markdown);
            document.getElementById('charCount').textContent = markdown.length + ' å­—ç¬¦';
        };
        
        window.setView = function(view) {
            currentView = view;
            document.querySelectorAll('.view-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelector(`.view-btn:nth-child(${view === 'split' ? 1 : view === 'edit' ? 2 : 3})`).classList.add('active');
            
            const editorPanel = document.getElementById('editorPanel');
            const previewPanel = document.getElementById('previewPanel');
            
            editorPanel.style.display = view === 'preview' ? 'none' : 'flex';
            previewPanel.style.display = view === 'edit' ? 'none' : 'flex';
        };
        
        window.toggleTheme = function() {
            const t = document.body.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
            document.body.setAttribute('data-theme', t);
            localStorage.setItem('theme', t);
        };

        document.body.setAttribute('data-theme', localStorage.getItem('theme') || 'dark');
        updatePreview();
    </script>
</body>
</html>
