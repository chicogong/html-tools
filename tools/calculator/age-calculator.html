<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å¹´é¾„è®¡ç®—å™¨ | WebUtils</title>
  <meta name="description" content="åœ¨çº¿å¹´é¾„è®¡ç®—å™¨ï¼Œç²¾ç¡®è®¡ç®—å¹´é¾„ã€å‡ºç”Ÿå¤©æ•°ã€ä¸‹æ¬¡ç”Ÿæ—¥å€’è®¡æ—¶ç­‰">
  <meta name="keywords" content="å¹´é¾„è®¡ç®—,å‡ºç”Ÿæ—¥æœŸ,ç”Ÿæ—¥å€’è®¡æ—¶,å‘¨å²,å¤©æ•°">
  <link rel="icon" href="../../favicon.svg" type="image/svg+xml">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #ff6b6b 0%, #feca57 100%);
      min-height: 100vh;
      padding: 20px;
    }
    .container {
      max-width: 600px;
      margin: 0 auto;
    }
    .back-link {
      display: inline-flex;
      align-items: center;
      gap: 5px;
      color: white;
      text-decoration: none;
      margin-bottom: 20px;
      opacity: 0.9;
    }
    .back-link:hover { opacity: 1; }
    h1 {
      color: white;
      text-align: center;
      margin-bottom: 30px;
      font-size: 2rem;
    }
    .card {
      background: white;
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.15);
    }
    .input-group {
      margin-bottom: 25px;
    }
    .input-group label {
      display: block;
      color: #333;
      font-weight: 600;
      margin-bottom: 10px;
    }
    input[type="date"] {
      width: 100%;
      padding: 15px;
      border: 2px solid #e1e5e9;
      border-radius: 12px;
      font-size: 16px;
      transition: border-color 0.3s;
    }
    input[type="date"]:focus {
      outline: none;
      border-color: #ff6b6b;
    }
    .btn {
      width: 100%;
      padding: 15px;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      background: linear-gradient(135deg, #ff6b6b 0%, #feca57 100%);
      color: white;
    }
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(255,107,107,0.4);
    }
    .result {
      margin-top: 30px;
      display: none;
    }
    .result.show { display: block; }
    .age-display {
      text-align: center;
      padding: 30px;
      background: linear-gradient(135deg, #ff6b6b 0%, #feca57 100%);
      border-radius: 16px;
      color: white;
      margin-bottom: 25px;
    }
    .age-main {
      font-size: 4rem;
      font-weight: 700;
    }
    .age-unit {
      font-size: 1.5rem;
      opacity: 0.9;
    }
    .age-detail {
      margin-top: 10px;
      font-size: 1.1rem;
      opacity: 0.9;
    }
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      margin-bottom: 25px;
    }
    .stat-item {
      background: #f8f9fa;
      border-radius: 12px;
      padding: 20px;
      text-align: center;
    }
    .stat-value {
      font-size: 1.8rem;
      font-weight: 700;
      color: #ff6b6b;
    }
    .stat-label {
      font-size: 0.9rem;
      color: #666;
      margin-top: 5px;
    }
    .birthday-section {
      background: linear-gradient(135deg, #a8e6cf 0%, #88d8b0 100%);
      border-radius: 12px;
      padding: 20px;
      text-align: center;
      color: white;
    }
    .birthday-section h3 {
      margin-bottom: 10px;
    }
    .countdown {
      font-size: 1.5rem;
      font-weight: 700;
    }
    .zodiac-section {
      margin-top: 20px;
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
    }
    .zodiac-item {
      background: #f8f9fa;
      border-radius: 12px;
      padding: 15px;
      text-align: center;
    }
    .zodiac-icon {
      font-size: 2rem;
      margin-bottom: 5px;
    }
    .zodiac-name {
      font-weight: 600;
      color: #333;
    }
    .zodiac-label {
      font-size: 0.8rem;
      color: #666;
    }
    .fun-facts {
      margin-top: 20px;
      padding: 20px;
      background: #fff9e6;
      border-radius: 12px;
    }
    .fun-facts h3 {
      color: #f39c12;
      margin-bottom: 15px;
    }
    .fun-fact {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px dashed #f0e6d2;
    }
    .fun-fact:last-child { border-bottom: none; }
    .fact-label { color: #666; }
    .fact-value { font-weight: 600; color: #333; }
  </style>
</head>
<body>
  <div class="container">
    <a href="../../index.html" class="back-link">â† è¿”å›å·¥å…·åˆ—è¡¨</a>
    <h1>å¹´é¾„è®¡ç®—å™¨</h1>
    
    <div class="card">
      <div class="input-group">
        <label>é€‰æ‹©å‡ºç”Ÿæ—¥æœŸ</label>
        <input type="date" id="birthDate">
      </div>
      
      <button class="btn" onclick="calculateAge()">è®¡ç®—å¹´é¾„</button>
      
      <div class="result" id="result">
        <div class="age-display">
          <div class="age-main"><span id="ageYears">0</span><span class="age-unit"> å²</span></div>
          <div class="age-detail" id="ageDetail"></div>
        </div>
        
        <div class="stats-grid">
          <div class="stat-item">
            <div class="stat-value" id="totalMonths">0</div>
            <div class="stat-label">æ€»æœˆæ•°</div>
          </div>
          <div class="stat-item">
            <div class="stat-value" id="totalWeeks">0</div>
            <div class="stat-label">æ€»å‘¨æ•°</div>
          </div>
          <div class="stat-item">
            <div class="stat-value" id="totalDays">0</div>
            <div class="stat-label">æ€»å¤©æ•°</div>
          </div>
          <div class="stat-item">
            <div class="stat-value" id="totalHours">0</div>
            <div class="stat-label">æ€»å°æ—¶</div>
          </div>
        </div>
        
        <div class="birthday-section">
          <h3>ä¸‹æ¬¡ç”Ÿæ—¥</h3>
          <div class="countdown" id="birthdayCountdown"></div>
          <div id="nextBirthdayDate"></div>
        </div>
        
        <div class="zodiac-section">
          <div class="zodiac-item">
            <div class="zodiac-icon" id="zodiacIcon"></div>
            <div class="zodiac-name" id="zodiacName"></div>
            <div class="zodiac-label">æ˜Ÿåº§</div>
          </div>
          <div class="zodiac-item">
            <div class="zodiac-icon" id="chineseZodiacIcon"></div>
            <div class="zodiac-name" id="chineseZodiac"></div>
            <div class="zodiac-label">ç”Ÿè‚–</div>
          </div>
        </div>
        
        <div class="fun-facts">
          <h3>æœ‰è¶£çš„æ•°æ®</h3>
          <div class="fun-fact">
            <span class="fact-label">å¿ƒè·³æ¬¡æ•°ï¼ˆçº¦ï¼‰</span>
            <span class="fact-value" id="heartbeats"></span>
          </div>
          <div class="fun-fact">
            <span class="fact-label">å‘¼å¸æ¬¡æ•°ï¼ˆçº¦ï¼‰</span>
            <span class="fact-value" id="breaths"></span>
          </div>
          <div class="fun-fact">
            <span class="fact-label">ç¡çœ æ—¶é—´ï¼ˆçº¦ï¼‰</span>
            <span class="fact-value" id="sleepTime"></span>
          </div>
          <div class="fun-fact">
            <span class="fact-label">ç»å†çš„æ»¡æœˆ</span>
            <span class="fact-value" id="fullMoons"></span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const ZODIACS = [
      { name: 'æ‘©ç¾¯åº§', icon: 'â™‘', start: [12, 22], end: [1, 19] },
      { name: 'æ°´ç“¶åº§', icon: 'â™’', start: [1, 20], end: [2, 18] },
      { name: 'åŒé±¼åº§', icon: 'â™“', start: [2, 19], end: [3, 20] },
      { name: 'ç™½ç¾Šåº§', icon: 'â™ˆ', start: [3, 21], end: [4, 19] },
      { name: 'é‡‘ç‰›åº§', icon: 'â™‰', start: [4, 20], end: [5, 20] },
      { name: 'åŒå­åº§', icon: 'â™Š', start: [5, 21], end: [6, 21] },
      { name: 'å·¨èŸ¹åº§', icon: 'â™‹', start: [6, 22], end: [7, 22] },
      { name: 'ç‹®å­åº§', icon: 'â™Œ', start: [7, 23], end: [8, 22] },
      { name: 'å¤„å¥³åº§', icon: 'â™', start: [8, 23], end: [9, 22] },
      { name: 'å¤©ç§¤åº§', icon: 'â™', start: [9, 23], end: [10, 23] },
      { name: 'å¤©èåº§', icon: 'â™', start: [10, 24], end: [11, 22] },
      { name: 'å°„æ‰‹åº§', icon: 'â™', start: [11, 23], end: [12, 21] }
    ];

    const CHINESE_ZODIACS = ['é¼ ', 'ç‰›', 'è™', 'å…”', 'é¾™', 'è›‡', 'é©¬', 'ç¾Š', 'çŒ´', 'é¸¡', 'ç‹—', 'çŒª'];
    const CHINESE_ZODIAC_ICONS = ['ğŸ­', 'ğŸ®', 'ğŸ¯', 'ğŸ°', 'ğŸ²', 'ğŸ', 'ğŸ´', 'ğŸ‘', 'ğŸµ', 'ğŸ”', 'ğŸ¶', 'ğŸ·'];

    function getZodiac(month, day) {
      for (const zodiac of ZODIACS) {
        const [sm, sd] = zodiac.start;
        const [em, ed] = zodiac.end;
        
        if (sm > em) {
          if ((month === sm && day >= sd) || (month === em && day <= ed)) {
            return zodiac;
          }
        } else {
          if ((month === sm && day >= sd) || (month === em && day <= ed) || 
              (month > sm && month < em)) {
            return zodiac;
          }
        }
      }
      return ZODIACS[0];
    }

    function getChineseZodiac(year) {
      const index = (year - 4) % 12;
      return {
        name: CHINESE_ZODIACS[index],
        icon: CHINESE_ZODIAC_ICONS[index]
      };
    }

    function formatNumber(num) {
      if (num >= 1e9) return (num / 1e9).toFixed(1) + ' äº¿';
      if (num >= 1e8) return (num / 1e8).toFixed(1) + ' åƒä¸‡';
      if (num >= 1e4) return (num / 1e4).toFixed(1) + ' ä¸‡';
      return num.toLocaleString();
    }

    function calculateAge() {
      const birthDateInput = document.getElementById('birthDate').value;
      if (!birthDateInput) {
        alert('è¯·é€‰æ‹©å‡ºç”Ÿæ—¥æœŸ');
        return;
      }

      const birthDate = new Date(birthDateInput);
      const today = new Date();
      
      if (birthDate > today) {
        alert('å‡ºç”Ÿæ—¥æœŸä¸èƒ½æ˜¯æœªæ¥æ—¥æœŸ');
        return;
      }

      // è®¡ç®—å¹´é¾„
      let years = today.getFullYear() - birthDate.getFullYear();
      let months = today.getMonth() - birthDate.getMonth();
      let days = today.getDate() - birthDate.getDate();

      if (days < 0) {
        months--;
        const lastMonth = new Date(today.getFullYear(), today.getMonth(), 0);
        days += lastMonth.getDate();
      }
      if (months < 0) {
        years--;
        months += 12;
      }

      // æ€»å¤©æ•°
      const totalDays = Math.floor((today - birthDate) / (1000 * 60 * 60 * 24));
      const totalWeeks = Math.floor(totalDays / 7);
      const totalMonths = years * 12 + months;
      const totalHours = totalDays * 24;

      // ä¸‹æ¬¡ç”Ÿæ—¥
      let nextBirthday = new Date(today.getFullYear(), birthDate.getMonth(), birthDate.getDate());
      if (nextBirthday <= today) {
        nextBirthday = new Date(today.getFullYear() + 1, birthDate.getMonth(), birthDate.getDate());
      }
      const daysUntilBirthday = Math.ceil((nextBirthday - today) / (1000 * 60 * 60 * 24));

      // æ˜Ÿåº§å’Œç”Ÿè‚–
      const zodiac = getZodiac(birthDate.getMonth() + 1, birthDate.getDate());
      const chineseZodiac = getChineseZodiac(birthDate.getFullYear());

      // æœ‰è¶£æ•°æ®
      const heartbeats = totalDays * 24 * 60 * 70; // 70æ¬¡/åˆ†é’Ÿ
      const breaths = totalDays * 24 * 60 * 16; // 16æ¬¡/åˆ†é’Ÿ
      const sleepYears = (totalDays / 365 * 8 / 24).toFixed(1); // 8å°æ—¶/å¤©
      const fullMoons = Math.floor(totalDays / 29.5);

      // æ›´æ–°æ˜¾ç¤º
      document.getElementById('ageYears').textContent = years;
      document.getElementById('ageDetail').textContent = `${years} å¹´ ${months} ä¸ªæœˆ ${days} å¤©`;
      document.getElementById('totalMonths').textContent = formatNumber(totalMonths);
      document.getElementById('totalWeeks').textContent = formatNumber(totalWeeks);
      document.getElementById('totalDays').textContent = formatNumber(totalDays);
      document.getElementById('totalHours').textContent = formatNumber(totalHours);
      
      document.getElementById('birthdayCountdown').textContent = 
        daysUntilBirthday === 0 ? 'ä»Šå¤©æ˜¯æ‚¨çš„ç”Ÿæ—¥ï¼' : `è¿˜æœ‰ ${daysUntilBirthday} å¤©`;
      document.getElementById('nextBirthdayDate').textContent = 
        nextBirthday.toLocaleDateString('zh-CN', { month: 'long', day: 'numeric' });
      
      document.getElementById('zodiacIcon').textContent = zodiac.icon;
      document.getElementById('zodiacName').textContent = zodiac.name;
      document.getElementById('chineseZodiacIcon').textContent = chineseZodiac.icon;
      document.getElementById('chineseZodiac').textContent = chineseZodiac.name;
      
      document.getElementById('heartbeats').textContent = formatNumber(heartbeats) + ' æ¬¡';
      document.getElementById('breaths').textContent = formatNumber(breaths) + ' æ¬¡';
      document.getElementById('sleepTime').textContent = sleepYears + ' å¹´';
      document.getElementById('fullMoons').textContent = fullMoons + ' æ¬¡';

      document.getElementById('result').classList.add('show');
    }

    // è®¾ç½®é»˜è®¤æ—¥æœŸèŒƒå›´
    const dateInput = document.getElementById('birthDate');
    const today = new Date().toISOString().split('T')[0];
    dateInput.max = today;
    dateInput.addEventListener('change', calculateAge);
  </script>
</body>
</html>
