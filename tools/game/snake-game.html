<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ë¥™ÂêÉËõáÊ∏∏Êàè - WebUtils</title>
    <!-- SEO Meta Tags -->
    <meta name="description" content="Ë¥™ÂêÉËõáÊ∏∏Êàè - WebUtils" />
    <meta name="keywords" content="snake-game,game,tools,webutils" />
    <meta name="author" content="WebUtils" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://tools.realtime-ai.chat/tools/game/snake-game.html" />

    <!-- Open Graph -->
    <meta property="og:title" content="Ë¥™ÂêÉËõáÊ∏∏Êàè - WebUtils" />
    <meta property="og:description" content="Ë¥™ÂêÉËõáÊ∏∏Êàè - WebUtils" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://tools.realtime-ai.chat/tools/game/snake-game.html" />
    <meta property="og:site_name" content="WebUtils" />
    <meta property="og:locale" content="zh_CN" />
    <meta property="og:image" content="https://tools.realtime-ai.chat/social-preview.png" />
    <meta property="og:image:width" content="1280" />
    <meta property="og:image:height" content="640" />
    <meta property="og:image:type" content="image/png" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Ë¥™ÂêÉËõáÊ∏∏Êàè - WebUtils" />
    <meta name="twitter:description" content="Ë¥™ÂêÉËõáÊ∏∏Êàè - WebUtils" />
    <meta name="twitter:image" content="https://tools.realtime-ai.chat/social-preview.png" />

    <meta name="description" content="ÁªèÂÖ∏Ë¥™ÂêÉËõáÊ∏∏ÊàèÔºåÊîØÊåÅÈîÆÁõòÂíåËß¶Â±èÊéßÂà∂" />
    <meta name="keywords" content="Ë¥™ÂêÉËõá,snake,Ê∏∏Êàè,game,ÁªèÂÖ∏" />
    <link rel="icon" href="../../favicon.svg" type="image/svg+xml" />
    <style>
      :root {
        --color-bg-deep: #0a0a0f;
        --color-bg-surface: #12121a;
        --color-bg-card: #1a1a24;
        --bg-input: #0e0e14;
        --color-text-primary: #e8e8ed;
        --color-text-secondary: #8888a0;
        --color-text-muted: #55556a;
        --border-subtle: #2a2a3a;
        --border-strong: #3a3a4a;
        --color-accent-cyan: #00f5d4;
        --accent-green: #10b981;
        --accent-red: #f43f5e;
        --accent-yellow: #fbbf24;
        --color-accent-purple: #a855f7;
        --glow-cyan: rgb(0, 245, 212, 0.15);
        --glow-green: rgb(16, 185, 129, 0.15);
        --glow-red: rgb(244, 63, 94, 0.15);
        --radius-sm: 4px;
        --radius-md: 8px;
        --radius-lg: 12px;
      
  /* Â≠ó‰ΩìÂèòÈáè */
  --font-sans: 'Space Grotesk', -apple-system, blinkmacsystemfont, 'Segoe UI', roboto, sans-serif;
  --font-mono: 'JetBrains Mono', 'Courier New', monospace;
}

      [data-theme="light"] {
        --color-bg-deep: #fafafa;
        --color-bg-surface: #fff;
        --color-bg-card: #fff;
        --bg-input: #f5f5f5;
        --bg-hover: #f5f5f5;
        --color-text-primary: #1a1a1a;
        --color-text-secondary: #666;
        --color-text-muted: #999;
        --border-subtle: #e5e5e5;
        --border-strong: #d5d5d5;
      }

      .theme-toggle {
        position: fixed;
        top: 1rem;
        right: 1rem;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        border: 1px solid var(--border-subtle);
        background: var(--color-bg-card);
        cursor: pointer;
        font-size: 1.2rem;
        z-index: 100;
        transition: all 0.2s;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .theme-toggle:hover {
        transform: scale(1.1);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: var(--font-sans);
        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        min-height: 100vh;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      .back-link {
        position: absolute;
        top: 20px;
        left: 20px;
        color: #4ecca3;
        text-decoration: none;
      }
      .back-link:hover {
        opacity: 0.8;
      }
      h1 {
        color: #4ecca3;
        text-align: center;
        margin: 40px 0 20px;
        font-size: 2rem;
      }
      .game-container {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 20px;
        padding: 20px;
        backdrop-filter: blur(10px);
      }
      .score-board {
        display: flex;
        justify-content: space-between;
        margin-bottom: 15px;
        color: white;
        font-size: 18px;
      }
      .score-board span {
        background: rgba(78, 204, 163, 0.2);
        padding: 8px 20px;
        border-radius: 20px;
      }
      #gameCanvas {
        border: 3px solid #4ecca3;
        border-radius: 10px;
        display: block;
      }
      .controls {
        margin-top: 20px;
        text-align: center;
      }
      .btn {
        padding: 12px 30px;
        border: none;
        border-radius: 25px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        margin: 5px;
      }
      .btn-primary {
        background: linear-gradient(135deg, #4ecca3 0%, #45b393 100%);
        color: #1a1a2e;
      }
      .btn-secondary {
        background: rgba(255, 255, 255, 0.1);
        color: white;
        border: 1px solid rgba(255, 255, 255, 0.3);
      }
      .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 20px rgba(78, 204, 163, 0.3);
      }
      .mobile-controls {
        display: none;
        grid-template-columns: repeat(3, 60px);
        gap: 10px;
        justify-content: center;
        margin-top: 20px;
      }
      @media (max-width: 600px) {
        .mobile-controls {
          display: grid;
        }
      }
      .direction-btn {
        width: 60px;
        height: 60px;
        border: none;
        border-radius: 12px;
        background: rgba(78, 204, 163, 0.3);
        color: white;
        font-size: 24px;
        cursor: pointer;
        transition: all 0.2s;
      }
      .direction-btn:active {
        background: rgba(78, 204, 163, 0.6);
        transform: scale(0.95);
      }
      .direction-btn.empty {
        background: transparent;
        cursor: default;
      }
      .overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 100;
      }
      .overlay.show {
        display: flex;
      }
      .overlay-content {
        background: #1a1a2e;
        border: 2px solid #4ecca3;
        border-radius: 20px;
        padding: 40px;
        text-align: center;
        color: white;
      }
      .overlay-content h2 {
        color: #4ecca3;
        font-size: 2rem;
        margin-bottom: 20px;
      }
      .final-score {
        font-size: 3rem;
        font-weight: 700;
        color: #f39c12;
        margin: 20px 0;
      }
      .difficulty {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin-top: 15px;
      }
      .diff-btn {
        padding: 8px 16px;
        border: 1px solid rgba(255, 255, 255, 0.3);
        border-radius: 15px;
        background: transparent;
        color: white;
        cursor: pointer;
        font-size: 14px;
        transition: all 0.3s;
      }
      .diff-btn.active {
        background: #4ecca3;
        color: #1a1a2e;
        border-color: #4ecca3;
      }
      .instructions {
        margin-top: 20px;
        color: rgba(255, 255, 255, 0.6);
        font-size: 14px;
      }

      .breadcrumb {
        background: rgba(255, 255, 255, 0.95);
        padding: 8px 15px;
        border-radius: 20px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        font-size: 0.85rem;
      }
      .breadcrumb a {
        color: #667eea;
        text-decoration: none;
      }
      .breadcrumb a:hover {
        text-decoration: underline;
      }
      .breadcrumb span {
        color: #999;
        margin: 0 5px;
      }
    </style>
    <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
  <body>
    <button class="theme-toggle" onclick="toggleTheme()" aria-label="ÂàáÊç¢‰∏ªÈ¢ò">
      <span id="theme-icon">üåô</span>
    </button>

    <nav class="breadcrumb">
      <a href="../../index.html">È¶ñÈ°µ</a>
      <span>‚Ä∫</span>
      Ë¥™ÂêÉËõáÊ∏∏Êàè
    </nav>
    <h1>Ë¥™ÂêÉËõá</h1>
    <div class="game-container">
      <div class="score-board">
        <span>
          ÂæóÂàÜ:
          <strong id="score">0</strong>
        </span>
        <span>
          ÊúÄÈ´ò:
          <strong id="highScore">0</strong>
        </span>
      </div>
      <canvas id="gameCanvas" width="400" height="400"></canvas>
      <div class="controls">
        <button class="btn btn-primary" id="startBtn" onclick="startGame()">ÂºÄÂßãÊ∏∏Êàè</button>
        <button class="btn btn-secondary" onclick="pauseGame()">ÊöÇÂÅú</button>
      </div>
      <div class="difficulty">
        <button class="diff-btn" onclick="setDifficulty('easy')">ÁÆÄÂçï</button>
        <button class="diff-btn active" onclick="setDifficulty('normal')">ÊôÆÈÄö</button>
        <button class="diff-btn" onclick="setDifficulty('hard')">Âõ∞Èöæ</button>
      </div>
      <div class="mobile-controls">
        <div class="direction-btn empty"></div>
        <button class="direction-btn" onclick="changeDirection('up')">‚Üë</button>
        <div class="direction-btn empty"></div>
        <button class="direction-btn" onclick="changeDirection('left')">‚Üê</button>
        <button class="direction-btn" onclick="changeDirection('down')">‚Üì</button>
        <button class="direction-btn" onclick="changeDirection('right')">‚Üí</button>
      </div>
      <p class="instructions">‰ΩøÁî®ÊñπÂêëÈîÆÊàñ WASD ÊéßÂà∂ËõáÁöÑÁßªÂä®</p>
    </div>
    <div class="overlay" id="gameOverOverlay">
      <div class="overlay-content">
        <h2>Ê∏∏ÊàèÁªìÊùü</h2>
        <div class="final-score" id="finalScore">0</div>
        <p>ÂàÜ</p>
        <button class="btn btn-primary" onclick="startGame()" style="margin-top: 20px">
          ÂÜçÊù•‰∏ÄÂ±Ä
        </button>
      </div>
    </div>
    <script>
      const canvas = document.getElementById("gameCanvas");
      const ctx = canvas.getContext("2d");
      const gridSize = 20;
      const gridCount = canvas.width / gridSize;
      let snake = [];
      let food = {};
      let direction = "right";
      let nextDirection = "right";
      let score = 0;
      let highScore = parseInt(localStorage.getItem("snakeHighScore")) || 0;
      let gameLoop = null;
      let isPaused = false;
      let gameSpeed = 150;
      const speeds = { easy: 200, normal: 150, hard: 80 };
      document.getElementById("highScore").textContent = highScore;

      function initGame() {
        snake = [
          { x: 5, y: 10 },
          { x: 4, y: 10 },
          { x: 3, y: 10 }
        ];
        direction = "right";
        nextDirection = "right";
        score = 0;
        document.getElementById("score").textContent = score;
        generateFood();
      }

      function generateFood() {
        do {
          food = {
            x: Math.floor(Math.random() * gridCount),
            y: Math.floor(Math.random() * gridCount)
          };
        } while (snake.some((segment) => segment.x === food.x && segment.y === food.y));
      }

      function draw() {
        ctx.fillStyle = "#0f0f23";
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.strokeStyle = "rgba(78, 204, 163, 0.1)";
        ctx.lineWidth = 1;
        for (let i = 0; i <= gridCount; i++) {
          ctx.beginPath();
          ctx.moveTo(i * gridSize, 0);
          ctx.lineTo(i * gridSize, canvas.height);
          ctx.stroke();
          ctx.beginPath();
          ctx.moveTo(0, i * gridSize);
          ctx.lineTo(canvas.width, i * gridSize);
          ctx.stroke();
        }
        ctx.fillStyle = "#e74c3c";
        ctx.beginPath();
        ctx.arc(
          food.x * gridSize + gridSize / 2,
          food.y * gridSize + gridSize / 2,
          gridSize / 2 - 2,
          0,
          Math.PI * 2
        );
        ctx.fill();
        snake.forEach((segment, index) => {
          const alpha = 1 - (index / snake.length) * 0.5;
          ctx.fillStyle = index === 0 ? "#5dfa7e" : `rgba(78, 204, 163, ${alpha})`;
          ctx.beginPath();
          ctx.roundRect(
            segment.x * gridSize + 1,
            segment.y * gridSize + 1,
            gridSize - 2,
            gridSize - 2,
            4
          );
          ctx.fill();
          if (index === 0) {
            ctx.fillStyle = "#1a1a2e";
            const eyeSize = 3;
            let offset = { x: 5, y: -3 };
            if (direction === "left") offset = { x: -5, y: -3 };
            else if (direction === "up") offset = { x: -3, y: -5 };
            else if (direction === "down") offset = { x: -3, y: 5 };
            ctx.beginPath();
            ctx.arc(
              segment.x * gridSize + gridSize / 2 + offset.x,
              segment.y * gridSize + gridSize / 2 + offset.y,
              eyeSize,
              0,
              Math.PI * 2
            );
            ctx.fill();
          }
        });
      }

      function update() {
        direction = nextDirection;
        const head = { ...snake[0] };
        switch (direction) {
          case "up":
            head.y--;
            break;
          case "down":
            head.y++;
            break;
          case "left":
            head.x--;
            break;
          case "right":
            head.x++;
            break;
        }
        if (head.x < 0 || head.x >= gridCount || head.y < 0 || head.y >= gridCount) {
          gameOver();
          return;
        }
        if (snake.some((segment) => segment.x === head.x && segment.y === head.y)) {
          gameOver();
          return;
        }
        snake.unshift(head);
        if (head.x === food.x && head.y === food.y) {
          score += 10;
          document.getElementById("score").textContent = score;
          generateFood();
        } else {
          snake.pop();
        }
        draw();
      }

      function startGame() {
        if (gameLoop) clearInterval(gameLoop);
        initGame();
        isPaused = false;
        document.getElementById("gameOverOverlay").classList.remove("show");
        document.getElementById("startBtn").textContent = "ÈáçÊñ∞ÂºÄÂßã";
        draw();
        gameLoop = setInterval(update, gameSpeed);
      }

      function pauseGame() {
        if (!gameLoop) return;
        if (isPaused) {
          gameLoop = setInterval(update, gameSpeed);
          isPaused = false;
        } else {
          clearInterval(gameLoop);
          gameLoop = null;
          isPaused = true;
          ctx.fillStyle = "rgba(0,0,0,0.7)";
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          ctx.fillStyle = "#4ecca3";
          ctx.font = "bold 30px sans-serif";
          ctx.textAlign = "center";
          ctx.fillText("ÊöÇÂÅú", canvas.width / 2, canvas.height / 2);
          gameLoop = "paused";
        }
      }

      function gameOver() {
        clearInterval(gameLoop);
        gameLoop = null;
        if (score > highScore) {
          highScore = score;
          localStorage.setItem("snakeHighScore", highScore);
          document.getElementById("highScore").textContent = highScore;
        }
        document.getElementById("finalScore").textContent = score;
        document.getElementById("gameOverOverlay").classList.add("show");
      }

      function setDifficulty(level) {
        gameSpeed = speeds[level];
        document.querySelectorAll(".diff-btn").forEach((btn) => {
          btn.classList.toggle(
            "active",
            btn.textContent.toLowerCase().includes(level.substring(0, 2))
          );
        });
        if (gameLoop && gameLoop !== "paused") {
          clearInterval(gameLoop);
          gameLoop = setInterval(update, gameSpeed);
        }
      }

      function changeDirection(newDirection) {
        const opposites = { up: "down", down: "up", left: "right", right: "left" };
        if (newDirection !== opposites[direction]) nextDirection = newDirection;
      }

      document.addEventListener("keydown", (e) => {
        const keyMap = {
          ArrowUp: "up",
          ArrowDown: "down",
          ArrowLeft: "left",
          ArrowRight: "right",
          w: "up",
          W: "up",
          s: "down",
          S: "down",
          a: "left",
          A: "left",
          d: "right",
          D: "right"
        };
        if (keyMap[e.key]) {
          e.preventDefault();
          changeDirection(keyMap[e.key]);
        }
        if (e.key === " ") {
          e.preventDefault();
          if (gameLoop) pauseGame();
          else startGame();
        }
      });

      let touchStartX = 0,
        touchStartY = 0;
      canvas.addEventListener("touchstart", (e) => {
        touchStartX = e.touches[0].clientX;
        touchStartY = e.touches[0].clientY;
      });
      canvas.addEventListener("touchend", (e) => {
        const dx = e.changedTouches[0].clientX - touchStartX;
        const dy = e.changedTouches[0].clientY - touchStartY;
        if (Math.abs(dx) > Math.abs(dy)) changeDirection(dx > 0 ? "right" : "left");
        else changeDirection(dy > 0 ? "down" : "up");
      });

      initGame();
      draw();

      // Theme toggle
      function toggleTheme() {
        const html = document.documentElement;
        const currentTheme = html.getAttribute("data-theme");
        const newTheme = currentTheme === "light" ? "dark" : "light";
        html.setAttribute("data-theme", newTheme);
        document.getElementById("theme-icon").textContent = newTheme === "light" ? "‚òÄÔ∏è" : "üåô";
        localStorage.setItem("theme", newTheme);
      }

      // Load saved theme
      const savedTheme = localStorage.getItem("theme") || "dark";
      if (savedTheme === "light") {
        document.documentElement.setAttribute("data-theme", "light");
        document.getElementById("theme-icon").textContent = "‚òÄÔ∏è";
      }
    </script>
  </body>
</html>
