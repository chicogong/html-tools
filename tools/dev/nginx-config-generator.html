<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Nginx é…ç½®ç”Ÿæˆå™¨ - WebUtils</title>
    <meta property="og:title" content="Nginx é…ç½®ç”Ÿæˆå™¨ - WebUtils" />
    <meta property="og:description" content="Nginx é…ç½®ç”Ÿæˆå™¨ï¼šåœ¨çº¿å®ç”¨å·¥å…·ï¼Œå…è´¹åœ¨çº¿ä½¿ç”¨ï¼Œæ— éœ€å®‰è£…" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://tools.realtime-ai.chat/tools/dev/nginx-config-generator.html" />
    <meta property="og:site_name" content="WebUtils" />
    <meta property="og:locale" content="zh_CN" />
    <link rel="canonical" href="https://tools.realtime-ai.chat/tools/dev/nginx-config-generator.html" />
    <meta name="description" content="å¯è§†åŒ–ç”Ÿæˆ Nginx é…ç½®æ–‡ä»¶" />
    <meta name="keywords" content="nginx config generator é…ç½® æœåŠ¡å™¨ åå‘ä»£ç†" />
    <style>
      :root {
        --bg-deep: #0a0a0f;
        --bg-surface: #12121a;
        --bg-card: #1a1a24;
        --bg-input: #0e0e14;
        --text-primary: #e8e8ed;
        --text-secondary: #8888a0;
        --text-muted: #55556a;
        --border-subtle: #2a2a3a;
        --border-strong: #3a3a4a;
        --accent-cyan: #00f5d4;
        --accent-magenta: #f72585;
        --accent-green: #10b981;
        --accent-red: #f43f5e;
        --accent-yellow: #fbbf24;
        --accent-blue: #4cc9f0;
        --accent-purple: #7b2cbf;
        --radius-sm: 4px;
        --radius-md: 8px;
        --radius-lg: 12px;
        --font-sans: "Space Grotesk", -apple-system, blinkmacsystemfont, "Segoe UI", roboto, sans-serif;
        --font-mono: "JetBrains Mono", "Courier New", monospace;
        --shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
      }

      [data-theme="light"] {
        --bg-deep: #fafafa;
        --bg-surface: #fff;
        --bg-card: #fff;
        --bg-input: #f5f5f5;
        --text-primary: #1a1a1a;
        --text-secondary: #666;
        --text-muted: #999;
        --border-subtle: #e5e5e5;
        --border-strong: #d5d5d5;
        --accent-cyan: #00d4b8;
        --accent-magenta: #e63975;
        --shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      }

      
      
      * {
        box-sizing: border-box;
      }
      body {
        font-family: system-ui, sans-serif;
        font-size: 16px;
        line-height: 1.6;
        background: var(--bg-deep);
        color: var(--text-primary);
        margin: 0;
        padding: 24px;
        min-height: 100vh;
      }
      .container {
        max-width: 1000px;
        margin: 0 auto;
      }
      .back-link {
        display: inline-block;
        margin-bottom: 16px;
        color: var(--accent-cyan);
        text-decoration: none;
      }
      h1 {
        font-size: 1.75rem;
        margin: 0 0 8px;
      }
      .desc {
        color: var(--text-muted);
        margin: 0 0 24px;
      }
      .card {
        background: var(--bg-card);
        border: 1px solid var(--border-subtle);
        border-radius: var(--radius-md);
        padding: 20px;
        box-shadow: var(--shadow);
        margin-bottom: 20px;
      }
      .theme-toggle {
        position: fixed;
        top: 1rem;
        right: 1rem;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        border: 1px solid var(--border-subtle);
        background: var(--bg-card);
        cursor: pointer;
        font-size: 1.2rem;
        z-index: 100;
      }
      .grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
      }
      .form-group {
        margin-bottom: 16px;
      }
      .form-group label {
        display: block;
        font-weight: 500;
        margin-bottom: 8px;
      }
      .form-group input,
      .form-group select {
        width: 100%;
        padding: 10px;
        border: 1px solid var(--border-subtle);
        border-radius: var(--radius-md);
        background: var(--bg-deep);
        color: var(--text-primary);
      }
      .form-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 12px;
      }
      .checkbox-group {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }
      .checkbox-group label {
        display: flex;
        align-items: center;
        gap: 8px;
        cursor: pointer;
        font-weight: normal;
      }
      h4 {
        margin: 16px 0 12px;
        font-size: 0.95rem;
        border-bottom: 1px solid var(--border-subtle);
        padding-bottom: 8px;
      }
      .output {
        height: 500px;
        padding: 16px;
        background: var(--bg-deep);
        border-radius: var(--radius-md);
        font-family: ui-monospace, monospace;
        font-size: 0.8rem;
        overflow: auto;
        white-space: pre;
        line-height: 1.5;
      }
      .btn-row {
        display: flex;
        gap: 12px;
        margin-top: 16px;
      }
      .btn {
        padding: 10px 20px;
        border: 1px solid var(--border-subtle);
        border-radius: var(--radius-md);
        background: var(--bg-card);
        color: var(--text-primary);
        cursor: pointer;
      }
      .btn:hover {
        border-color: var(--accent-cyan);
        color: var(--accent-cyan);
      }
      .btn.primary {
        background: var(--accent-cyan);
        border-color: var(--accent-cyan);
        color: #fff;
      }
      footer {
        text-align: center;
        margin-top: 32px;
        padding-top: 16px;
        border-top: 1px solid var(--border-subtle);
        color: var(--text-muted);
        font-size: 0.85rem;
      }
      footer a {
        color: var(--accent-cyan);
        text-decoration: none;
      }
      @media (max-width: 900px) {
        .grid {
          grid-template-columns: 1fr;
        }
      }
      @media (max-width: 480px) {
        body {
          padding: 12px;
        }
        .grid {
          grid-template-columns: 1fr !important;
        }
        .form-row {
          grid-template-columns: 1fr;
        }
        .output {
          height: 300px;
          font-size: 0.7rem;
          white-space: pre-wrap;
          word-break: break-all;
          overflow-x: hidden;
        }
        .btn-row {
          flex-direction: column;
        }
        .btn {
          width: 100%;
          text-align: center;
        }
        h1 {
          font-size: 1.3rem;
        }
        .card {
          padding: 12px;
        }
        .container {
          padding: 0;
        }
      }
      .visually-hidden {
        position: absolute;
        width: 1px;
        height: 1px;
        margin: -1px;
        padding: 0;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
      }
    </style>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container">
      <a href="../../index.html" class="back-link">â† è¿”å›å·¥å…·åˆ—è¡¨</a>
      <button class="theme-toggle" onclick="toggleTheme()">â˜€ï¸</button>
      <h1>Nginx é…ç½®ç”Ÿæˆå™¨</h1>
      <p class="desc">å¯è§†åŒ–ç”Ÿæˆ Nginx æœåŠ¡å™¨é…ç½®</p>

      <div class="card">
        <div class="grid">
          <div class="settings">
            <h4>åŸºæœ¬è®¾ç½®</h4>
            <div class="form-group">
              <label>æœåŠ¡å™¨åç§°</label>
              <input
                type="text"
                id="serverName"
                value="example.com www.example.com"
                oninput="generate()"
              />
            </div>
            <div class="form-row">
              <div class="form-group">
                <label>ç›‘å¬ç«¯å£</label>
                <input type="number" id="listenPort" value="80" oninput="generate()" />
              </div>
              <div class="form-group">
                <label>æ ¹ç›®å½•</label>
                <input type="text" id="rootPath" value="/var/www/html" oninput="generate()" />
              </div>
            </div>
            <div class="form-group">
              <label>é»˜è®¤æ–‡ä»¶</label>
              <input
                type="text"
                id="indexFiles"
                value="index.html index.htm index.php"
                oninput="generate()"
              />
            </div>

            <h4>HTTPS è®¾ç½®</h4>
            <div class="checkbox-group">
              <label>
                <input type="checkbox" id="enableSSL" onchange="generate()" />
                å¯ç”¨ HTTPS
              </label>
            </div>
            <div id="sslSettings" style="display: none; margin-top: 12px">
              <div class="form-group">
                <label>SSL è¯ä¹¦è·¯å¾„</label>
                <input
                  type="text"
                  id="sslCert"
                  value="/etc/ssl/certs/example.com.crt"
                  oninput="generate()"
                />
              </div>
              <div class="form-group">
                <label>SSL å¯†é’¥è·¯å¾„</label>
                <input
                  type="text"
                  id="sslKey"
                  value="/etc/ssl/private/example.com.key"
                  oninput="generate()"
                />
              </div>
              <div class="checkbox-group">
                <label>
                  <input type="checkbox" id="httpRedirect" checked onchange="generate()" />
                  HTTP é‡å®šå‘åˆ° HTTPS
                </label>
                <label>
                  <input type="checkbox" id="http2" checked onchange="generate()" />
                  å¯ç”¨ HTTP/2
                </label>
              </div>
            </div>

            <h4>åå‘ä»£ç†</h4>
            <div class="checkbox-group">
              <label>
                <input type="checkbox" id="enableProxy" onchange="generate()" />
                å¯ç”¨åå‘ä»£ç†
              </label>
            </div>
            <div id="proxySettings" style="display: none; margin-top: 12px">
              <div class="form-group">
                <label>ä»£ç†ç›®æ ‡</label>
                <input
                  type="text"
                  id="proxyPass"
                  value="http://127.0.0.1:3000"
                  oninput="generate()"
                />
              </div>
              <div class="checkbox-group">
                <label>
                  <input type="checkbox" id="proxyHeaders" checked onchange="generate()" />
                  ä¼ é€’è¯·æ±‚å¤´
                </label>
                <label>
                  <input type="checkbox" id="proxyWebsocket" onchange="generate()" />
                  WebSocket æ”¯æŒ
                </label>
              </div>
            </div>

            <h4>å®‰å…¨å’Œæ€§èƒ½</h4>
            <div class="checkbox-group">
              <label>
                <input type="checkbox" id="gzip" checked onchange="generate()" />
                å¯ç”¨ Gzip å‹ç¼©
              </label>
              <label>
                <input type="checkbox" id="securityHeaders" onchange="generate()" />
                å®‰å…¨å“åº”å¤´
              </label>
              <label>
                <input type="checkbox" id="staticCache" onchange="generate()" />
                é™æ€èµ„æºç¼“å­˜
              </label>
              <label>
                <input type="checkbox" id="accessLog" checked onchange="generate()" />
                è®¿é—®æ—¥å¿—
              </label>
            </div>
          </div>

          <div>
            <h4>ç”Ÿæˆçš„é…ç½®</h4>
            <div class="output" id="output"></div>
            <div class="btn-row">
              <button class="btn primary" onclick="copyConfig()">å¤åˆ¶é…ç½®</button>
              <button class="btn" onclick="downloadConfig()">ä¸‹è½½æ–‡ä»¶</button>
            </div>
          </div>
        </div>
      </div>

      <footer>
        çº¯å‰ç«¯å·¥å…· Â· æ— æœåŠ¡å™¨ Â·
        <a href="../../index.html">WebUtils</a>
      </footer>
    </div>

    <script>
      function generate() {
        const serverName = document.getElementById("serverName").value.trim();
        const listenPort = document.getElementById("listenPort").value || "80";
        const rootPath = document.getElementById("rootPath").value.trim();
        const indexFiles = document.getElementById("indexFiles").value.trim();

        const enableSSL = document.getElementById("enableSSL").checked;
        const sslCert = document.getElementById("sslCert").value.trim();
        const sslKey = document.getElementById("sslKey").value.trim();
        const httpRedirect = document.getElementById("httpRedirect").checked;
        const http2 = document.getElementById("http2").checked;

        const enableProxy = document.getElementById("enableProxy").checked;
        const proxyPass = document.getElementById("proxyPass").value.trim();
        const proxyHeaders = document.getElementById("proxyHeaders").checked;
        const proxyWebsocket = document.getElementById("proxyWebsocket").checked;

        const gzip = document.getElementById("gzip").checked;
        const securityHeaders = document.getElementById("securityHeaders").checked;
        const staticCache = document.getElementById("staticCache").checked;
        const accessLog = document.getElementById("accessLog").checked;

        document.getElementById("sslSettings").style.display = enableSSL ? "block" : "none";
        document.getElementById("proxySettings").style.display = enableProxy ? "block" : "none";

        let config = "";

        // HTTP redirect block
        if (enableSSL && httpRedirect) {
          config += `server {
    listen 80;
    listen [::]:80;
    server_name ${serverName};
    return 301 https://$host$request_uri;
}

`;
        }

        // Main server block
        config += "server {\n";

        // Listen directive
        if (enableSSL) {
          config += `    listen 443 ssl${http2 ? " http2" : ""};\n`;
          config += `    listen [::]:443 ssl${http2 ? " http2" : ""};\n`;
        } else {
          config += `    listen ${listenPort};\n`;
          config += `    listen [::]:${listenPort};\n`;
        }

        config += `    server_name ${serverName};\n`;

        // SSL config
        if (enableSSL) {
          config += `\n    ssl_certificate ${sslCert};\n`;
          config += `    ssl_certificate_key ${sslKey};\n`;
          config += "    ssl_protocols TLSv1.2 TLSv1.3;\n";
          config += "    ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256;\n";
          config += "    ssl_prefer_server_ciphers off;\n";
        }

        // Root and index
        if (!enableProxy) {
          config += `\n    root ${rootPath};\n`;
          config += `    index ${indexFiles};\n`;
        }

        // Access log
        if (accessLog) {
          config += `\n    access_log /var/log/nginx/${serverName.split(" ")[0]}.access.log;\n`;
          config += `    error_log /var/log/nginx/${serverName.split(" ")[0]}.error.log;\n`;
        }

        // Gzip
        if (gzip) {
          config += "\n    gzip on;\n";
          config += "    gzip_vary on;\n";
          config += "    gzip_min_length 1024;\n";
          config +=
            "    gzip_types text/plain text/css text/xml text/javascript application/json application/javascript application/xml;\n";
        }

        // Security headers
        if (securityHeaders) {
          config += '\n    add_header X-Frame-Options "SAMEORIGIN" always;\n';
          config += '    add_header X-Content-Type-Options "nosniff" always;\n';
          config += '    add_header X-XSS-Protection "1; mode=block" always;\n';
          config += '    add_header Referrer-Policy "strict-origin-when-cross-origin" always;\n';
        }

        // Location blocks
        config += "\n    location / {\n";
        if (enableProxy) {
          config += `        proxy_pass ${proxyPass};\n`;
          if (proxyHeaders) {
            config += "        proxy_set_header Host $host;\n";
            config += "        proxy_set_header X-Real-IP $remote_addr;\n";
            config += "        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n";
            config += "        proxy_set_header X-Forwarded-Proto $scheme;\n";
          }
          if (proxyWebsocket) {
            config += "        proxy_http_version 1.1;\n";
            config += "        proxy_set_header Upgrade $http_upgrade;\n";
            config += '        proxy_set_header Connection "upgrade";\n';
          }
        } else {
          config += "        try_files $uri $uri/ =404;\n";
        }
        config += "    }\n";

        // Static cache
        if (staticCache && !enableProxy) {
          config += "\n    location ~* \\.(css|js|jpg|jpeg|png|gif|ico|svg|woff|woff2)$ {\n";
          config += "        expires 30d;\n";
          config += '        add_header Cache-Control "public, no-transform";\n';
          config += "    }\n";
        }

        config += "}\n";

        document.getElementById("output").textContent = config;
      }

      function copyConfig() {
        const config = document.getElementById("output").textContent;
        navigator.clipboard.writeText(config);
      }

      function downloadConfig() {
        const config = document.getElementById("output").textContent;
        const serverName = document.getElementById("serverName").value.split(" ")[0] || "nginx";
        const blob = new Blob([config], { type: "text/plain" });
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = `${serverName}.conf`;
        a.click();
        URL.revokeObjectURL(url);
      }

      generate();

      function toggleTheme() {
        const html = document.documentElement;
        const next = html.getAttribute("data-theme") === "dark" ? "light" : "dark";
        html.setAttribute("data-theme", next);
        document.querySelector(".theme-toggle").textContent = next === "dark" ? "ğŸŒ™" : "â˜€ï¸";
        localStorage.setItem("theme", next);
      }
      (function () {
        const saved = localStorage.getItem("theme");
        if (saved) {
          document.documentElement.setAttribute("data-theme", saved);
          document.querySelector(".theme-toggle").textContent = saved === "dark" ? "ğŸŒ™" : "â˜€ï¸";
        }
      })();
    </script>
  </body>
</html>
