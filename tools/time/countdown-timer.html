<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å€’è®¡æ—¶å™¨ - WebUtils</title>
  <!-- SEO Meta Tags -->
  <meta name="description" content="å€’è®¡æ—¶å™¨ - WebUtils" />
  <meta name="keywords" content="countdown-timer,time,tools,webutils" />
  <meta name="author" content="WebUtils" />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href="https://tools.realtime-ai.chat/tools/time/countdown-timer.html" />

  <!-- Open Graph -->
  <meta property="og:title" content="å€’è®¡æ—¶å™¨ - WebUtils" />
  <meta property="og:description" content="å€’è®¡æ—¶å™¨ - WebUtils" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://tools.realtime-ai.chat/tools/time/countdown-timer.html" />
  <meta property="og:site_name" content="WebUtils" />
  <meta property="og:locale" content="zh_CN" />
  <meta property="og:image" content="https://tools.realtime-ai.chat/social-preview.png" />
  <meta property="og:image:width" content="1280" />
  <meta property="og:image:height" content="640" />
  <meta property="og:image:type" content="image/png" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="å€’è®¡æ—¶å™¨ - WebUtils" />
  <meta name="twitter:description" content="å€’è®¡æ—¶å™¨ - WebUtils" />
  <meta name="twitter:image" content="https://tools.realtime-ai.chat/social-preview.png" />

  <meta name="description" content="åœ¨çº¿å€’è®¡æ—¶å™¨ï¼Œæ”¯æŒè‡ªå®šä¹‰æ—¶é—´ã€å£°éŸ³æé†’ã€å…¨å±æ˜¾ç¤º">
  <meta name="keywords" content="å€’è®¡æ—¶,è®¡æ—¶å™¨,countdown,timer,æé†’">
  <link rel="icon" href="../../favicon.svg" type="image/svg+xml">
  <style>
    :root {
      --bg-deep: #0a0a0f;
      --bg-surface: #12121a;
      --bg-card: #1a1a24;
      --bg-input: #0e0e14;
      --text-primary: #e8e8ed;
      --text-secondary: #8888a0;
      --text-muted: #55556a;
      --border-subtle: #2a2a3a;
      --border-strong: #3a3a4a;
      --accent-cyan: #00f5d4;
      --accent-green: #10b981;
      --accent-red: #f43f5e;
      --accent-yellow: #fbbf24;
      --accent-purple: #a855f7;
      --glow-cyan: rgb(0, 245, 212, 0.15);
      --glow-green: rgb(16, 185, 129, 0.15);
      --glow-red: rgb(244, 63, 94, 0.15);
      --radius-sm: 4px;
      --radius-md: 8px;
      --radius-lg: 12px;
    }

    [data-theme="light"] {
      --bg-deep: #fafafa;
      --bg-surface: #fff;
      --bg-card: #fff;
      --bg-input: #f5f5f5;
      --bg-hover: #f5f5f5;
      --text-primary: #1a1a1a;
      --text-secondary: #666;
      --text-muted: #999;
      --border-subtle: #e5e5e5;
      --border-strong: #d5d5d5;
    }

    .theme-toggle {
      position: fixed;
      top: 1rem;
      right: 1rem;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: 1px solid var(--border-subtle);
      background: var(--bg-card);
      cursor: pointer;
      font-size: 1.2rem;
      z-index: 100;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .theme-toggle:hover {
      transform: scale(1.1);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
      min-height: 100vh;
      padding: 20px;
    }
    .container { max-width: 600px; margin: 0 auto; }
    .back-link { display: inline-flex; align-items: center; gap: 5px; color: white; text-decoration: none; margin-bottom: 20px; }
    .back-link:hover { opacity: 0.8; }
    h1 { color: white; text-align: center; margin-bottom: 30px; font-size: 2rem; }
    .card {
      background: rgba(255,255,255,0.1);
      border-radius: 20px;
      padding: 30px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.2);
    }
    .timer-display { text-align: center; padding: 40px 20px; margin-bottom: 30px; }
    .time {
      font-size: 5rem;
      font-weight: 700;
      color: white;
      font-family: 'Courier New', monospace;
      letter-spacing: 5px;
      text-shadow: 0 4px 20px rgba(0,0,0,0.3);
    }
    @media (max-width: 500px) { .time { font-size: 3rem; } }
    .time.warning { color: #f39c12; animation: pulse 1s infinite; }
    .time.danger { color: #e74c3c; animation: pulse 0.5s infinite; }
    .time.finished { color: #2ecc71; animation: none; }
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
    .progress-bar { height: 8px; background: rgba(255,255,255,0.2); border-radius: 4px; overflow: hidden; margin-bottom: 30px; }
    .progress { height: 100%; background: linear-gradient(90deg, #2ecc71, #27ae60); border-radius: 4px; transition: width 0.3s; }
    .input-section { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-bottom: 25px; }
    .input-group { text-align: center; }
    .input-group label { display: block; color: rgba(255,255,255,0.7); font-size: 12px; margin-bottom: 8px; }
    .input-group input {
      width: 100%;
      padding: 15px;
      border: 2px solid rgba(255,255,255,0.2);
      border-radius: 12px;
      background: rgba(255,255,255,0.1);
      color: white;
      font-size: 24px;
      text-align: center;
      font-family: 'Courier New', monospace;
    }
    .input-group input:focus { outline: none; border-color: #3498db; background: rgba(255,255,255,0.15); }
    .input-group input::placeholder { color: rgba(255,255,255,0.3); }
    .presets { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 25px; }
    .preset-btn {
      padding: 10px 15px;
      border: 1px solid rgba(255,255,255,0.3);
      border-radius: 8px;
      background: transparent;
      color: white;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.3s;
    }
    .preset-btn:hover { background: rgba(255,255,255,0.2); border-color: white; }
    .btn-group { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; }
    .btn { padding: 15px; border: none; border-radius: 12px; font-size: 16px; font-weight: 600; cursor: pointer; transition: all 0.3s; }
    .btn-start { background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%); color: white; }
    .btn-pause { background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%); color: white; }
    .btn-reset { background: rgba(255,255,255,0.2); color: white; }
    .btn:hover { transform: translateY(-2px); box-shadow: 0 5px 20px rgba(0,0,0,0.3); }
    .btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
    .options { margin-top: 25px; padding-top: 25px; border-top: 1px solid rgba(255,255,255,0.1); }
    .option-row { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; }
    .option-label { color: rgba(255,255,255,0.8); }
    .toggle { position: relative; width: 50px; height: 26px; }
    .toggle input { opacity: 0; width: 0; height: 0; }
    .toggle-slider {
      position: absolute;
      cursor: pointer;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(255,255,255,0.2);
      border-radius: 26px;
      transition: 0.3s;
    }
    .toggle-slider::before {
      position: absolute;
      content: "";
      height: 20px;
      width: 20px;
      left: 3px;
      bottom: 3px;
      background: white;
      border-radius: 50%;
      transition: 0.3s;
    }
    .toggle input:checked + .toggle-slider { background: #2ecc71; }
    .toggle input:checked + .toggle-slider::before { transform: translateX(24px); }
  
        .breadcrumb { position: fixed; top: 10px; left: 10px; z-index: 1000; background: rgba(255,255,255,0.95); padding: 8px 15px; border-radius: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); font-size: 0.85rem; }
        .breadcrumb a { color: #667eea; text-decoration: none; }
        .breadcrumb a:hover { text-decoration: underline; }
        .breadcrumb span { color: #999; margin: 0 5px; }
    </style>
</head>
<body>
  <button class="theme-toggle" onclick="toggleTheme()" aria-label="åˆ‡æ¢ä¸»é¢˜">
    <span id="theme-icon">ğŸŒ™</span>
  </button>

    <nav class="breadcrumb"><a href="../../index.html">é¦–é¡µ</a><span>â€º</span><a href="../../index.html#time">æ—¶é—´å·¥å…·</a><span>â€º</span>å€’è®¡æ—¶å™¨</nav>
  <div class="container">
    <a href="../../index.html" class="back-link">â† è¿”å›å·¥å…·åˆ—è¡¨</a>
    <h1>å€’è®¡æ—¶å™¨</h1>
    <div class="card">
      <div class="timer-display">
        <div class="time" id="timerDisplay">00:00:00</div>
      </div>
      <div class="progress-bar">
        <div class="progress" id="progressBar" style="width: 100%"></div>
      </div>
      <div class="input-section">
        <div class="input-group">
          <label>å°æ—¶</label>
          <input type="number" id="hoursInput" min="0" max="99" value="0" placeholder="00">
        </div>
        <div class="input-group">
          <label>åˆ†é’Ÿ</label>
          <input type="number" id="minutesInput" min="0" max="59" value="5" placeholder="00">
        </div>
        <div class="input-group">
          <label>ç§’</label>
          <input type="number" id="secondsInput" min="0" max="59" value="0" placeholder="00">
        </div>
      </div>
      <div class="presets">
        <button class="preset-btn" onclick="setPreset(1)">1 åˆ†é’Ÿ</button>
        <button class="preset-btn" onclick="setPreset(3)">3 åˆ†é’Ÿ</button>
        <button class="preset-btn" onclick="setPreset(5)">5 åˆ†é’Ÿ</button>
        <button class="preset-btn" onclick="setPreset(10)">10 åˆ†é’Ÿ</button>
        <button class="preset-btn" onclick="setPreset(15)">15 åˆ†é’Ÿ</button>
        <button class="preset-btn" onclick="setPreset(25)">25 åˆ†é’Ÿ</button>
        <button class="preset-btn" onclick="setPreset(30)">30 åˆ†é’Ÿ</button>
        <button class="preset-btn" onclick="setPreset(60)">1 å°æ—¶</button>
      </div>
      <div class="btn-group">
        <button class="btn btn-start" id="startBtn" onclick="startTimer()">å¼€å§‹</button>
        <button class="btn btn-pause" id="pauseBtn" onclick="pauseTimer()" disabled>æš‚åœ</button>
        <button class="btn btn-reset" onclick="resetTimer()">é‡ç½®</button>
      </div>
      <div class="options">
        <div class="option-row">
          <span class="option-label">å£°éŸ³æé†’</span>
          <label class="toggle">
            <input type="checkbox" id="soundToggle" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
        <div class="option-row">
          <span class="option-label">å®Œæˆæ—¶é—ªçƒ</span>
          <label class="toggle">
            <input type="checkbox" id="flashToggle" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
      </div>
    </div>
  </div>
  <script>
    let totalSeconds = 300;
    let remainingSeconds = 300;
    let timerInterval = null;
    let isRunning = false;
    let audioContext = null;

    function formatTime(seconds) {
      const h = Math.floor(seconds / 3600);
      const m = Math.floor((seconds % 3600) / 60);
      const s = seconds % 60;
      return `${h.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
    }

    function updateDisplay() {
      const display = document.getElementById('timerDisplay');
      display.textContent = formatTime(remainingSeconds);
      const progress = (remainingSeconds / totalSeconds) * 100;
      document.getElementById('progressBar').style.width = progress + '%';
      display.classList.remove('warning', 'danger', 'finished');
      if (remainingSeconds === 0) display.classList.add('finished');
      else if (remainingSeconds <= 10) display.classList.add('danger');
      else if (remainingSeconds <= 30) display.classList.add('warning');
      document.title = `${formatTime(remainingSeconds)} - å€’è®¡æ—¶å™¨`;
    }

    function startTimer() {
      if (isRunning) return;
      if (!timerInterval) {
        const hours = parseInt(document.getElementById('hoursInput').value) || 0;
        const minutes = parseInt(document.getElementById('minutesInput').value) || 0;
        const seconds = parseInt(document.getElementById('secondsInput').value) || 0;
        totalSeconds = hours * 3600 + minutes * 60 + seconds;
        remainingSeconds = totalSeconds;
        if (totalSeconds <= 0) { alert('è¯·è®¾ç½®å€’è®¡æ—¶æ—¶é—´'); return; }
      }
      isRunning = true;
      document.getElementById('startBtn').disabled = true;
      document.getElementById('pauseBtn').disabled = false;
      timerInterval = setInterval(() => {
        remainingSeconds--;
        updateDisplay();
        if (remainingSeconds <= 0) {
          clearInterval(timerInterval);
          timerInterval = null;
          isRunning = false;
          document.getElementById('startBtn').disabled = false;
          document.getElementById('pauseBtn').disabled = true;
          onTimerComplete();
        }
      }, 1000);
    }

    function pauseTimer() {
      if (!isRunning) return;
      clearInterval(timerInterval);
      isRunning = false;
      document.getElementById('startBtn').disabled = false;
      document.getElementById('pauseBtn').disabled = true;
      document.getElementById('startBtn').textContent = 'ç»§ç»­';
    }

    function resetTimer() {
      clearInterval(timerInterval);
      timerInterval = null;
      isRunning = false;
      const hours = parseInt(document.getElementById('hoursInput').value) || 0;
      const minutes = parseInt(document.getElementById('minutesInput').value) || 0;
      const seconds = parseInt(document.getElementById('secondsInput').value) || 0;
      totalSeconds = hours * 3600 + minutes * 60 + seconds;
      remainingSeconds = totalSeconds;
      document.getElementById('startBtn').disabled = false;
      document.getElementById('startBtn').textContent = 'å¼€å§‹';
      document.getElementById('pauseBtn').disabled = true;
      updateDisplay();
      document.title = 'å€’è®¡æ—¶å™¨ | WebUtils';
    }

    function setPreset(minutes) {
      document.getElementById('hoursInput').value = Math.floor(minutes / 60);
      document.getElementById('minutesInput').value = minutes % 60;
      document.getElementById('secondsInput').value = 0;
      resetTimer();
    }

    function onTimerComplete() {
      if (document.getElementById('soundToggle').checked) playAlarm();
      if (document.getElementById('flashToggle').checked) {
        let flashCount = 0;
        const flashInterval = setInterval(() => {
          document.body.style.background = flashCount % 2 === 0 
            ? 'linear-gradient(135deg, #e74c3c 0%, #c0392b 100%)'
            : 'linear-gradient(135deg, #2c3e50 0%, #3498db 100%)';
          flashCount++;
          if (flashCount >= 10) {
            clearInterval(flashInterval);
            document.body.style.background = 'linear-gradient(135deg, #2c3e50 0%, #3498db 100%)';
          }
        }, 300);
      }
      if ('Notification' in window && Notification.permission === 'granted') {
        new Notification('å€’è®¡æ—¶ç»“æŸï¼', { body: 'æ—¶é—´åˆ°äº†ï¼' });
      }
    }

    function playAlarm() {
      if (!audioContext) audioContext = new (window.AudioContext || window.webkitAudioContext)();
      const frequencies = [523, 659, 784, 1047];
      let time = audioContext.currentTime;
      for (let i = 0; i < 3; i++) {
        for (const freq of frequencies) {
          const oscillator = audioContext.createOscillator();
          const gainNode = audioContext.createGain();
          oscillator.connect(gainNode);
          gainNode.connect(audioContext.destination);
          oscillator.frequency.value = freq;
          oscillator.type = 'sine';
          gainNode.gain.setValueAtTime(0.3, time);
          gainNode.gain.exponentialRampToValueAtTime(0.01, time + 0.15);
          oscillator.start(time);
          oscillator.stop(time + 0.15);
          time += 0.15;
        }
        time += 0.3;
      }
    }

    if ('Notification' in window && Notification.permission === 'default') Notification.requestPermission();
    updateDisplay();
    ['hoursInput', 'minutesInput', 'secondsInput'].forEach(id => {
      document.getElementById(id).addEventListener('change', () => { if (!isRunning) resetTimer(); });
    });
  
    // Theme toggle
    function toggleTheme() {
      const html = document.documentElement;
      const currentTheme = html.getAttribute('data-theme');
      const newTheme = currentTheme === 'light' ? 'dark' : 'light';
      html.setAttribute('data-theme', newTheme);
      document.getElementById('theme-icon').textContent = newTheme === 'light' ? 'â˜€ï¸' : 'ğŸŒ™';
      localStorage.setItem('theme', newTheme);
    }

    // Load saved theme
    const savedTheme = localStorage.getItem('theme') || 'dark';
    if (savedTheme === 'light') {
      document.documentElement.setAttribute('data-theme', 'light');
      document.getElementById('theme-icon').textContent = 'â˜€ï¸';
    }

</script>
</body>
</html>
