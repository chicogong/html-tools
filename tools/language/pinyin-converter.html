<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>æ±‰å­—è½¬æ‹¼éŸ³ - WebUtils</title>
  <meta name="description" content="å°†æ±‰å­—è½¬æ¢ä¸ºæ‹¼éŸ³ï¼Œæ”¯æŒå£°è°ƒæ ‡æ³¨å’Œå¤šéŸ³å­—é€‰æ‹©" />
  <meta name="keywords" content="æ‹¼éŸ³ æ±‰å­— è½¬æ¢ å£°è°ƒ pinyin chinese converter" />
  <meta name="author" content="WebUtils" />
  <link rel="canonical" href="https://tools.realtime-ai.chat/tools/language/pinyin-converter.html" />

  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&family=Space+Grotesk:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    :root{--bg-deep:#0a0a0f;--bg-surface:#12121a;--bg-card:#1a1a24;--text-primary:#e8e8ed;--text-secondary:#9898a4;--text-muted:#5c5c66;--accent-blue:#4d9fff;--accent-cyan:#00f5d4;--accent-red:#ff6b6b;--border-subtle:#2a2a36;--radius-sm:6px;--radius-md:10px;--radius-lg:14px}
    [data-theme="light"]{--bg-deep:#fafafa;--bg-surface:#fff;--bg-card:#fff;--text-primary:#1a1a1a;--text-secondary:#666;--text-muted:#999;--border-subtle:#e5e5e5}
    *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
    body{font-family:'Space Grotesk',system-ui,sans-serif;background:var(--bg-deep);color:var(--text-primary);min-height:100vh;line-height:1.6}
    .bg-grid{position:fixed;inset:0;background-image:linear-gradient(rgba(77,159,255,.03) 1px,transparent 1px),linear-gradient(90deg,rgba(77,159,255,.03) 1px,transparent 1px);background-size:50px 50px;pointer-events:none;z-index:0}
    .container{position:relative;z-index:1;max-width:700px;margin:0 auto;padding:2rem 1.5rem}
    .theme-toggle{position:fixed;top:1rem;right:1rem;width:40px;height:40px;border-radius:50%;border:1px solid var(--border-subtle);background:var(--bg-card);cursor:pointer;font-size:1.2rem;z-index:100;transition:all .2s}
    .theme-toggle:hover{border-color:var(--accent-cyan);transform:scale(1.1)}
    .breadcrumb{display:flex;align-items:center;gap:8px;font-size:.85rem;padding:8px 14px;background:var(--bg-surface);border:1px solid var(--border-subtle);border-radius:var(--radius-sm);margin-bottom:1.5rem;flex-wrap:wrap}
    .breadcrumb a{color:var(--text-secondary);text-decoration:none}
    .breadcrumb a:hover{color:var(--accent-cyan)}
    .breadcrumb-separator{color:var(--text-muted)}
    .breadcrumb-current{color:var(--text-primary);font-weight:500}
    h1{font-size:2rem;font-weight:600;margin-bottom:.5rem;background:linear-gradient(135deg,var(--text-primary),var(--accent-red));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
    .subtitle{color:var(--text-secondary);margin-bottom:2rem}
    .card{background:var(--bg-card);border:1px solid var(--border-subtle);border-radius:var(--radius-lg);padding:1.5rem;margin-bottom:1.5rem}
    .card-title{font-size:1rem;font-weight:500;color:var(--text-secondary);margin-bottom:1rem}
    .options{display:flex;flex-wrap:wrap;gap:.75rem;margin-bottom:1rem}
    .option-btn{padding:.5rem 1rem;border:1px solid var(--border-subtle);border-radius:var(--radius-sm);background:var(--bg-surface);color:var(--text-secondary);cursor:pointer;font-family:inherit;font-size:.85rem;transition:all .2s}
    .option-btn:hover{border-color:var(--accent-cyan)}
    .option-btn.active{background:var(--accent-cyan);color:#000;border-color:var(--accent-cyan)}
    textarea{width:100%;height:150px;padding:1rem;border:1px solid var(--border-subtle);border-radius:var(--radius-sm);background:var(--bg-surface);color:var(--text-primary);font-family:inherit;font-size:1rem;resize:vertical}
    textarea:focus{outline:none;border-color:var(--accent-blue)}
    textarea::placeholder{color:var(--text-muted)}
    .btn-row{display:flex;gap:.75rem;margin-top:1rem}
    .btn{padding:.75rem 1.5rem;border:none;border-radius:var(--radius-sm);cursor:pointer;font-family:inherit;font-size:.9rem;font-weight:500;transition:all .2s}
    .btn-primary{background:linear-gradient(135deg,var(--accent-blue),var(--accent-cyan));color:#000}
    .btn-secondary{background:var(--bg-surface);color:var(--text-primary);border:1px solid var(--border-subtle)}
    .btn:hover{transform:translateY(-2px)}
    .result-card{background:linear-gradient(135deg,rgba(255,107,107,.1),rgba(0,245,212,.1));border:1px solid var(--accent-red)}
    .result-text{font-size:1.1rem;line-height:2;word-spacing:.5rem;font-family:'JetBrains Mono',monospace}
    .pinyin-group{display:inline-flex;flex-direction:column;align-items:center;margin:0 .25rem}
    .pinyin{font-size:.85rem;color:var(--accent-cyan)}
    .hanzi{font-size:1.1rem}
    .copy-btn{display:flex;align-items:center;justify-content:center;gap:.5rem;width:100%;padding:.75rem;margin-top:1rem;border:1px solid var(--border-subtle);border-radius:var(--radius-sm);background:var(--bg-surface);color:var(--text-secondary);cursor:pointer;font-family:inherit;transition:all .2s}
    .copy-btn:hover{border-color:var(--accent-cyan);color:var(--accent-cyan)}
    .stats{display:flex;gap:1.5rem;margin-top:1rem;padding-top:1rem;border-top:1px solid var(--border-subtle)}
    .stat-item{font-size:.85rem;color:var(--text-muted)}
    .stat-value{font-family:'JetBrains Mono',monospace;color:var(--accent-cyan);margin-left:.25rem}
    footer{margin-top:3rem;padding-top:1.5rem;border-top:1px solid var(--border-subtle);text-align:center;color:var(--text-muted);font-size:.85rem}
    footer a{color:var(--accent-blue);text-decoration:none}
  </style>
</head>
<body>
  <div class="bg-grid"></div>
  <div class="container">
    <button class="theme-toggle" onclick="toggleTheme()" title="åˆ‡æ¢ä¸»é¢˜">ğŸŒ™</button>

    <nav class="breadcrumb">
      <a href="../../index.html">é¦–é¡µ</a>
      <span class="breadcrumb-separator">/</span>
      <span class="breadcrumb-current">æ±‰å­—è½¬æ‹¼éŸ³</span>
    </nav>

    <h1>æ±‰å­—è½¬æ‹¼éŸ³</h1>
    <p class="subtitle">å°†æ±‰å­—è½¬æ¢ä¸ºæ‹¼éŸ³ï¼Œæ”¯æŒå¤šç§æ ¼å¼</p>

    <div class="card">
      <div class="card-title">âš™ï¸ è½¬æ¢é€‰é¡¹</div>
      <div class="options">
        <button class="option-btn active" data-option="tone" data-value="mark" onclick="setOption('tone', 'mark', this)">å¸¦å£°è°ƒ</button>
        <button class="option-btn" data-option="tone" data-value="number" onclick="setOption('tone', 'number', this)">æ•°å­—å£°è°ƒ</button>
        <button class="option-btn" data-option="tone" data-value="none" onclick="setOption('tone', 'none', this)">æ— å£°è°ƒ</button>
      </div>
      <div class="options">
        <button class="option-btn active" data-option="format" data-value="ruby" onclick="setOption('format', 'ruby', this)">ä¸Šä¸‹å¯¹ç…§</button>
        <button class="option-btn" data-option="format" data-value="inline" onclick="setOption('format', 'inline', this)">è¡Œå†…æ˜¾ç¤º</button>
        <button class="option-btn" data-option="format" data-value="pinyin" onclick="setOption('format', 'pinyin', this)">ä»…æ‹¼éŸ³</button>
      </div>
    </div>

    <div class="card">
      <div class="card-title">ğŸ“ è¾“å…¥æ±‰å­—</div>
      <textarea id="inputText" placeholder="è¯·è¾“å…¥è¦è½¬æ¢çš„æ±‰å­—æ–‡æœ¬..."></textarea>
      <div class="btn-row">
        <button class="btn btn-primary" onclick="convert()">è½¬æ¢æ‹¼éŸ³</button>
        <button class="btn btn-secondary" onclick="clearText()">æ¸…ç©º</button>
        <button class="btn btn-secondary" onclick="loadSample()">ç¤ºä¾‹</button>
      </div>
    </div>

    <div class="card result-card" id="resultCard" style="display:none">
      <div class="card-title">ğŸ”¤ è½¬æ¢ç»“æœ</div>
      <div class="result-text" id="resultText"></div>
      <button class="copy-btn" onclick="copyResult()">
        ğŸ“‹ å¤åˆ¶ç»“æœ
      </button>
      <div class="stats">
        <span class="stat-item">æ±‰å­—æ•°ï¼š<span class="stat-value" id="hanziCount">0</span></span>
        <span class="stat-item">æ€»å­—ç¬¦ï¼š<span class="stat-value" id="charCount">0</span></span>
      </div>
    </div>

    <footer>
      <a href="https://github.com/nicexe/html-tools" target="_blank">GitHub</a>
    </footer>
  </div>

  <script>
    // Simple pinyin dictionary for common characters
    const pinyinDict = {
      'ä½ ': 'nÇ', 'å¥½': 'hÇo', 'æˆ‘': 'wÇ’', 'æ˜¯': 'shÃ¬', 'çš„': 'de', 'äº†': 'le', 'ä¸': 'bÃ¹', 'åœ¨': 'zÃ i',
      'ä»–': 'tÄ', 'å¥¹': 'tÄ', 'ä»¬': 'men', 'è¿™': 'zhÃ¨', 'é‚£': 'nÃ ', 'æœ‰': 'yÇ’u', 'äºº': 'rÃ©n', 'ä¸ª': 'gÃ¨',
      'å¤§': 'dÃ ', 'å°': 'xiÇo', 'ä¸­': 'zhÅng', 'å›½': 'guÃ³', 'æ¥': 'lÃ¡i', 'å»': 'qÃ¹', 'ä¸Š': 'shÃ ng', 'ä¸‹': 'xiÃ ',
      'è¯´': 'shuÅ', 'çœ‹': 'kÃ n', 'å¬': 'tÄ«ng', 'åš': 'zuÃ²', 'æƒ³': 'xiÇng', 'è¦': 'yÃ o', 'èƒ½': 'nÃ©ng', 'ä¼š': 'huÃ¬',
      'æ—¶': 'shÃ­', 'é—´': 'jiÄn', 'å¹´': 'niÃ¡n', 'æœˆ': 'yuÃ¨', 'æ—¥': 'rÃ¬', 'å¤©': 'tiÄn', 'åœ°': 'dÃ¬', 'æ°´': 'shuÇ',
      'ç«': 'huÇ’', 'é£': 'fÄ“ng', 'é›¨': 'yÇ”', 'å±±': 'shÄn', 'æµ·': 'hÇi', 'èŠ±': 'huÄ', 'è‰': 'cÇo', 'æ ‘': 'shÃ¹',
      'å­¦': 'xuÃ©', 'ä¹ ': 'xÃ­', 'å·¥': 'gÅng', 'ä½œ': 'zuÃ²', 'ç”Ÿ': 'shÄ“ng', 'æ´»': 'huÃ³', 'çˆ±': 'Ã i', 'å¿ƒ': 'xÄ«n',
      'å¿«': 'kuÃ i', 'ä¹': 'lÃ¨', 'é«˜': 'gÄo', 'å…´': 'xÃ¬ng', 'ç¾': 'mÄ›i', 'ä¸½': 'lÃ¬', 'å¥½': 'hÇo', 'æ£’': 'bÃ ng',
      'ä¸€': 'yÄ«', 'äºŒ': 'Ã¨r', 'ä¸‰': 'sÄn', 'å››': 'sÃ¬', 'äº”': 'wÇ”', 'å…­': 'liÃ¹', 'ä¸ƒ': 'qÄ«', 'å…«': 'bÄ',
      'ä¹': 'jiÇ”', 'å': 'shÃ­', 'ç™¾': 'bÇi', 'åƒ': 'qiÄn', 'ä¸‡': 'wÃ n', 'äº¿': 'yÃ¬',
      'ä¸œ': 'dÅng', 'è¥¿': 'xÄ«', 'å—': 'nÃ¡n', 'åŒ—': 'bÄ›i', 'å‰': 'qiÃ¡n', 'å': 'hÃ²u', 'å·¦': 'zuÇ’', 'å³': 'yÃ²u',
      'é‡Œ': 'lÇ', 'å¤–': 'wÃ i', 'å¤š': 'duÅ', 'å°‘': 'shÇo', 'é•¿': 'chÃ¡ng', 'çŸ­': 'duÇn', 'æ–°': 'xÄ«n', 'æ—§': 'jiÃ¹',
      'ç™½': 'bÃ¡i', 'é»‘': 'hÄ“i', 'çº¢': 'hÃ³ng', 'ç»¿': 'lÇœ', 'è“': 'lÃ¡n', 'é»„': 'huÃ¡ng', 'é‡‘': 'jÄ«n', 'é“¶': 'yÃ­n',
      'æ˜': 'mÃ­ng', 'æš—': 'Ã n', 'æ—©': 'zÇo', 'æ™š': 'wÇn', 'ä»Š': 'jÄ«n', 'æ˜¨': 'zuÃ³', 'æ˜': 'mÃ­ng', 'å': 'hÃ²u',
      'å®¶': 'jiÄ', 'é—¨': 'mÃ©n', 'çª—': 'chuÄng', 'åºŠ': 'chuÃ¡ng', 'æ¡Œ': 'zhuÅ', 'æ¤…': 'yÇ', 'ä¹¦': 'shÅ«', 'ç¬”': 'bÇ',
      'è½¦': 'chÄ“', 'è·¯': 'lÃ¹', 'èˆ¹': 'chuÃ¡n', 'é£': 'fÄ“i', 'æœº': 'jÄ«', 'ç”µ': 'diÃ n', 'è¯': 'huÃ ', 'è„‘': 'nÇo',
      'åƒ': 'chÄ«', 'å–': 'hÄ“', 'ç¡': 'shuÃ¬', 'èµ°': 'zÇ’u', 'è·‘': 'pÇo', 'è·³': 'tiÃ o', 'ç«™': 'zhÃ n', 'å': 'zuÃ²',
      'å¼€': 'kÄi', 'å…³': 'guÄn', 'è¿›': 'jÃ¬n', 'å‡º': 'chÅ«', 'å›': 'huÃ­', 'é—®': 'wÃ¨n', 'ç­”': 'dÃ¡', 'çŸ¥': 'zhÄ«',
      'é“': 'dÃ o', 'å¯¹': 'duÃ¬', 'é”™': 'cuÃ²', 'çœŸ': 'zhÄ“n', 'å‡': 'jiÇ', 'éš¾': 'nÃ¡n', 'æ˜“': 'yÃ¬', 'è´µ': 'guÃ¬',
      'ä¾¿': 'biÃ n', 'å®œ': 'yÃ­', 'å†·': 'lÄ›ng', 'çƒ­': 'rÃ¨', 'æš–': 'nuÇn', 'å‡‰': 'liÃ¡ng', 'å¹²': 'gÄn', 'æ¹¿': 'shÄ«',
      'æœ‹': 'pÃ©ng', 'å‹': 'yÇ’u', 'åŒ': 'tÃ³ng', 'äº‹': 'shÃ¬', 'è€': 'lÇo', 'å¸ˆ': 'shÄ«', 'çˆ¶': 'fÃ¹', 'æ¯': 'mÇ”',
      'å„¿': 'Ã©r', 'å­': 'zÇ', 'å¥³': 'nÇš', 'ç”·': 'nÃ¡n', 'å…ˆ': 'xiÄn', 'å': 'hÃ²u', 'å¤´': 'tÃ³u', 'æ‰‹': 'shÇ’u',
      'è„š': 'jiÇo', 'çœ¼': 'yÇn', 'ç›': 'jÄ«ng', 'è€³': 'Ä›r', 'æœµ': 'duÇ’', 'å£': 'kÇ’u', 'é¼»': 'bÃ­', 'ç‰™': 'yÃ¡',
      'æ¬¢': 'huÄn', 'è¿': 'yÃ­ng', 'è°¢': 'xiÃ¨', 'è¯·': 'qÇng', 'å†': 'zÃ i', 'è§': 'jiÃ n', 'æ™š': 'wÇn', 'å®‰': 'Än'
    };

    // Tone mark to number conversion
    const toneMarks = {
      'Ä': 'a1', 'Ã¡': 'a2', 'Ç': 'a3', 'Ã ': 'a4',
      'Ä“': 'e1', 'Ã©': 'e2', 'Ä›': 'e3', 'Ã¨': 'e4',
      'Ä«': 'i1', 'Ã­': 'i2', 'Ç': 'i3', 'Ã¬': 'i4',
      'Å': 'o1', 'Ã³': 'o2', 'Ç’': 'o3', 'Ã²': 'o4',
      'Å«': 'u1', 'Ãº': 'u2', 'Ç”': 'u3', 'Ã¹': 'u4',
      'Ç–': 'Ã¼1', 'Ç˜': 'Ã¼2', 'Çš': 'Ã¼3', 'Çœ': 'Ã¼4'
    };

    let options = {
      tone: 'mark',
      format: 'ruby'
    };

    function setOption(key, value, btn) {
      options[key] = value;
      document.querySelectorAll(`[data-option="${key}"]`).forEach(b => b.classList.remove('active'));
      btn.classList.add('active');

      // Re-convert if there's text
      if (document.getElementById('inputText').value.trim()) {
        convert();
      }
    }

    function getPinyin(char) {
      let pinyin = pinyinDict[char];
      if (!pinyin) return null;

      if (options.tone === 'number') {
        // Convert tone marks to numbers
        let result = pinyin;
        let toneNum = '';
        for (const [mark, num] of Object.entries(toneMarks)) {
          if (pinyin.includes(mark)) {
            result = pinyin.replace(mark, num[0]);
            toneNum = num[1];
            break;
          }
        }
        return result + toneNum;
      } else if (options.tone === 'none') {
        // Remove tone marks
        let result = pinyin;
        for (const [mark, num] of Object.entries(toneMarks)) {
          result = result.replace(mark, num[0]);
        }
        return result;
      }
      return pinyin;
    }

    function convert() {
      const input = document.getElementById('inputText').value;
      if (!input.trim()) {
        document.getElementById('resultCard').style.display = 'none';
        return;
      }

      const result = [];
      let hanziCount = 0;

      for (const char of input) {
        const pinyin = getPinyin(char);
        if (pinyin) {
          hanziCount++;
          if (options.format === 'ruby') {
            result.push(`<span class="pinyin-group"><span class="pinyin">${pinyin}</span><span class="hanzi">${char}</span></span>`);
          } else if (options.format === 'inline') {
            result.push(`${char}(${pinyin})`);
          } else {
            result.push(pinyin);
          }
        } else if (/[\u4e00-\u9fff]/.test(char)) {
          // Unknown Chinese character
          hanziCount++;
          if (options.format === 'ruby') {
            result.push(`<span class="pinyin-group"><span class="pinyin">?</span><span class="hanzi">${char}</span></span>`);
          } else if (options.format === 'inline') {
            result.push(`${char}(?)`);
          } else {
            result.push('?');
          }
        } else {
          result.push(char);
        }
      }

      document.getElementById('resultText').innerHTML = result.join(options.format === 'pinyin' ? ' ' : '');
      document.getElementById('hanziCount').textContent = hanziCount;
      document.getElementById('charCount').textContent = input.length;
      document.getElementById('resultCard').style.display = 'block';
    }

    function clearText() {
      document.getElementById('inputText').value = '';
      document.getElementById('resultCard').style.display = 'none';
    }

    function loadSample() {
      document.getElementById('inputText').value = 'ä½ å¥½ï¼Œä¸–ç•Œï¼æ¬¢è¿ä½¿ç”¨æ±‰å­—è½¬æ‹¼éŸ³å·¥å…·ã€‚ä¸­å›½æ˜¯ä¸€ä¸ªç¾ä¸½çš„å›½å®¶ï¼Œæœ‰ç€æ‚ ä¹…çš„å†å²å’Œç¿çƒ‚çš„æ–‡åŒ–ã€‚';
      convert();
    }

    function copyResult() {
      const resultEl = document.getElementById('resultText');
      let text = resultEl.innerText;

      navigator.clipboard.writeText(text).then(() => {
        const btn = document.querySelector('.copy-btn');
        btn.innerHTML = 'âœ… å·²å¤åˆ¶';
        setTimeout(() => {
          btn.innerHTML = 'ğŸ“‹ å¤åˆ¶ç»“æœ';
        }, 2000);
      });
    }

    // Auto-convert on input
    document.getElementById('inputText').addEventListener('input', () => {
      if (document.getElementById('inputText').value.trim()) {
        convert();
      } else {
        document.getElementById('resultCard').style.display = 'none';
      }
    });

    window.toggleTheme = function() {
      const html = document.documentElement;
      const btn = document.querySelector('.theme-toggle');
      const current = html.getAttribute('data-theme');
      const next = current === 'light' ? 'dark' : 'light';
      html.setAttribute('data-theme', next);
      btn.textContent = next === 'light' ? 'â˜€ï¸' : 'ğŸŒ™';
      localStorage.setItem('theme', next);
    };

    (function() {
      const saved = localStorage.getItem('theme');
      if (saved) {
        document.documentElement.setAttribute('data-theme', saved);
        document.querySelector('.theme-toggle').textContent = saved === 'light' ? 'â˜€ï¸' : 'ğŸŒ™';
      }
    })();
  </script>
</body>
</html>
