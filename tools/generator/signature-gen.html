<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ç­¾åç”Ÿæˆå™¨ - WebUtils</title>
    <!-- SEO Meta Tags -->
    <meta name="description" content="ç­¾åç”Ÿæˆå™¨ - WebUtils" />
    <meta name="keywords" content="signature-gen,generator,tools,webutils" />
    <meta name="author" content="WebUtils" />
    <meta name="robots" content="index, follow" />
    <link
      rel="canonical"
      href="https://tools.realtime-ai.chat/tools/generator/signature-gen.html"
    />

    <!-- Open Graph -->
    <meta property="og:title" content="ç­¾åç”Ÿæˆå™¨ - WebUtils" />
    <meta property="og:description" content="ç­¾åç”Ÿæˆå™¨ - WebUtils" />
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://tools.realtime-ai.chat/tools/generator/signature-gen.html"
    />
    <meta property="og:site_name" content="WebUtils" />
    <meta property="og:locale" content="zh_CN" />
    <meta property="og:image" content="https://tools.realtime-ai.chat/social-preview.png" />
    <meta property="og:image:width" content="1280" />
    <meta property="og:image:height" content="640" />
    <meta property="og:image:type" content="image/png" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="ç­¾åç”Ÿæˆå™¨ - WebUtils" />
    <meta name="twitter:description" content="ç­¾åç”Ÿæˆå™¨ - WebUtils" />
    <meta name="twitter:image" content="https://tools.realtime-ai.chat/social-preview.png" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css" />
    <style>
      :root {
        --color-bg-deep: #0a0a0f;
        --color-bg-surface: #12121a;
        --color-bg-card: #1a1a24;
        --bg-input: #0e0e14;
        --color-text-primary: #e8e8ed;
        --color-text-secondary: #8888a0;
        --color-text-muted: #55556a;
        --border-subtle: #2a2a3a;
        --border-strong: #3a3a4a;
        --color-accent-cyan: #00f5d4;
        --accent-green: #10b981;
        --accent-red: #f43f5e;
        --accent-yellow: #fbbf24;
        --color-accent-purple: #a855f7;
        --glow-cyan: rgb(0, 245, 212, 0.15);
        --glow-green: rgb(16, 185, 129, 0.15);
        --glow-red: rgb(244, 63, 94, 0.15);
        --radius-sm: 4px;
        --radius-md: 8px;
        --radius-lg: 12px;
      
  /* å­—ä½“å˜é‡ */
  --font-sans: 'Space Grotesk', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-mono: 'JetBrains Mono', 'Courier New', monospace;
}

      [data-theme="light"] {
        --color-bg-deep: #fafafa;
        --color-bg-surface: #fff;
        --color-bg-card: #fff;
        --bg-input: #f5f5f5;
        --bg-hover: #f5f5f5;
        --color-text-primary: #1a1a1a;
        --color-text-secondary: #666;
        --color-text-muted: #999;
        --border-subtle: #e5e5e5;
        --border-strong: #d5d5d5;
      }

      :root {
        --primary-gradient: linear-gradient(135deg, #232526 0%, #414345 100%);
        --card-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
      }

      [data-theme="dark"] {
        --card-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
      }

      body {
        min-height: 100vh;
        padding: 2rem;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
      }

      header {
        text-align: center;
        margin-bottom: 2rem;
      }

      header h1 {
        background: var(--primary-gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      [data-theme="dark"] header h1 {
        background: linear-gradient(135deg, #f5f5f5, #888);
        -webkit-background-clip: text;
        background-clip: text;
      }

      .theme-toggle {
        position: fixed;
        top: 1rem;
        right: 1rem;
        background: var(--primary-gradient);
        border: none;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        cursor: pointer;
        font-size: 1.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: var(--card-shadow);
        transition: transform 0.3s;
        z-index: 1000;
      }

      .theme-toggle:hover {
        transform: scale(1.1);
      }

      .main-content {
        display: grid;
        grid-template-columns: 350px 1fr;
        gap: 2rem;
        align-items: start;
      }

      @media (max-width: 900px) {
        .main-content {
          grid-template-columns: 1fr;
        }
      }

      .controls {
        background: var(--pico-card-background-color);
        padding: 1.5rem;
        border-radius: 1rem;
        box-shadow: var(--card-shadow);
      }

      .control-group {
        margin-bottom: 1.5rem;
      }

      .control-group label {
        font-weight: 600;
        margin-bottom: 0.5rem;
        display: block;
      }

      .tabs {
        display: flex;
        gap: 0.5rem;
        margin-bottom: 1.5rem;
      }

      .tab-btn {
        flex: 1;
        padding: 0.75rem;
        border: 2px solid var(--pico-muted-border-color);
        border-radius: 0.5rem;
        background: transparent;
        cursor: pointer;
        transition: all 0.3s;
      }

      .tab-btn:hover,
      .tab-btn.active {
        border-color: #414345;
        background: rgba(65, 67, 69, 0.1);
      }

      .tab-content {
        display: none;
      }

      .tab-content.active {
        display: block;
      }

      .font-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 0.5rem;
      }

      .font-btn {
        padding: 0.75rem 0.5rem;
        border: 2px solid var(--pico-muted-border-color);
        border-radius: 0.5rem;
        background: transparent;
        cursor: pointer;
        transition: all 0.3s;
        font-size: 1rem;
      }

      .font-btn:hover,
      .font-btn.active {
        border-color: #414345;
        background: rgba(65, 67, 69, 0.1);
      }

      .color-row {
        display: flex;
        gap: 0.5rem;
        align-items: center;
        margin-bottom: 0.5rem;
      }

      .color-row input[type="color"] {
        width: 50px;
        height: 40px;
        padding: 0;
        border: none;
        border-radius: 0.5rem;
        cursor: pointer;
      }

      .slider-group {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .slider-group input[type="range"] {
        flex: 1;
      }

      .slider-value {
        min-width: 50px;
        text-align: right;
      }

      .preview-area {
        background: var(--pico-card-background-color);
        padding: 1.5rem;
        border-radius: 1rem;
        box-shadow: var(--card-shadow);
      }

      .canvas-wrapper {
        background: repeating-conic-gradient(#ccc 0% 25%, #fff 0% 50%) 50% / 20px 20px;
        border-radius: 0.5rem;
        padding: 2rem;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 300px;
      }

      [data-theme="dark"] .canvas-wrapper {
        background: repeating-conic-gradient(#333 0% 25%, #444 0% 50%) 50% / 20px 20px;
      }

      #signatureCanvas {
        background: white;
        border-radius: 0.5rem;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        cursor: crosshair;
        touch-action: none;
      }

      #drawCanvas {
        background: white;
        border-radius: 0.5rem;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        cursor: crosshair;
        touch-action: none;
      }

      .btn-group {
        display: flex;
        gap: 0.5rem;
        margin-top: 1rem;
      }

      .btn-group button {
        flex: 1;
      }

      .btn-primary {
        background: var(--primary-gradient);
        border: none;
      }

      .draw-tools {
        display: flex;
        gap: 0.5rem;
        margin-bottom: 1rem;
        justify-content: center;
      }

      .draw-tool {
        padding: 0.5rem 1rem;
        border: 2px solid var(--pico-muted-border-color);
        border-radius: 0.5rem;
        background: transparent;
        cursor: pointer;
        transition: all 0.3s;
      }

      .draw-tool:hover,
      .draw-tool.active {
        border-color: #414345;
        background: rgba(65, 67, 69, 0.1);
      }

      .preset-signatures {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }

      .preset-sig {
        padding: 1rem;
        border: 2px solid var(--pico-muted-border-color);
        border-radius: 0.5rem;
        cursor: pointer;
        text-align: center;
        transition: all 0.3s;
      }

      .preset-sig:hover {
        border-color: #414345;
        background: rgba(65, 67, 69, 0.05);
      }

      .breadcrumb {
        background: rgba(255, 255, 255, 0.95);
        padding: 8px 15px;
        border-radius: 20px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        font-size: 0.85rem;
      }
      .breadcrumb a {
        color: #667eea;
        text-decoration: none;
      }
      .breadcrumb a:hover {
        text-decoration: underline;
      }
      .breadcrumb span {
        color: #999;
        margin: 0 5px;
      }
    </style>
    <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
  <body>
    <nav class="breadcrumb">
      <a href="../../index.html">é¦–é¡µ</a>
      <span>â€º</span>
      ç­¾åç”Ÿæˆå™¨
    </nav>
    <button class="theme-toggle" onclick="toggleTheme()">ğŸŒ“</button>

    <div class="container">
      <header>
        <h1>âœ’ï¸ ç­¾åç”Ÿæˆå™¨</h1>
        <p>åˆ›å»ºä¸ªæ€§åŒ–çš„æ‰‹å†™ç­¾å</p>
      </header>

      <div class="main-content">
        <div class="controls">
          <div class="tabs">
            <button class="tab-btn active" data-tab="text">æ–‡å­—ç­¾å</button>
            <button class="tab-btn" data-tab="draw">æ‰‹å†™ç­¾å</button>
          </div>

          <div id="text-tab" class="tab-content active">
            <div class="control-group">
              <label>âœï¸ ç­¾åæ–‡å­—</label>
              <input type="text" id="signatureText" value="å¼ ä¸‰" placeholder="è¾“å…¥ç­¾å" />
            </div>

            <div class="control-group">
              <label>ğŸ”¤ å­—ä½“æ ·å¼</label>
              <div class="font-grid" id="fontGrid"></div>
            </div>

            <div class="control-group">
              <label>ğŸ“ å­—ä½“å¤§å°</label>
              <div class="slider-group">
                <input type="range" id="fontSize" min="30" max="120" value="60" />
                <span class="slider-value" id="fontSizeValue">60px</span>
              </div>
            </div>

            <div class="control-group">
              <label>ğŸ¨ é¢œè‰²</label>
              <div class="color-row">
                <span>ç­¾å</span>
                <input type="color" id="textColor" value="#1a1a2e" />
              </div>
              <div class="color-row">
                <span>èƒŒæ™¯</span>
                <input type="color" id="bgColor" value="#ffffff" />
                <label>
                  <input type="checkbox" id="transparentBg" />
                  é€æ˜
                </label>
              </div>
            </div>

            <div class="control-group">
              <label>ğŸ“ å€¾æ–œè§’åº¦</label>
              <div class="slider-group">
                <input type="range" id="rotation" min="-30" max="30" value="-5" />
                <span class="slider-value" id="rotationValue">-5Â°</span>
              </div>
            </div>

            <div class="control-group">
              <label>âœ¨ é¢„è®¾ç­¾åæ ·å¼</label>
              <div class="preset-signatures" id="presetSignatures"></div>
            </div>
          </div>

          <div id="draw-tab" class="tab-content">
            <div class="control-group">
              <label>ğŸ–Œï¸ ç”»ç¬”è®¾ç½®</label>
              <div class="color-row">
                <span>é¢œè‰²</span>
                <input type="color" id="drawColor" value="#1a1a2e" />
              </div>
              <div class="slider-group" style="margin-top: 0.5rem">
                <span>ç²—ç»†</span>
                <input type="range" id="brushSize" min="1" max="20" value="3" />
                <span class="slider-value" id="brushSizeValue">3px</span>
              </div>
            </div>

            <div class="control-group">
              <label>ğŸ¨ èƒŒæ™¯</label>
              <div class="color-row">
                <input type="color" id="drawBgColor" value="#ffffff" />
                <label>
                  <input type="checkbox" id="drawTransparentBg" />
                  é€æ˜èƒŒæ™¯
                </label>
              </div>
            </div>

            <div class="btn-group">
              <button onclick="clearDrawCanvas()">ğŸ—‘ï¸ æ¸…é™¤</button>
              <button onclick="undoDrawCanvas()">â†©ï¸ æ’¤é”€</button>
            </div>
          </div>

          <div class="btn-group">
            <button class="btn-primary" onclick="downloadSignature()">ğŸ“¥ ä¸‹è½½ PNG</button>
            <button onclick="downloadSVG()">ğŸ“¥ ä¸‹è½½ SVG</button>
          </div>
        </div>

        <div class="preview-area">
          <h3>é¢„è§ˆ</h3>
          <div class="canvas-wrapper">
            <canvas id="signatureCanvas" width="600" height="200"></canvas>
            <canvas id="drawCanvas" width="600" height="200" style="display: none"></canvas>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Theme management
      window.toggleTheme = function () {
        const html = document.documentElement;
        const currentTheme = html.getAttribute("data-theme");
        const newTheme = currentTheme === "light" ? "dark" : "light";
        html.setAttribute("data-theme", newTheme);
        localStorage.setItem("theme", newTheme);
      };

      const savedTheme = localStorage.getItem("theme") || "light";
      document.documentElement.setAttribute("data-theme", savedTheme);

      // Signature fonts
      const fonts = [
        { id: "cursive", label: "è‰ä¹¦", family: "cursive" },
        { id: "brush", label: "æ¯›ç¬”", family: "Brush Script MT, cursive" },
        { id: "elegant", label: "ä¼˜é›…", family: "Georgia, serif" },
        { id: "modern", label: "ç°ä»£", family: "Segoe Script, cursive" },
        { id: "classic", label: "ç»å…¸", family: "Times New Roman, serif" },
        { id: "artistic", label: "è‰ºæœ¯", family: "Lucida Handwriting, cursive" }
      ];

      const presets = [
        { style: "simple", label: "ç®€çº¦é£æ ¼" },
        { style: "elegant", label: "ä¼˜é›…é£æ ¼" },
        { style: "bold", label: "ç²—çŠ·é£æ ¼" },
        { style: "artistic", label: "è‰ºæœ¯é£æ ¼" }
      ];

      const signatureCanvas = document.getElementById("signatureCanvas");
      const signatureCtx = signatureCanvas.getContext("2d");
      const drawCanvas = document.getElementById("drawCanvas");
      const drawCtx = drawCanvas.getContext("2d");

      let state = {
        text: "å¼ ä¸‰",
        font: "cursive",
        fontSize: 60,
        textColor: "#1a1a2e",
        bgColor: "#ffffff",
        transparentBg: false,
        rotation: -5,
        currentTab: "text"
      };

      let drawState = {
        isDrawing: false,
        color: "#1a1a2e",
        brushSize: 3,
        bgColor: "#ffffff",
        transparentBg: false,
        history: [],
        historyIndex: -1
      };

      function initUI() {
        // Font grid
        const fontGrid = document.getElementById("fontGrid");
        fonts.forEach((f) => {
          const btn = document.createElement("button");
          btn.className = "font-btn" + (f.id === state.font ? " active" : "");
          btn.textContent = f.label;
          btn.style.fontFamily = f.family;
          btn.addEventListener("click", () => {
            document.querySelectorAll(".font-btn").forEach((b) => b.classList.remove("active"));
            btn.classList.add("active");
            state.font = f.id;
            render();
          });
          fontGrid.appendChild(btn);
        });

        // Presets
        const presetsEl = document.getElementById("presetSignatures");
        presets.forEach((p) => {
          const div = document.createElement("div");
          div.className = "preset-sig";
          div.textContent = p.label;
          div.addEventListener("click", () => applyPreset(p.style));
          presetsEl.appendChild(div);
        });
      }

      // Tab management
      document.querySelectorAll(".tab-btn").forEach((btn) => {
        btn.addEventListener("click", () => {
          document.querySelectorAll(".tab-btn").forEach((b) => b.classList.remove("active"));
          document.querySelectorAll(".tab-content").forEach((c) => c.classList.remove("active"));
          btn.classList.add("active");
          document.getElementById(btn.dataset.tab + "-tab").classList.add("active");

          state.currentTab = btn.dataset.tab;

          if (btn.dataset.tab === "text") {
            signatureCanvas.style.display = "block";
            drawCanvas.style.display = "none";
            render();
          } else {
            signatureCanvas.style.display = "none";
            drawCanvas.style.display = "block";
            initDrawCanvas();
          }
        });
      });

      // Text signature controls
      document.getElementById("signatureText").addEventListener("input", (e) => {
        state.text = e.target.value || "ç­¾å";
        render();
      });

      document.getElementById("fontSize").addEventListener("input", (e) => {
        state.fontSize = parseInt(e.target.value);
        document.getElementById("fontSizeValue").textContent = e.target.value + "px";
        render();
      });

      document.getElementById("textColor").addEventListener("input", (e) => {
        state.textColor = e.target.value;
        render();
      });

      document.getElementById("bgColor").addEventListener("input", (e) => {
        state.bgColor = e.target.value;
        render();
      });

      document.getElementById("transparentBg").addEventListener("change", (e) => {
        state.transparentBg = e.target.checked;
        render();
      });

      document.getElementById("rotation").addEventListener("input", (e) => {
        state.rotation = parseInt(e.target.value);
        document.getElementById("rotationValue").textContent = e.target.value + "Â°";
        render();
      });

      // Draw controls
      document.getElementById("drawColor").addEventListener("input", (e) => {
        drawState.color = e.target.value;
      });

      document.getElementById("brushSize").addEventListener("input", (e) => {
        drawState.brushSize = parseInt(e.target.value);
        document.getElementById("brushSizeValue").textContent = e.target.value + "px";
      });

      document.getElementById("drawBgColor").addEventListener("input", (e) => {
        drawState.bgColor = e.target.value;
        initDrawCanvas();
      });

      document.getElementById("drawTransparentBg").addEventListener("change", (e) => {
        drawState.transparentBg = e.target.checked;
        initDrawCanvas();
      });

      window.applyPreset = function (style) {
        switch (style) {
          case "simple":
            state.font = "cursive";
            state.fontSize = 50;
            state.rotation = 0;
            state.textColor = "#333333";
            break;
          case "elegant":
            state.font = "brush";
            state.fontSize = 70;
            state.rotation = -10;
            state.textColor = "#1a1a2e";
            break;
          case "bold":
            state.font = "artistic";
            state.fontSize = 80;
            state.rotation = 5;
            state.textColor = "#000000";
            break;
          case "artistic":
            state.font = "elegant";
            state.fontSize = 60;
            state.rotation = -15;
            state.textColor = "#2c3e50";
            break;
        }

        document.getElementById("fontSize").value = state.fontSize;
        document.getElementById("fontSizeValue").textContent = state.fontSize + "px";
        document.getElementById("rotation").value = state.rotation;
        document.getElementById("rotationValue").textContent = state.rotation + "Â°";
        document.getElementById("textColor").value = state.textColor;

        document.querySelectorAll(".font-btn").forEach((btn, i) => {
          btn.classList.toggle("active", fonts[i].id === state.font);
        });

        render();
      };

      function render() {
        const ctx = signatureCtx;
        const w = signatureCanvas.width;
        const h = signatureCanvas.height;

        ctx.clearRect(0, 0, w, h);

        // Background
        if (!state.transparentBg) {
          ctx.fillStyle = state.bgColor;
          ctx.fillRect(0, 0, w, h);
        }

        // Get font family
        const fontFamily = fonts.find((f) => f.id === state.font).family;

        ctx.save();
        ctx.translate(w / 2, h / 2);
        ctx.rotate((state.rotation * Math.PI) / 180);

        // Draw signature
        ctx.font = state.fontSize + "px " + fontFamily;
        ctx.fillStyle = state.textColor;
        ctx.textAlign = "center";
        ctx.textBaseline = "middle";

        // Add slight variation for handwritten look
        const text = state.text;
        let x = -ctx.measureText(text).width / 2;

        for (let i = 0; i < text.length; i++) {
          const char = text[i];
          const charWidth = ctx.measureText(char).width;
          const yOffset = Math.sin(i * 0.5) * 3;
          const rotOffset = Math.sin(i * 0.3) * 2;

          ctx.save();
          ctx.translate(x + charWidth / 2, yOffset);
          ctx.rotate((rotOffset * Math.PI) / 180);
          ctx.fillText(char, 0, 0);
          ctx.restore();

          x += charWidth;
        }

        // Add underline flourish
        ctx.beginPath();
        ctx.strokeStyle = state.textColor;
        ctx.lineWidth = 2;
        ctx.globalAlpha = 0.5;

        const textWidth = ctx.measureText(text).width;
        ctx.moveTo(-textWidth / 2 - 20, state.fontSize / 2 + 10);
        ctx.quadraticCurveTo(0, state.fontSize / 2 + 20, textWidth / 2 + 30, state.fontSize / 2);
        ctx.stroke();
        ctx.globalAlpha = 1;

        ctx.restore();
      }

      // Drawing functionality
      function initDrawCanvas() {
        if (!drawState.transparentBg) {
          drawCtx.fillStyle = drawState.bgColor;
          drawCtx.fillRect(0, 0, drawCanvas.width, drawCanvas.height);
        } else {
          drawCtx.clearRect(0, 0, drawCanvas.width, drawCanvas.height);
        }
        saveDrawHistory();
      }

      function saveDrawHistory() {
        drawState.historyIndex++;
        drawState.history = drawState.history.slice(0, drawState.historyIndex);
        drawState.history.push(drawCtx.getImageData(0, 0, drawCanvas.width, drawCanvas.height));
      }

      window.undoDrawCanvas = function () {
        if (drawState.historyIndex > 0) {
          drawState.historyIndex--;
          drawCtx.putImageData(drawState.history[drawState.historyIndex], 0, 0);
        }
      };

      window.clearDrawCanvas = function () {
        initDrawCanvas();
      };

      let lastX = 0,
        lastY = 0;

      function startDrawing(e) {
        drawState.isDrawing = true;
        const rect = drawCanvas.getBoundingClientRect();
        lastX = (e.clientX || e.touches[0].clientX) - rect.left;
        lastY = (e.clientY || e.touches[0].clientY) - rect.top;
      }

      function draw(e) {
        if (!drawState.isDrawing) return;
        e.preventDefault();

        const rect = drawCanvas.getBoundingClientRect();
        const x = (e.clientX || e.touches[0].clientX) - rect.left;
        const y = (e.clientY || e.touches[0].clientY) - rect.top;

        drawCtx.beginPath();
        drawCtx.strokeStyle = drawState.color;
        drawCtx.lineWidth = drawState.brushSize;
        drawCtx.lineCap = "round";
        drawCtx.lineJoin = "round";

        drawCtx.moveTo(lastX, lastY);
        drawCtx.lineTo(x, y);
        drawCtx.stroke();

        lastX = x;
        lastY = y;
      }

      function stopDrawing() {
        if (drawState.isDrawing) {
          drawState.isDrawing = false;
          saveDrawHistory();
        }
      }

      drawCanvas.addEventListener("mousedown", startDrawing);
      drawCanvas.addEventListener("mousemove", draw);
      drawCanvas.addEventListener("mouseup", stopDrawing);
      drawCanvas.addEventListener("mouseout", stopDrawing);

      drawCanvas.addEventListener("touchstart", startDrawing);
      drawCanvas.addEventListener("touchmove", draw);
      drawCanvas.addEventListener("touchend", stopDrawing);

      window.downloadSignature = function () {
        const canvas = state.currentTab === "text" ? signatureCanvas : drawCanvas;
        const link = document.createElement("a");
        link.download = "signature.png";
        link.href = canvas.toDataURL("image/png");
        link.click();
      };

      window.downloadSVG = function () {
        if (state.currentTab === "draw") {
          alert("æ‰‹å†™ç­¾åæš‚ä¸æ”¯æŒ SVG å¯¼å‡º");
          return;
        }

        const fontFamily = fonts.find((f) => f.id === state.font).family;
        const svg =
          '<svg xmlns="http://www.w3.org/2000/svg" width="' +
          signatureCanvas.width +
          '" height="' +
          signatureCanvas.height +
          '">' +
          (state.transparentBg
            ? ""
            : '<rect width="100%" height="100%" fill="' + state.bgColor + '"/>') +
          '<text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" ' +
          'font-family="' +
          fontFamily +
          '" font-size="' +
          state.fontSize +
          '" ' +
          'fill="' +
          state.textColor +
          '" transform="rotate(' +
          state.rotation +
          ' 300 100)">' +
          state.text +
          "</text></svg>";

        const blob = new Blob([svg], { type: "image/svg+xml" });
        const link = document.createElement("a");
        link.download = "signature.svg";
        link.href = URL.createObjectURL(blob);
        link.click();
      };

      // Initialize
      initUI();
      render();
      initDrawCanvas();
    </script>
  </body>
</html>
