<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç»Ÿè®¡è®¡ç®—å™¨ - WebUtils</title>
  <!-- SEO Meta Tags -->
  <meta name="description" content="ç»Ÿè®¡è®¡ç®—å™¨ - WebUtils" />
  <meta name="keywords" content="statistics-calc,calculator,tools,webutils" />
  <meta name="author" content="WebUtils" />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href="https://tools.realtime-ai.chat/tools/calculator/statistics-calc.html" />

  <!-- Open Graph -->
  <meta property="og:title" content="ç»Ÿè®¡è®¡ç®—å™¨ - WebUtils" />
  <meta property="og:description" content="ç»Ÿè®¡è®¡ç®—å™¨ - WebUtils" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://tools.realtime-ai.chat/tools/calculator/statistics-calc.html" />
  <meta property="og:site_name" content="WebUtils" />
  <meta property="og:locale" content="zh_CN" />
  <meta property="og:image" content="https://tools.realtime-ai.chat/social-preview.png" />
  <meta property="og:image:width" content="1280" />
  <meta property="og:image:height" content="640" />
  <meta property="og:image:type" content="image/png" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="ç»Ÿè®¡è®¡ç®—å™¨ - WebUtils" />
  <meta name="twitter:description" content="ç»Ÿè®¡è®¡ç®—å™¨ - WebUtils" />
  <meta name="twitter:image" content="https://tools.realtime-ai.chat/social-preview.png" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">
    <style>
    :root {
      --bg-deep: #0a0a0f;
      --bg-surface: #12121a;
      --bg-card: #1a1a24;
      --bg-input: #0e0e14;
      --text-primary: #e8e8ed;
      --text-secondary: #8888a0;
      --text-muted: #55556a;
      --border-subtle: #2a2a3a;
      --border-strong: #3a3a4a;
      --accent-cyan: #00f5d4;
      --accent-green: #10b981;
      --accent-red: #f43f5e;
      --accent-yellow: #fbbf24;
      --accent-purple: #a855f7;
      --glow-cyan: rgb(0, 245, 212, 0.15);
      --glow-green: rgb(16, 185, 129, 0.15);
      --glow-red: rgb(244, 63, 94, 0.15);
      --radius-sm: 4px;
      --radius-md: 8px;
      --radius-lg: 12px;
    }

    [data-theme="light"] {
      --bg-deep: #fafafa;
      --bg-surface: #fff;
      --bg-card: #fff;
      --bg-input: #f5f5f5;
      --bg-hover: #f5f5f5;
      --text-primary: #1a1a1a;
      --text-secondary: #666;
      --text-muted: #999;
      --border-subtle: #e5e5e5;
      --border-strong: #d5d5d5;
    }

        body { min-height: 100vh; padding: 2rem 1rem; }
        .container { max-width: 800px; margin: 0 auto; }
        header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; }
        .input-section { margin-bottom: 2rem; }
        .input-section textarea { width: 100%; height: 120px; font-family: monospace; }
        .results-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-top: 1rem; }
        .result-card { background: var(--pico-muted-border-color); border-radius: var(--pico-border-radius); padding: 1rem; }
        .result-card h5 { margin: 0 0 0.5rem; color: var(--pico-muted-color); font-size: 0.9rem; }
        .result-card .value { font-size: 1.5rem; font-weight: bold; font-family: monospace; }
        .chart-container { margin-top: 2rem; padding: 1rem; background: var(--pico-muted-border-color); border-radius: var(--pico-border-radius); }
        .histogram { display: flex; align-items: flex-end; gap: 2px; height: 150px; }
        .histogram-bar { background: var(--pico-primary); min-width: 20px; flex: 1; }
        .histogram-labels { display: flex; gap: 2px; font-size: 0.7rem; color: var(--pico-muted-color); margin-top: 0.5rem; }
        .histogram-labels span { min-width: 20px; flex: 1; text-align: center; }
        .frequency-table { margin-top: 1rem; }
        .frequency-table table { width: 100%; }
    
        .breadcrumb {     background: rgba(255,255,255,0.95); padding: 8px 15px; border-radius: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); font-size: 0.85rem; }
        .breadcrumb a { color: #667eea; text-decoration: none; }
        .breadcrumb a:hover { text-decoration: underline; }
        .breadcrumb span { color: #999; margin: 0 5px; }
    </style>
</head>
<body>
    <nav class="breadcrumb"><a href="../../index.html">é¦–é¡µ</a><span>â€º</span>ç»Ÿè®¡è®¡ç®—å™¨</nav>
    <main class="container">
        <a href="../../index.html" style="display:inline-block;margin-bottom:1rem;color:var(--pico-primary);text-decoration:none;">â† è¿”å›é¦–é¡µ</a>
        <header>
            <h1>ç»Ÿè®¡è®¡ç®—å™¨</h1>
            <button id="themeToggle" class="outline" onclick="toggleTheme()">ğŸŒ™</button>
        </header>

        <div class="input-section">
            <label for="dataInput">è¾“å…¥æ•°æ®ï¼ˆç”¨é€—å·ã€ç©ºæ ¼æˆ–æ¢è¡Œåˆ†éš”ï¼‰ï¼š</label>
            <textarea id="dataInput" placeholder="ä¾‹å¦‚: 1, 2, 3, 4, 5 æˆ– 1 2 3 4 5">12, 15, 18, 22, 25, 28, 30, 32, 35, 38, 40, 42, 45, 48, 50</textarea>
            <div style="margin-top: 1rem; display: flex; gap: 1rem; flex-wrap: wrap;">
                <button onclick="calculate()">è®¡ç®—ç»Ÿè®¡é‡</button>
                <button class="outline" onclick="clearData()">æ¸…ç©º</button>
                <button class="outline" onclick="generateSample()">ç”Ÿæˆç¤ºä¾‹æ•°æ®</button>
            </div>
        </div>

        <div id="results" style="display: none;">
            <h3>ç»Ÿè®¡ç»“æœ</h3>
            <div class="results-grid">
                <div class="result-card"><h5>æ•°æ®ä¸ªæ•° (n)</h5><div class="value" id="count">-</div></div>
                <div class="result-card"><h5>æ€»å’Œ (Î£x)</h5><div class="value" id="sum">-</div></div>
                <div class="result-card"><h5>å¹³å‡å€¼ (xÌ„)</h5><div class="value" id="mean">-</div></div>
                <div class="result-card"><h5>ä¸­ä½æ•°</h5><div class="value" id="median">-</div></div>
                <div class="result-card"><h5>ä¼—æ•°</h5><div class="value" id="mode">-</div></div>
                <div class="result-card"><h5>æå·®</h5><div class="value" id="range">-</div></div>
                <div class="result-card"><h5>æœ€å°å€¼</h5><div class="value" id="min">-</div></div>
                <div class="result-card"><h5>æœ€å¤§å€¼</h5><div class="value" id="max">-</div></div>
                <div class="result-card"><h5>æ–¹å·® (ÏƒÂ²)</h5><div class="value" id="variance">-</div></div>
                <div class="result-card"><h5>æ ‡å‡†å·® (Ïƒ)</h5><div class="value" id="stddev">-</div></div>
                <div class="result-card"><h5>æ ·æœ¬æ–¹å·® (sÂ²)</h5><div class="value" id="sampleVariance">-</div></div>
                <div class="result-card"><h5>æ ·æœ¬æ ‡å‡†å·® (s)</h5><div class="value" id="sampleStddev">-</div></div>
                <div class="result-card"><h5>Q1 (25%)</h5><div class="value" id="q1">-</div></div>
                <div class="result-card"><h5>Q3 (75%)</h5><div class="value" id="q3">-</div></div>
                <div class="result-card"><h5>å››åˆ†ä½è· (IQR)</h5><div class="value" id="iqr">-</div></div>
                <div class="result-card"><h5>å˜å¼‚ç³»æ•° (CV)</h5><div class="value" id="cv">-</div></div>
                <div class="result-card"><h5>ååº¦</h5><div class="value" id="skewness">-</div></div>
                <div class="result-card"><h5>å³°åº¦</h5><div class="value" id="kurtosis">-</div></div>
            </div>

            <div class="chart-container">
                <h4>ç›´æ–¹å›¾</h4>
                <div class="histogram" id="histogram"></div>
                <div class="histogram-labels" id="histogramLabels"></div>
            </div>

            <div class="frequency-table">
                <h4>é¢‘ç‡åˆ†å¸ƒè¡¨</h4>
                <table id="freqTable">
                    <thead><tr><th>åŒºé—´</th><th>é¢‘æ•°</th><th>é¢‘ç‡</th><th>ç´¯è®¡é¢‘ç‡</th></tr></thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <article style="margin-top: 2rem;">
            <h4>ä½¿ç”¨è¯´æ˜</h4>
            <ul>
                <li><strong>è¾“å…¥æ ¼å¼</strong>ï¼šæ”¯æŒé€—å·ã€ç©ºæ ¼æˆ–æ¢è¡Œåˆ†éš”çš„æ•°å­—</li>
                <li><strong>åŸºç¡€ç»Ÿè®¡</strong>ï¼šè®¡ç®—å‡å€¼ã€ä¸­ä½æ•°ã€ä¼—æ•°ã€æå·®</li>
                <li><strong>ç¦»æ•£ç¨‹åº¦</strong>ï¼šæ–¹å·®ã€æ ‡å‡†å·®ã€å˜å¼‚ç³»æ•°</li>
                <li><strong>åˆ†ä½æ•°</strong>ï¼šQ1ã€Q3ã€å››åˆ†ä½è·</li>
                <li><strong>åˆ†å¸ƒå½¢æ€</strong>ï¼šååº¦ã€å³°åº¦</li>
            </ul>
        </article>
    </main>

    <script>
        window.toggleTheme = function() {
            const html = document.documentElement;
            const newTheme = html.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
            html.setAttribute('data-theme', newTheme);
            document.getElementById('themeToggle').textContent = newTheme === 'light' ? 'ğŸŒ™' : 'â˜€ï¸';
            localStorage.setItem('theme', newTheme);
        };

        function loadTheme() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
            document.getElementById('themeToggle').textContent = savedTheme === 'light' ? 'ğŸŒ™' : 'â˜€ï¸';
        }

        function parseData(input) {
            return input.split(/[\s,\n]+/).map(s => parseFloat(s.trim())).filter(n => !isNaN(n));
        }

        function mean(arr) { return arr.reduce((a, b) => a + b, 0) / arr.length; }
        
        function median(arr) {
            const sorted = [...arr].sort((a, b) => a - b);
            const mid = Math.floor(sorted.length / 2);
            return sorted.length % 2 ? sorted[mid] : (sorted[mid - 1] + sorted[mid]) / 2;
        }
        
        function mode(arr) {
            const freq = {};
            arr.forEach(n => freq[n] = (freq[n] || 0) + 1);
            const maxFreq = Math.max(...Object.values(freq));
            const modes = Object.keys(freq).filter(k => freq[k] === maxFreq).map(Number);
            return modes.length === arr.length ? 'æ— ' : modes.join(', ');
        }
        
        function variance(arr, sample = false) {
            const m = mean(arr);
            const sum = arr.reduce((acc, val) => acc + Math.pow(val - m, 2), 0);
            return sum / (sample ? arr.length - 1 : arr.length);
        }
        
        function quantile(arr, q) {
            const sorted = [...arr].sort((a, b) => a - b);
            const pos = (sorted.length - 1) * q;
            const base = Math.floor(pos);
            const rest = pos - base;
            if (sorted[base + 1] !== undefined) {
                return sorted[base] + rest * (sorted[base + 1] - sorted[base]);
            }
            return sorted[base];
        }
        
        function skewness(arr) {
            const m = mean(arr);
            const s = Math.sqrt(variance(arr));
            const n = arr.length;
            return arr.reduce((acc, val) => acc + Math.pow((val - m) / s, 3), 0) / n;
        }
        
        function kurtosis(arr) {
            const m = mean(arr);
            const s = Math.sqrt(variance(arr));
            const n = arr.length;
            return arr.reduce((acc, val) => acc + Math.pow((val - m) / s, 4), 0) / n - 3;
        }

        window.calculate = function() {
            const input = document.getElementById('dataInput').value;
            const data = parseData(input);
            
            if (data.length < 2) {
                alert('è¯·è¾“å…¥è‡³å°‘2ä¸ªæœ‰æ•ˆæ•°å­—');
                return;
            }

            document.getElementById('results').style.display = 'block';

            const n = data.length;
            const sum = data.reduce((a, b) => a + b, 0);
            const m = mean(data);
            const v = variance(data);
            const sv = variance(data, true);
            const q1 = quantile(data, 0.25);
            const q3 = quantile(data, 0.75);
            const sorted = [...data].sort((a, b) => a - b);

            const format = (num) => Number.isFinite(num) ? (Number.isInteger(num) ? num : num.toFixed(4)) : '-';

            document.getElementById('count').textContent = n;
            document.getElementById('sum').textContent = format(sum);
            document.getElementById('mean').textContent = format(m);
            document.getElementById('median').textContent = format(median(data));
            document.getElementById('mode').textContent = mode(data);
            document.getElementById('range').textContent = format(sorted[n-1] - sorted[0]);
            document.getElementById('min').textContent = format(sorted[0]);
            document.getElementById('max').textContent = format(sorted[n-1]);
            document.getElementById('variance').textContent = format(v);
            document.getElementById('stddev').textContent = format(Math.sqrt(v));
            document.getElementById('sampleVariance').textContent = format(sv);
            document.getElementById('sampleStddev').textContent = format(Math.sqrt(sv));
            document.getElementById('q1').textContent = format(q1);
            document.getElementById('q3').textContent = format(q3);
            document.getElementById('iqr').textContent = format(q3 - q1);
            document.getElementById('cv').textContent = format((Math.sqrt(v) / m) * 100) + '%';
            document.getElementById('skewness').textContent = format(skewness(data));
            document.getElementById('kurtosis').textContent = format(kurtosis(data));

            drawHistogram(data);
        };

        function drawHistogram(data) {
            const sorted = [...data].sort((a, b) => a - b);
            const min = sorted[0];
            const max = sorted[sorted.length - 1];
            const binCount = Math.min(10, Math.ceil(Math.sqrt(data.length)));
            const binWidth = (max - min) / binCount || 1;
            
            const bins = Array(binCount).fill(0);
            data.forEach(val => {
                let binIndex = Math.floor((val - min) / binWidth);
                if (binIndex >= binCount) binIndex = binCount - 1;
                bins[binIndex]++;
            });

            const maxBin = Math.max(...bins);
            const histogram = document.getElementById('histogram');
            const labels = document.getElementById('histogramLabels');
            histogram.textContent = '';
            labels.textContent = '';

            bins.forEach((count, i) => {
                const bar = document.createElement('div');
                bar.className = 'histogram-bar';
                bar.style.height = (count / maxBin * 100) + '%';
                bar.title = 'é¢‘æ•°: ' + count;
                histogram.appendChild(bar);

                const label = document.createElement('span');
                label.textContent = (min + i * binWidth).toFixed(1);
                labels.appendChild(label);
            });

            const tbody = document.querySelector('#freqTable tbody');
            tbody.textContent = '';
            let cumFreq = 0;
            bins.forEach((count, i) => {
                const from = (min + i * binWidth).toFixed(2);
                const to = (min + (i + 1) * binWidth).toFixed(2);
                const freq = count / data.length;
                cumFreq += freq;
                const tr = document.createElement('tr');
                tr.innerHTML = '<td>[' + from + ', ' + to + ')</td><td>' + count + '</td><td>' + (freq * 100).toFixed(2) + '%</td><td>' + (cumFreq * 100).toFixed(2) + '%</td>';
                tbody.appendChild(tr);
            });
        }

        window.clearData = function() {
            document.getElementById('dataInput').value = '';
            document.getElementById('results').style.display = 'none';
        };

        window.generateSample = function() {
            const n = 30;
            const data = [];
            for (let i = 0; i < n; i++) {
                data.push(Math.round((Math.random() * 100) * 10) / 10);
            }
            document.getElementById('dataInput').value = data.join(', ');
        };

        loadTheme();
    </script>
</body>
</html>
