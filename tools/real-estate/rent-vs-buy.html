<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ç§Ÿæˆ¿ä¹°æˆ¿å¯¹æ¯”è®¡ç®—å™¨ - WebUtils</title>
  <meta name="description" content="å¯¹æ¯”ç§Ÿæˆ¿å’Œä¹°æˆ¿çš„æˆæœ¬ï¼Œå¸®åŠ©åšå‡ºæ˜æ™ºçš„å±…ä½å†³ç­–" />
  <meta name="keywords" content="ç§Ÿæˆ¿ ä¹°æˆ¿ æˆ¿äº§ æŠ•èµ„ æˆæœ¬ rent buy house property calculator" />
  <meta name="author" content="WebUtils" />
  <link rel="canonical" href="https://tools.realtime-ai.chat/tools/real-estate/rent-vs-buy.html" />

  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&family=Space+Grotesk:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    :root{--bg-deep:#0a0a0f;--bg-surface:#12121a;--bg-card:#1a1a24;--text-primary:#e8e8ed;--text-secondary:#9898a4;--text-muted:#5c5c66;--accent-blue:#4d9fff;--accent-cyan:#00f5d4;--accent-green:#00d26a;--accent-red:#ff6b6b;--accent-orange:#ff9f43;--border-subtle:#2a2a36;--radius-sm:6px;--radius-md:10px;--radius-lg:14px}
    [data-theme="light"]{--bg-deep:#fafafa;--bg-surface:#fff;--bg-card:#fff;--text-primary:#1a1a1a;--text-secondary:#666;--text-muted:#999;--border-subtle:#e5e5e5}
    *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
    body{font-family:'Space Grotesk',system-ui,sans-serif;background:var(--bg-deep);color:var(--text-primary);min-height:100vh;line-height:1.6;padding-bottom:3rem}
    .bg-grid{position:fixed;inset:0;background-image:linear-gradient(rgba(77,159,255,.03) 1px,transparent 1px),linear-gradient(90deg,rgba(77,159,255,.03) 1px,transparent 1px);background-size:50px 50px;pointer-events:none;z-index:0}
    .container{position:relative;z-index:1;max-width:900px;margin:0 auto;padding:2rem 1.5rem}
    .theme-toggle{position:fixed;top:1rem;right:1rem;width:40px;height:40px;border-radius:50%;border:1px solid var(--border-subtle);background:var(--bg-card);cursor:pointer;font-size:1.2rem;z-index:100;transition:all .2s}
    .theme-toggle:hover{border-color:var(--accent-cyan);transform:scale(1.1)}
    .breadcrumb{display:flex;align-items:center;gap:8px;font-size:.85rem;padding:8px 14px;background:var(--bg-surface);border:1px solid var(--border-subtle);border-radius:var(--radius-sm);margin-bottom:1.5rem;flex-wrap:wrap}
    .breadcrumb a{color:var(--text-secondary);text-decoration:none}
    .breadcrumb a:hover{color:var(--accent-cyan)}
    .breadcrumb-separator{color:var(--text-muted)}
    .breadcrumb-current{color:var(--text-primary);font-weight:500}
    h1{font-size:2rem;font-weight:600;margin-bottom:.5rem;background:linear-gradient(135deg,var(--text-primary),var(--accent-cyan));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
    .subtitle{color:var(--text-secondary);margin-bottom:2rem}
    .card{background:var(--bg-card);border:1px solid var(--border-subtle);border-radius:var(--radius-lg);padding:1.5rem;margin-bottom:1.5rem}
    .card-title{font-size:1.1rem;font-weight:600;margin-bottom:1rem;display:flex;align-items:center;gap:.5rem}
    .input-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}
    .form-group{margin-bottom:1rem}
    .form-group label{display:block;font-size:.9rem;color:var(--text-secondary);margin-bottom:.5rem}
    .form-group input{width:100%;padding:.75rem;border:1px solid var(--border-subtle);border-radius:var(--radius-sm);background:var(--bg-surface);color:var(--text-primary);font-family:'JetBrains Mono',monospace;font-size:.95rem}
    .form-group input:focus{outline:none;border-color:var(--accent-blue)}
    .unit{font-size:.85rem;color:var(--text-muted);margin-left:.5rem}
    .result-container{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1.5rem}
    .result-card{background:var(--bg-card);border:2px solid var(--border-subtle);border-radius:var(--radius-lg);padding:1.5rem;position:relative;transition:all .3s}
    .result-card.winner{border-color:var(--accent-green);background:linear-gradient(135deg,rgba(0,210,106,.1),transparent)}
    .result-card.winner::before{content:'âœ“ æ¨è';position:absolute;top:1rem;right:1rem;background:var(--accent-green);color:#000;padding:.25rem .75rem;border-radius:20px;font-size:.75rem;font-weight:600}
    .result-title{font-size:1.2rem;font-weight:600;margin-bottom:1rem;color:var(--accent-cyan)}
    .result-card.winner .result-title{color:var(--accent-green)}
    .result-item{display:flex;justify-content:space-between;padding:.75rem 0;border-bottom:1px solid var(--border-subtle)}
    .result-item:last-child{border-bottom:none}
    .result-label{color:var(--text-secondary);font-size:.9rem}
    .result-value{font-family:'JetBrains Mono',monospace;font-weight:600;color:var(--text-primary)}
    .result-value.highlight{color:var(--accent-cyan);font-size:1.1rem}
    .analysis{background:linear-gradient(135deg,rgba(77,159,255,.1),rgba(0,245,212,.1));border:1px solid var(--accent-blue);padding:1.5rem;border-radius:var(--radius-lg);margin-top:1rem}
    .analysis-title{font-size:1rem;font-weight:600;margin-bottom:.75rem;color:var(--accent-blue)}
    .analysis-item{display:flex;align-items:flex-start;gap:.75rem;margin-bottom:.75rem;font-size:.9rem;line-height:1.6}
    .analysis-item:last-child{margin-bottom:0}
    .analysis-icon{flex-shrink:0;margin-top:.1rem}
    .assumptions{background:var(--bg-surface);border:1px solid var(--border-subtle);border-radius:var(--radius-sm);padding:1rem;margin-top:1.5rem;font-size:.85rem;color:var(--text-muted)}
    .assumptions-title{font-weight:600;margin-bottom:.5rem;color:var(--text-secondary)}
    .assumptions ul{margin-left:1.5rem;margin-top:.5rem}
    .assumptions li{margin-bottom:.25rem}
    footer{margin-top:3rem;padding-top:1.5rem;border-top:1px solid var(--border-subtle);text-align:center;color:var(--text-muted);font-size:.85rem}
    footer a{color:var(--accent-blue);text-decoration:none}
    @media(max-width:768px){.result-container{grid-template-columns:1fr}.input-grid{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="bg-grid"></div>
  <div class="container">
    <button class="theme-toggle" onclick="toggleTheme()" title="åˆ‡æ¢ä¸»é¢˜">ğŸŒ™</button>

    <nav class="breadcrumb">
      <a href="../../index.html">é¦–é¡µ</a>
      <span class="breadcrumb-separator">/</span>
      <span class="breadcrumb-current">ç§Ÿæˆ¿ä¹°æˆ¿å¯¹æ¯”</span>
    </nav>

    <h1>ğŸ  ç§Ÿæˆ¿ vs ä¹°æˆ¿è®¡ç®—å™¨</h1>
    <p class="subtitle">å¯¹æ¯”ç§Ÿæˆ¿å’Œä¹°æˆ¿çš„æˆæœ¬ï¼Œåšå‡ºæ˜æ™ºçš„å±…ä½å†³ç­–</p>

    <div class="card">
      <div class="card-title">ğŸ“ åŸºæœ¬ä¿¡æ¯</div>
      <div class="input-grid">
        <div class="form-group">
          <label>æˆ¿ä»· (ä¸‡å…ƒ)</label>
          <input type="number" id="housePrice" value="300" min="0" step="10" oninput="calculate()">
        </div>
        <div class="form-group">
          <label>æœˆç§Ÿé‡‘ (å…ƒ)</label>
          <input type="number" id="monthlyRent" value="3000" min="0" step="100" oninput="calculate()">
        </div>
        <div class="form-group">
          <label>é¦–ä»˜æ¯”ä¾‹ (%)</label>
          <input type="number" id="downPayment" value="30" min="0" max="100" step="5" oninput="calculate()">
        </div>
        <div class="form-group">
          <label>è´·æ¬¾å¹´é™ (å¹´)</label>
          <input type="number" id="loanYears" value="30" min="1" max="30" step="5" oninput="calculate()">
        </div>
        <div class="form-group">
          <label>è´·æ¬¾åˆ©ç‡ (%)</label>
          <input type="number" id="interestRate" value="4.3" min="0" max="10" step="0.1" oninput="calculate()">
        </div>
        <div class="form-group">
          <label>å¯¹æ¯”å¹´é™ (å¹´)</label>
          <input type="number" id="compareYears" value="10" min="1" max="30" step="1" oninput="calculate()">
        </div>
        <div class="form-group">
          <label>æˆ¿ä»·å¹´æ¶¨å¹… (%)</label>
          <input type="number" id="houseAppreciation" value="3" min="-10" max="20" step="0.5" oninput="calculate()">
        </div>
        <div class="form-group">
          <label>ç§Ÿé‡‘å¹´æ¶¨å¹… (%)</label>
          <input type="number" id="rentIncrease" value="3" min="0" max="20" step="0.5" oninput="calculate()">
        </div>
        <div class="form-group">
          <label>æŠ•èµ„æ”¶ç›Šç‡ (%)</label>
          <input type="number" id="investmentReturn" value="6" min="0" max="20" step="0.5" oninput="calculate()">
        </div>
      </div>
    </div>

    <div class="result-container">
      <div class="result-card" id="buyCard">
        <div class="result-title">ğŸ’° ä¹°æˆ¿æ–¹æ¡ˆ</div>
        <div class="result-item">
          <span class="result-label">é¦–ä»˜é‡‘é¢</span>
          <span class="result-value" id="buyDownPayment">Â¥0</span>
        </div>
        <div class="result-item">
          <span class="result-label">æœˆä¾›é‡‘é¢</span>
          <span class="result-value" id="buyMonthlyPayment">Â¥0</span>
        </div>
        <div class="result-item">
          <span class="result-label">æ€»è¿˜æ¬¾é¢</span>
          <span class="result-value" id="buyTotalPayment">Â¥0</span>
        </div>
        <div class="result-item">
          <span class="result-label">æˆ¿äº§ä»·å€¼</span>
          <span class="result-value" id="buyHouseValue">Â¥0</span>
        </div>
        <div class="result-item">
          <span class="result-label">å‡€èµ„äº§</span>
          <span class="result-value highlight" id="buyNetWorth">Â¥0</span>
        </div>
      </div>

      <div class="result-card" id="rentCard">
        <div class="result-title">ğŸ¢ ç§Ÿæˆ¿æ–¹æ¡ˆ</div>
        <div class="result-item">
          <span class="result-label">ç´¯è®¡ç§Ÿé‡‘</span>
          <span class="result-value" id="rentTotalRent">Â¥0</span>
        </div>
        <div class="result-item">
          <span class="result-label">é¦–ä»˜æŠ•èµ„æ”¶ç›Š</span>
          <span class="result-value" id="rentDownPaymentReturn">Â¥0</span>
        </div>
        <div class="result-item">
          <span class="result-label">æœˆä¾›å·®é¢æ”¶ç›Š</span>
          <span class="result-value" id="rentMonthlySavings">Â¥0</span>
        </div>
        <div class="result-item">
          <span class="result-label">æ€»æŠ•èµ„æ”¶ç›Š</span>
          <span class="result-value" id="rentTotalReturn">Â¥0</span>
        </div>
        <div class="result-item">
          <span class="result-label">å‡€èµ„äº§</span>
          <span class="result-value highlight" id="rentNetWorth">Â¥0</span>
        </div>
      </div>
    </div>

    <div class="analysis" id="analysis">
      <div class="analysis-title">ğŸ“Š åˆ†æå»ºè®®</div>
      <div id="analysisContent"></div>
    </div>

    <div class="assumptions">
      <div class="assumptions-title">âš ï¸ è®¡ç®—å‡è®¾</div>
      <ul>
        <li>ä¹°æˆ¿é‡‡ç”¨ç­‰é¢æœ¬æ¯è¿˜æ¬¾æ–¹å¼</li>
        <li>ç§Ÿæˆ¿æ–¹æ¡ˆå°†é¦–ä»˜å’Œæœˆä¾›å·®é¢ç”¨äºæŠ•èµ„</li>
        <li>æœªè€ƒè™‘ä¹°æˆ¿çš„ç‰©ä¸šè´¹ã€ç»´ä¿®è´¹ç­‰æŒæœ‰æˆæœ¬</li>
        <li>æœªè€ƒè™‘ç§Ÿæˆ¿çš„æ¬å®¶æˆæœ¬å’Œä¸ç¨³å®šæ€§</li>
        <li>æˆ¿ä»·å’Œç§Ÿé‡‘æŒ‰å¹´åº¦å¤åˆ©å¢é•¿</li>
        <li>æŠ•èµ„æ”¶ç›ŠæŒ‰æœˆå¤åˆ©è®¡ç®—</li>
        <li>æœªè€ƒè™‘ç¨è´¹ã€é€šè´§è†¨èƒ€ç­‰å› ç´ </li>
      </ul>
    </div>

    <footer>
      <a href="https://github.com/nicexe/html-tools" target="_blank">GitHub</a>
    </footer>
  </div>

  <script>
    // Calculate monthly payment for equal payment method
    function calculateMonthlyPayment(principal, annualRate, years) {
      const monthlyRate = annualRate / 100 / 12;
      const months = years * 12;
      if (monthlyRate === 0) return principal / months;

      const payment = principal * monthlyRate * Math.pow(1 + monthlyRate, months) /
                     (Math.pow(1 + monthlyRate, months) - 1);
      return payment;
    }

    // Calculate compound interest
    function calculateCompoundInterest(principal, annualRate, years, monthlyDeposit = 0) {
      const monthlyRate = annualRate / 100 / 12;
      const months = years * 12;

      // Future value of initial principal
      let futureValue = principal * Math.pow(1 + monthlyRate, months);

      // Future value of monthly deposits
      if (monthlyDeposit > 0 && monthlyRate > 0) {
        futureValue += monthlyDeposit * (Math.pow(1 + monthlyRate, months) - 1) / monthlyRate;
      } else if (monthlyDeposit > 0) {
        futureValue += monthlyDeposit * months;
      }

      return futureValue;
    }

    function calculate() {
      const housePrice = parseFloat(document.getElementById('housePrice').value) * 10000;
      const monthlyRent = parseFloat(document.getElementById('monthlyRent').value);
      const downPaymentPercent = parseFloat(document.getElementById('downPayment').value);
      const loanYears = parseFloat(document.getElementById('loanYears').value);
      const interestRate = parseFloat(document.getElementById('interestRate').value);
      const compareYears = parseFloat(document.getElementById('compareYears').value);
      const houseAppreciation = parseFloat(document.getElementById('houseAppreciation').value);
      const rentIncrease = parseFloat(document.getElementById('rentIncrease').value);
      const investmentReturn = parseFloat(document.getElementById('investmentReturn').value);

      // Buy scenario
      const downPaymentAmount = housePrice * downPaymentPercent / 100;
      const loanAmount = housePrice - downPaymentAmount;
      const monthlyPayment = calculateMonthlyPayment(loanAmount, interestRate, loanYears);

      // Calculate total payment over compare years
      const monthsToPay = Math.min(compareYears * 12, loanYears * 12);
      const totalPayment = downPaymentAmount + monthlyPayment * monthsToPay;

      // House value after appreciation
      const futureHouseValue = housePrice * Math.pow(1 + houseAppreciation / 100, compareYears);

      // Remaining loan
      let remainingLoan = 0;
      if (compareYears < loanYears) {
        const monthlyRate = interestRate / 100 / 12;
        const totalMonths = loanYears * 12;
        remainingLoan = loanAmount * (Math.pow(1 + monthlyRate, totalMonths) - Math.pow(1 + monthlyRate, monthsToPay)) /
                       (Math.pow(1 + monthlyRate, totalMonths) - 1);
      }

      const buyNetWorth = futureHouseValue - remainingLoan;

      // Rent scenario
      let totalRent = 0;
      let currentRent = monthlyRent;
      for (let year = 0; year < compareYears; year++) {
        totalRent += currentRent * 12;
        currentRent *= (1 + rentIncrease / 100);
      }

      // Investment returns
      const downPaymentReturn = calculateCompoundInterest(downPaymentAmount, investmentReturn, compareYears);

      // Monthly savings invested (if monthly payment > rent)
      let monthlySavings = 0;
      if (monthlyPayment > monthlyRent) {
        const avgSavings = monthlyPayment - (monthlyRent + monthlyRent * Math.pow(1 + rentIncrease / 100, compareYears)) / 2;
        monthlySavings = calculateCompoundInterest(0, investmentReturn, compareYears, avgSavings);
      }

      const totalReturn = downPaymentReturn + monthlySavings;
      const rentNetWorth = totalReturn - totalRent;

      // Update UI
      document.getElementById('buyDownPayment').textContent = 'Â¥' + (downPaymentAmount / 10000).toFixed(1) + 'ä¸‡';
      document.getElementById('buyMonthlyPayment').textContent = 'Â¥' + monthlyPayment.toFixed(0);
      document.getElementById('buyTotalPayment').textContent = 'Â¥' + (totalPayment / 10000).toFixed(1) + 'ä¸‡';
      document.getElementById('buyHouseValue').textContent = 'Â¥' + (futureHouseValue / 10000).toFixed(1) + 'ä¸‡';
      document.getElementById('buyNetWorth').textContent = 'Â¥' + (buyNetWorth / 10000).toFixed(1) + 'ä¸‡';

      document.getElementById('rentTotalRent').textContent = 'Â¥' + (totalRent / 10000).toFixed(1) + 'ä¸‡';
      document.getElementById('rentDownPaymentReturn').textContent = 'Â¥' + (downPaymentReturn / 10000).toFixed(1) + 'ä¸‡';
      document.getElementById('rentMonthlySavings').textContent = 'Â¥' + (monthlySavings / 10000).toFixed(1) + 'ä¸‡';
      document.getElementById('rentTotalReturn').textContent = 'Â¥' + (totalReturn / 10000).toFixed(1) + 'ä¸‡';
      document.getElementById('rentNetWorth').textContent = 'Â¥' + (rentNetWorth / 10000).toFixed(1) + 'ä¸‡';

      // Determine winner
      const buyCard = document.getElementById('buyCard');
      const rentCard = document.getElementById('rentCard');
      buyCard.classList.remove('winner');
      rentCard.classList.remove('winner');

      let analysis = '';
      if (buyNetWorth > rentNetWorth) {
        buyCard.classList.add('winner');
        const advantage = ((buyNetWorth - rentNetWorth) / 10000).toFixed(1);
        analysis = `
          <div class="analysis-item">
            <span class="analysis-icon">ğŸ“ˆ</span>
            <span>ä¹°æˆ¿æ–¹æ¡ˆåœ¨ ${compareYears} å¹´åå‡€èµ„äº§æ›´é«˜ï¼Œæ¯”ç§Ÿæˆ¿å¤š <strong>Â¥${advantage}ä¸‡</strong></span>
          </div>
          <div class="analysis-item">
            <span class="analysis-icon">ğŸ </span>
            <span>æ‹¥æœ‰è‡ªå·±çš„æˆ¿äº§ï¼Œäº«å—æˆ¿ä»·ä¸Šæ¶¨å¸¦æ¥çš„èµ„äº§å¢å€¼</span>
          </div>
          <div class="analysis-item">
            <span class="analysis-icon">âš ï¸</span>
            <span>ä½†éœ€è¦æ‰¿æ‹…è¾ƒå¤§çš„åˆæœŸèµ„é‡‘å‹åŠ›å’ŒæµåŠ¨æ€§é£é™©</span>
          </div>
        `;
      } else {
        rentCard.classList.add('winner');
        const advantage = ((rentNetWorth - buyNetWorth) / 10000).toFixed(1);
        analysis = `
          <div class="analysis-item">
            <span class="analysis-icon">ğŸ’°</span>
            <span>ç§Ÿæˆ¿æ–¹æ¡ˆåœ¨ ${compareYears} å¹´åå‡€èµ„äº§æ›´é«˜ï¼Œæ¯”ä¹°æˆ¿å¤š <strong>Â¥${advantage}ä¸‡</strong></span>
          </div>
          <div class="analysis-item">
            <span class="analysis-icon">ğŸ“Š</span>
            <span>æŠ•èµ„æ”¶ç›Šç‡ï¼ˆ${investmentReturn}%ï¼‰é«˜äºæˆ¿ä»·æ¶¨å¹…ï¼ˆ${houseAppreciation}%ï¼‰ï¼Œèµ„é‡‘çµæ´»æ€§æ›´å¥½</span>
          </div>
          <div class="analysis-item">
            <span class="analysis-icon">âš ï¸</span>
            <span>ä½†éœ€è¦æœ‰è¾ƒå¼ºçš„æŠ•èµ„èƒ½åŠ›å’Œè‡ªå¾‹æ€§ï¼Œç§Ÿæˆ¿ä¹Ÿå­˜åœ¨ä¸ç¨³å®šæ€§</span>
          </div>
        `;
      }

      // Add break-even analysis
      const rentToPrice = (monthlyRent * 12 / housePrice * 100).toFixed(2);
      analysis += `
        <div class="analysis-item">
          <span class="analysis-icon">ğŸ“‰</span>
          <span>å½“å‰ç§Ÿå”®æ¯”ä¸º ${rentToPrice}%ï¼ˆæœˆç§Ÿé‡‘ Ã— 12 Ã· æˆ¿ä»·ï¼‰ï¼Œå›½é™…åˆç†èŒƒå›´ä¸º 4-6%</span>
        </div>
      `;

      document.getElementById('analysisContent').innerHTML = analysis;
    }

    // Initialize
    calculate();

    window.toggleTheme = function() {
      const html = document.documentElement;
      const btn = document.querySelector('.theme-toggle');
      const current = html.getAttribute('data-theme');
      const next = current === 'light' ? 'dark' : 'light';
      html.setAttribute('data-theme', next);
      btn.textContent = next === 'light' ? 'â˜€ï¸' : 'ğŸŒ™';
      localStorage.setItem('theme', next);
    };

    (function() {
      const saved = localStorage.getItem('theme');
      if (saved) {
        document.documentElement.setAttribute('data-theme', saved);
        document.querySelector('.theme-toggle').textContent = saved === 'light' ? 'â˜€ï¸' : 'ğŸŒ™';
      }
    })();
  </script>
</body>
</html>
