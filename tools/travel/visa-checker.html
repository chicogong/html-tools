<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ç­¾è¯æŸ¥è¯¢ - WebUtils</title>
    <!-- SEO Meta Tags -->
    <meta name="description" content="æŸ¥è¯¢ä¸­å›½æŠ¤ç…§å‰å¾€å„å›½çš„ç­¾è¯è¦æ±‚ï¼ŒåŒ…æ‹¬å…ç­¾ã€è½åœ°ç­¾ã€ç”µå­ç­¾è¯ç­‰ä¿¡æ¯" />
    <meta name="keywords" content="visa ç­¾è¯ passport æŠ¤ç…§ å…ç­¾ è½åœ°ç­¾ ç”µå­ç­¾è¯ ä¸­å›½æŠ¤ç…§" />
    <meta name="author" content="WebUtils" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://tools.realtime-ai.chat/tools/travel/visa-checker.html" />

    <!-- Open Graph -->
    <meta property="og:title" content="ç­¾è¯æŸ¥è¯¢ - WebUtils" />
    <meta property="og:description" content="æŸ¥è¯¢ä¸­å›½æŠ¤ç…§å‰å¾€å„å›½çš„ç­¾è¯è¦æ±‚ï¼ŒåŒ…æ‹¬å…ç­¾ã€è½åœ°ç­¾ã€ç”µå­ç­¾è¯ç­‰ä¿¡æ¯" />
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://tools.realtime-ai.chat/tools/travel/visa-checker.html"
    />
    <meta property="og:site_name" content="WebUtils" />
    <meta property="og:locale" content="zh_CN" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="ç­¾è¯æŸ¥è¯¢ - WebUtils" />
    <meta name="twitter:description" content="æŸ¥è¯¢ä¸­å›½æŠ¤ç…§å‰å¾€å„å›½çš„ç­¾è¯è¦æ±‚ï¼ŒåŒ…æ‹¬å…ç­¾ã€è½åœ°ç­¾ã€ç”µå­ç­¾è¯ç­‰ä¿¡æ¯" />
    <!-- OG Image -->
    <meta property="og:image" content="https://tools.realtime-ai.chat/social-preview.png" />
    <meta property="og:image:width" content="1280" />
    <meta property="og:image:height" content="640" />
    <meta property="og:image:type" content="image/png" />
    <meta name="twitter:image" content="https://tools.realtime-ai.chat/social-preview.png" />

    <!-- JSON-LD BreadcrumbList Schema -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "é¦–é¡µ",
            "item": "https://tools.realtime-ai.chat/"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "æ—…è¡Œå·¥å…·",
            "item": "https://tools.realtime-ai.chat/#travel"
          },
          {
            "@type": "ListItem",
            "position": 3,
            "name": "ç­¾è¯æŸ¥è¯¢",
            "item": "https://tools.realtime-ai.chat/tools/travel/visa-checker.html"
          }
        ]
      }
    </script>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --color-bg-deep: #0a0a0f;
        --color-bg-surface: #12121a;
        --color-bg-card: #1a1a24;
        --bg-input: #0e0e14;
        --bg-hover: #22222e;
        --color-text-primary: #e8e8ed;
        --color-text-secondary: #8888a0;
        --color-text-muted: #55556a;
        --border-subtle: #2a2a3a;
        --border-strong: #3a3a4a;
        --color-accent-cyan: #00f5d4;
        --accent-green: #10b981;
        --accent-red: #f43f5e;
        --accent-yellow: #fbbf24;
        --accent-blue: #3b82f6;
        --accent-orange: #f97316;
        --color-accent-purple: #a855f7;
        --glow-cyan: rgba(0, 245, 212, 0.15);
        --glow-green: rgba(16, 185, 129, 0.15);
        --glow-yellow: rgba(251, 191, 36, 0.15);
        --radius-sm: 4px;
        --radius-md: 8px;
        --radius-lg: 12px;
        --font-sans:
          "Space Grotesk", -apple-system, blinkmacsystemfont, "Segoe UI", roboto, sans-serif;
        --font-mono: "JetBrains Mono", "Courier New", monospace;
      }

      [data-theme="light"] {
        --color-bg-deep: #fafafa;
        --color-bg-surface: #fff;
        --color-bg-card: #fff;
        --bg-input: #f5f5f5;
        --bg-hover: #f0f0f0;
        --color-text-primary: #1a1a1a;
        --color-text-secondary: #666;
        --color-text-muted: #999;
        --border-subtle: #e5e5e5;
        --border-strong: #d5d5d5;
      }

      .theme-toggle {
        position: fixed;
        top: 1rem;
        right: 1rem;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        border: 1px solid var(--border-subtle);
        background: var(--color-bg-card);
        cursor: pointer;
        font-size: 1.2rem;
        z-index: 100;
        transition: all 0.2s;
      }

      .theme-toggle:hover {
        transform: scale(1.1);
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family: var(--font-sans);
        background: var(--color-bg-deep);
        color: var(--color-text-primary);
        min-height: 100vh;
        line-height: 1.6;
      }

      .bg-grid {
        position: fixed;
        inset: 0;
        background-image:
          linear-gradient(rgba(0, 245, 212, 0.02) 1px, transparent 1px),
          linear-gradient(90deg, rgba(0, 245, 212, 0.02) 1px, transparent 1px);
        background-size: 40px 40px;
        pointer-events: none;
        z-index: 0;
      }

      .container {
        position: relative;
        z-index: 1;
        max-width: 1200px;
        margin: 0 auto;
        padding: 24px;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }

      .header {
        display: flex;
        align-items: center;
        gap: 20px;
        margin-bottom: 24px;
        flex-wrap: wrap;
      }

      .breadcrumb {
        display: flex;
        align-items: center;
        gap: 8px;
        font-family: var(--font-mono);
        font-size: 0.85rem;
        padding: 8px 14px;
        background: var(--color-bg-surface);
        border: 1px solid var(--border-subtle);
        border-radius: var(--radius-sm);
        flex-wrap: wrap;
      }

      .breadcrumb a {
        color: var(--color-text-secondary);
        text-decoration: none;
        transition: color 0.2s ease;
      }

      .breadcrumb a:hover {
        color: var(--accent-green);
      }

      .breadcrumb-separator {
        color: var(--color-text-muted);
        user-select: none;
      }

      .breadcrumb-current {
        color: var(--color-text-primary);
        font-weight: 500;
      }

      .title-section {
        flex: 1;
      }

      .title-section h1 {
        font-family: var(--font-mono);
        font-size: 1.5rem;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .title-section h1 .icon {
        font-size: 1.8rem;
      }

      .title-section p {
        color: var(--color-text-secondary);
        margin-top: 4px;
        font-size: 0.9rem;
      }

      .main-content {
        background: var(--color-bg-card);
        border: 1px solid var(--border-subtle);
        border-radius: var(--radius-lg);
        padding: 24px;
        flex: 1;
      }

      .tool-section {
        margin-bottom: 24px;
      }

      .section-title {
        font-family: var(--font-mono);
        font-size: 0.9rem;
        font-weight: 600;
        color: var(--color-text-secondary);
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-bottom: 16px;
        padding-bottom: 8px;
        border-bottom: 1px solid var(--border-subtle);
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .input-group {
        margin-bottom: 16px;
      }

      .input-label {
        display: block;
        font-family: var(--font-mono);
        font-size: 0.85rem;
        color: var(--color-text-secondary);
        margin-bottom: 8px;
      }

      select {
        width: 100%;
        padding: 12px 14px;
        font-family: var(--font-mono);
        font-size: 0.9rem;
        background: var(--bg-input);
        border: 1px solid var(--border-subtle);
        border-radius: var(--radius-sm);
        color: var(--color-text-primary);
        transition: border-color 0.2s;
        cursor: pointer;
      }

      select:focus {
        outline: none;
        border-color: var(--accent-green);
      }

      .row {
        display: flex;
        gap: 16px;
        flex-wrap: wrap;
      }

      .row > * {
        flex: 1;
        min-width: 250px;
      }

      .btn-row {
        display: flex;
        gap: 12px;
        flex-wrap: wrap;
        margin-top: 16px;
      }

      .btn {
        flex: 1;
        min-width: 120px;
        padding: 12px 20px;
        font-family: var(--font-mono);
        font-size: 0.85rem;
        font-weight: 500;
        border: none;
        border-radius: var(--radius-sm);
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
      }

      .btn-primary {
        background: var(--accent-green);
        color: var(--color-bg-deep);
      }

      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 20px var(--glow-green);
      }

      .btn-secondary {
        background: var(--color-bg-surface);
        color: var(--color-text-primary);
        border: 1px solid var(--border-subtle);
      }

      .btn-secondary:hover {
        border-color: var(--accent-green);
        color: var(--accent-green);
      }

      /* Popular destinations */
      .popular-destinations {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-top: 12px;
      }

      .dest-btn {
        padding: 8px 16px;
        font-family: var(--font-mono);
        font-size: 0.8rem;
        background: var(--bg-input);
        border: 1px solid var(--border-subtle);
        border-radius: var(--radius-md);
        color: var(--color-text-secondary);
        cursor: pointer;
        transition: all 0.2s;
      }

      .dest-btn:hover {
        border-color: var(--color-accent-cyan);
        color: var(--color-accent-cyan);
        background: rgba(0, 245, 212, 0.1);
      }

      .dest-btn .flag {
        margin-right: 6px;
      }

      /* Result card */
      .result-card {
        background: var(--bg-input);
        border: 2px solid var(--border-subtle);
        border-radius: var(--radius-lg);
        padding: 24px;
        margin-top: 16px;
        display: none;
      }

      .result-card.show {
        display: block;
      }

      .result-header {
        display: flex;
        align-items: center;
        gap: 16px;
        margin-bottom: 20px;
        flex-wrap: wrap;
      }

      .result-route {
        display: flex;
        align-items: center;
        gap: 12px;
        font-size: 1.1rem;
      }

      .result-route .country {
        display: flex;
        align-items: center;
        gap: 8px;
        font-weight: 600;
      }

      .result-route .arrow {
        color: var(--color-text-muted);
        font-size: 1.2rem;
      }

      .visa-badge {
        padding: 8px 16px;
        border-radius: var(--radius-md);
        font-family: var(--font-mono);
        font-size: 0.9rem;
        font-weight: 600;
        display: inline-flex;
        align-items: center;
        gap: 8px;
      }

      .visa-badge.visa-free {
        background: rgba(16, 185, 129, 0.2);
        color: var(--accent-green);
        border: 1px solid var(--accent-green);
      }

      .visa-badge.visa-on-arrival {
        background: rgba(251, 191, 36, 0.2);
        color: var(--accent-yellow);
        border: 1px solid var(--accent-yellow);
      }

      .visa-badge.e-visa {
        background: rgba(59, 130, 246, 0.2);
        color: var(--accent-blue);
        border: 1px solid var(--accent-blue);
      }

      .visa-badge.visa-required {
        background: rgba(244, 63, 94, 0.2);
        color: var(--accent-red);
        border: 1px solid var(--accent-red);
      }

      .result-details {
        margin-top: 16px;
      }

      .detail-item {
        display: flex;
        padding: 12px 0;
        border-bottom: 1px solid var(--border-subtle);
      }

      .detail-item:last-child {
        border-bottom: none;
      }

      .detail-label {
        flex: 0 0 140px;
        font-family: var(--font-mono);
        font-size: 0.85rem;
        color: var(--color-text-muted);
      }

      .detail-value {
        flex: 1;
        font-size: 0.95rem;
        color: var(--color-text-primary);
      }

      .detail-value.highlight {
        color: var(--accent-green);
        font-weight: 500;
      }

      .notes-section {
        margin-top: 20px;
        padding: 16px;
        background: rgba(251, 191, 36, 0.1);
        border: 1px solid rgba(251, 191, 36, 0.3);
        border-radius: var(--radius-md);
      }

      .notes-section h4 {
        font-family: var(--font-mono);
        font-size: 0.85rem;
        color: var(--accent-yellow);
        margin-bottom: 8px;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .notes-section ul {
        margin: 0;
        padding-left: 20px;
        color: var(--color-text-secondary);
        font-size: 0.9rem;
      }

      .notes-section li {
        margin-bottom: 4px;
      }

      /* Disclaimer */
      .disclaimer {
        margin-top: 24px;
        padding: 16px;
        background: rgba(244, 63, 94, 0.1);
        border: 1px solid rgba(244, 63, 94, 0.3);
        border-radius: var(--radius-md);
      }

      .disclaimer h4 {
        font-family: var(--font-mono);
        font-size: 0.85rem;
        color: var(--accent-red);
        margin-bottom: 8px;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .disclaimer p {
        color: var(--color-text-secondary);
        font-size: 0.85rem;
        line-height: 1.5;
      }

      .toast {
        position: fixed;
        bottom: 24px;
        left: 50%;
        transform: translateX(-50%) translateY(100px);
        background: var(--accent-green);
        color: var(--color-bg-deep);
        padding: 12px 24px;
        border-radius: var(--radius-md);
        font-family: var(--font-mono);
        font-size: 0.85rem;
        font-weight: 500;
        opacity: 0;
        transition: all 0.3s ease;
        z-index: 1000;
      }

      .toast.show {
        transform: translateX(-50%) translateY(0);
        opacity: 1;
      }

      .toast.error {
        background: var(--accent-red);
      }

      /* Stats summary */
      .stats-summary {
        display: flex;
        gap: 16px;
        flex-wrap: wrap;
        margin-top: 16px;
        padding: 16px;
        background: var(--bg-input);
        border: 1px solid var(--border-subtle);
        border-radius: var(--radius-md);
      }

      .stat-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 4px;
        padding: 8px 16px;
      }

      .stat-value {
        font-family: var(--font-mono);
        font-size: 1.5rem;
        font-weight: 700;
      }

      .stat-value.green { color: var(--accent-green); }
      .stat-value.yellow { color: var(--accent-yellow); }
      .stat-value.blue { color: var(--accent-blue); }
      .stat-value.red { color: var(--accent-red); }

      .stat-label {
        font-family: var(--font-mono);
        font-size: 0.75rem;
        color: var(--color-text-muted);
        text-transform: uppercase;
      }

      @media (max-width: 600px) {
        .container {
          padding: 16px;
        }

        .row > * {
          min-width: 100%;
        }

        .btn-row {
          flex-direction: column;
        }

        .btn {
          width: 100%;
        }

        .result-header {
          flex-direction: column;
          align-items: flex-start;
        }

        .detail-item {
          flex-direction: column;
          gap: 4px;
        }

        .detail-label {
          flex: none;
        }
      }
    </style>
  </head>
  <body>
    <div class="bg-grid"></div>
    <button class="theme-toggle" onclick="toggleTheme()" title="åˆ‡æ¢ä¸»é¢˜">ğŸŒ“</button>

    <div class="container">
      <header class="header">
        <nav class="breadcrumb" aria-label="Breadcrumb">
          <a href="../../index.html">é¦–é¡µ</a>
          <span class="breadcrumb-separator">/</span>
          <span class="breadcrumb-current">ç­¾è¯æŸ¥è¯¢</span>
        </nav>
        <div class="title-section">
          <h1>
            <span class="icon">ğŸ›‚</span>
            ç­¾è¯æŸ¥è¯¢
          </h1>
          <p>æŸ¥è¯¢ä¸­å›½æŠ¤ç…§å‰å¾€å„å›½çš„ç­¾è¯è¦æ±‚</p>
        </div>
      </header>

      <main class="main-content">
        <!-- Selection Section -->
        <div class="tool-section">
          <div class="section-title">
            <span>ğŸ“‹</span> é€‰æ‹©æŠ¤ç…§å’Œç›®çš„åœ°
          </div>
          <div class="row">
            <div class="input-group">
              <label class="input-label">æŠ¤ç…§ç­¾å‘å›½</label>
              <select id="passportCountry">
                <option value="CN">ğŸ‡¨ğŸ‡³ ä¸­å›½ (China)</option>
                <option value="HK">ğŸ‡­ğŸ‡° ä¸­å›½é¦™æ¸¯ (Hong Kong SAR)</option>
                <option value="MO">ğŸ‡²ğŸ‡´ ä¸­å›½æ¾³é—¨ (Macau SAR)</option>
                <option value="TW">ğŸ‡¹ğŸ‡¼ ä¸­å›½å°æ¹¾ (Taiwan)</option>
              </select>
            </div>
            <div class="input-group">
              <label class="input-label">ç›®çš„åœ°å›½å®¶/åœ°åŒº</label>
              <select id="destinationCountry">
                <option value="">-- è¯·é€‰æ‹©ç›®çš„åœ° --</option>
              </select>
            </div>
          </div>

          <div class="input-group">
            <label class="input-label">çƒ­é—¨ç›®çš„åœ°</label>
            <div class="popular-destinations" id="popularDestinations">
              <!-- Popular destinations will be added by JS -->
            </div>
          </div>

          <div class="btn-row">
            <button class="btn btn-primary" onclick="checkVisa()">ğŸ” æŸ¥è¯¢ç­¾è¯è¦æ±‚</button>
            <button class="btn btn-secondary" onclick="clearSelection()">ğŸ”„ æ¸…ç©º</button>
            <button class="btn btn-secondary" onclick="shareResult()">ğŸ”— åˆ†äº«</button>
          </div>
        </div>

        <!-- Result Section -->
        <div class="tool-section">
          <div class="section-title">
            <span>ğŸ“„</span> ç­¾è¯è¦æ±‚
          </div>
          <div class="result-card" id="resultCard">
            <div class="result-header">
              <div class="result-route">
                <span class="country" id="fromCountry">ğŸ‡¨ğŸ‡³ ä¸­å›½</span>
                <span class="arrow">â†’</span>
                <span class="country" id="toCountry">ğŸ‡¯ğŸ‡µ æ—¥æœ¬</span>
              </div>
              <span class="visa-badge" id="visaBadge">ç­¾è¯è¦æ±‚</span>
            </div>

            <div class="result-details" id="resultDetails">
              <!-- Details will be populated by JS -->
            </div>

            <div class="notes-section" id="notesSection">
              <h4>âš ï¸ æ³¨æ„äº‹é¡¹</h4>
              <ul id="notesList">
                <!-- Notes will be populated by JS -->
              </ul>
            </div>
          </div>

          <div class="disclaimer">
            <h4>âš ï¸ å…è´£å£°æ˜</h4>
            <p>
              æœ¬å·¥å…·æä¾›çš„ç­¾è¯ä¿¡æ¯ä»…ä¾›å‚è€ƒï¼Œå¯èƒ½ä¸æ˜¯æœ€æ–°æ•°æ®ã€‚ç­¾è¯æ”¿ç­–éšæ—¶å¯èƒ½å˜åŒ–ï¼Œ
              å‡ºè¡Œå‰è¯·åŠ¡å¿…é€šè¿‡ä»¥ä¸‹æ¸ é“æ ¸å®æœ€æ–°è¦æ±‚ï¼š
            </p>
            <ul style="margin-top: 8px; padding-left: 20px; color: var(--color-text-secondary); font-size: 0.85rem;">
              <li>ç›®çš„åœ°å›½å®¶/åœ°åŒºçš„å®˜æ–¹å¤§ä½¿é¦†æˆ–é¢†äº‹é¦†ç½‘ç«™</li>
              <li>ä¸­å›½å¤–äº¤éƒ¨é¢†äº‹æœåŠ¡ç½‘ (cs.mfa.gov.cn)</li>
              <li>ä¸“ä¸šç­¾è¯æœåŠ¡æœºæ„</li>
            </ul>
          </div>
        </div>

        <!-- Stats Section -->
        <div class="tool-section">
          <div class="section-title">
            <span>ğŸ“Š</span> ä¸­å›½æŠ¤ç…§å…ç­¾/è½åœ°ç­¾ç»Ÿè®¡
          </div>
          <div class="stats-summary">
            <div class="stat-item">
              <span class="stat-value green" id="statVisaFree">0</span>
              <span class="stat-label">å…ç­¾å›½å®¶</span>
            </div>
            <div class="stat-item">
              <span class="stat-value yellow" id="statVisaOnArrival">0</span>
              <span class="stat-label">è½åœ°ç­¾å›½å®¶</span>
            </div>
            <div class="stat-item">
              <span class="stat-value blue" id="statEVisa">0</span>
              <span class="stat-label">ç”µå­ç­¾å›½å®¶</span>
            </div>
            <div class="stat-item">
              <span class="stat-value red" id="statVisaRequired">0</span>
              <span class="stat-label">éœ€è¦ç­¾è¯</span>
            </div>
          </div>
        </div>
      </main>
    </div>

    <div class="toast" id="toast">æ“ä½œæˆåŠŸ</div>

    <script>
      // Visa requirement types
      var VISA_TYPES = {
        VISA_FREE: "visa-free",
        VISA_ON_ARRIVAL: "visa-on-arrival",
        E_VISA: "e-visa",
        VISA_REQUIRED: "visa-required"
      };

      // Visa data for Chinese passport holders (2024 data - approximate)
      // Format: { type, days, notes }
      var VISA_DATA = {
        CN: {
          // Asia - Visa Free
          JP: { type: VISA_TYPES.VISA_FREE, days: 30, notes: ["2024å¹´11æœˆèµ·å•æ¬¡å…ç­¾30å¤©", "éœ€æŒæœ‰æ•ˆæŠ¤ç…§", "éœ€æœ‰è¿”ç¨‹æœºç¥¨"] },
          KR: { type: VISA_TYPES.VISA_FREE, days: 15, notes: ["2024å¹´11æœˆèµ·è¯•è¡Œå…ç­¾15å¤©", "éœ€æŒæœ‰æ•ˆæŠ¤ç…§", "éœ€æœ‰è¿”ç¨‹æœºç¥¨"] },
          SG: { type: VISA_TYPES.VISA_FREE, days: 30, notes: ["2024å¹´2æœˆèµ·äº’å…ç­¾è¯", "å¯åœç•™30å¤©", "éœ€æœ‰è¿”ç¨‹æœºç¥¨å’Œè¶³å¤Ÿèµ„é‡‘"] },
          TH: { type: VISA_TYPES.VISA_FREE, days: 30, notes: ["2024å¹´3æœˆèµ·æ°¸ä¹…äº’å…ç­¾è¯", "å¯åœç•™30å¤©", "éœ€æœ‰è¿”ç¨‹æœºç¥¨"] },
          MY: { type: VISA_TYPES.VISA_FREE, days: 30, notes: ["2023å¹´12æœˆèµ·äº’å…ç­¾è¯", "å¯åœç•™30å¤©", "éœ€æœ‰è¿”ç¨‹æœºç¥¨å’Œé…’åº—é¢„è®¢"] },
          KZ: { type: VISA_TYPES.VISA_FREE, days: 30, notes: ["2024å¹´11æœˆèµ·äº’å…ç­¾è¯", "å¯åœç•™30å¤©"] },
          AE: { type: VISA_TYPES.VISA_FREE, days: 30, notes: ["å…ç­¾å…¥å¢ƒ", "å¯åœç•™30å¤©", "å¯ç»­ç­¾30å¤©"] },
          QA: { type: VISA_TYPES.VISA_FREE, days: 30, notes: ["å…ç­¾å…¥å¢ƒ", "å¯åœç•™30å¤©"] },
          GE: { type: VISA_TYPES.VISA_FREE, days: 30, notes: ["å…ç­¾å…¥å¢ƒ", "å¯åœç•™30å¤©"] },
          AM: { type: VISA_TYPES.VISA_FREE, days: 90, notes: ["å…ç­¾å…¥å¢ƒ", "180å¤©å†…å¯åœç•™90å¤©"] },
          AZ: { type: VISA_TYPES.VISA_FREE, days: 30, notes: ["å…ç­¾å…¥å¢ƒ", "å¯åœç•™30å¤©"] },
          
          // Asia - Visa on Arrival
          KH: { type: VISA_TYPES.VISA_ON_ARRIVAL, days: 30, fee: 30, notes: ["è½åœ°ç­¾è´¹ç”¨çº¦30ç¾å…ƒ", "éœ€å‡†å¤‡2å¯¸ç…§ç‰‡", "å»ºè®®æå‰ç”³è¯·ç”µå­ç­¾"] },
          LA: { type: VISA_TYPES.VISA_ON_ARRIVAL, days: 30, fee: 20, notes: ["è½åœ°ç­¾è´¹ç”¨çº¦20ç¾å…ƒ", "éœ€å‡†å¤‡2å¯¸ç…§ç‰‡"] },
          NP: { type: VISA_TYPES.VISA_ON_ARRIVAL, days: 30, fee: 30, notes: ["è½åœ°ç­¾è´¹ç”¨çº¦30ç¾å…ƒ", "éœ€å‡†å¤‡ç…§ç‰‡å’Œç¾å…ƒç°é‡‘"] },
          LK: { type: VISA_TYPES.VISA_ON_ARRIVAL, days: 30, fee: 50, notes: ["å»ºè®®æå‰ç”³è¯·ETAç”µå­ç­¾", "è½åœ°ç­¾è´¹ç”¨çº¦50ç¾å…ƒ"] },
          MV: { type: VISA_TYPES.VISA_ON_ARRIVAL, days: 30, fee: 0, notes: ["å…è´¹è½åœ°ç­¾", "éœ€æœ‰é…’åº—é¢„è®¢å’Œè¿”ç¨‹æœºç¥¨"] },
          ID: { type: VISA_TYPES.VISA_ON_ARRIVAL, days: 30, fee: 35, notes: ["è½åœ°ç­¾è´¹ç”¨çº¦35ç¾å…ƒ", "å·´å˜å²›ç­‰ä¸»è¦å£å²¸å¯åŠç†", "å»ºè®®æå‰ç”³è¯·ç”µå­ç­¾"] },
          BD: { type: VISA_TYPES.VISA_ON_ARRIVAL, days: 30, fee: 51, notes: ["è½åœ°ç­¾è´¹ç”¨çº¦51ç¾å…ƒ", "éœ€æœ‰é‚€è¯·å‡½æˆ–é…’åº—é¢„è®¢"] },
          JO: { type: VISA_TYPES.VISA_ON_ARRIVAL, days: 30, fee: 40, notes: ["è½åœ°ç­¾è´¹ç”¨çº¦40çº¦æ—¦ç¬¬çº³å°”"] },
          BH: { type: VISA_TYPES.VISA_ON_ARRIVAL, days: 14, fee: 25, notes: ["è½åœ°ç­¾è´¹ç”¨çº¦25å·´æ—ç¬¬çº³å°”", "å¯å»¶æœŸè‡³1ä¸ªæœˆ"] },
          OM: { type: VISA_TYPES.VISA_ON_ARRIVAL, days: 30, fee: 20, notes: ["è½åœ°ç­¾è´¹ç”¨çº¦20é˜¿æ›¼é‡Œäºšå°”"] },

          // Asia - E-Visa
          VN: { type: VISA_TYPES.E_VISA, days: 30, fee: 25, notes: ["ç”µå­ç­¾è´¹ç”¨çº¦25ç¾å…ƒ", "å¯åœ¨çº¿ç”³è¯·", "å¤„ç†æ—¶é—´çº¦3ä¸ªå·¥ä½œæ—¥"] },
          IN: { type: VISA_TYPES.E_VISA, days: 30, fee: 25, notes: ["ç”µå­ç­¾è´¹ç”¨çº¦25ç¾å…ƒ", "éœ€æå‰ç”³è¯·", "å¯å¤šæ¬¡å…¥å¢ƒ"] },
          MM: { type: VISA_TYPES.E_VISA, days: 28, fee: 50, notes: ["ç”µå­ç­¾è´¹ç”¨çº¦50ç¾å…ƒ", "ä»…é™æ—…æ¸¸ç­¾"] },
          PK: { type: VISA_TYPES.E_VISA, days: 30, fee: 60, notes: ["ç”µå­ç­¾è´¹ç”¨çº¦60ç¾å…ƒ", "å¤„ç†æ—¶é—´çº¦7-10ä¸ªå·¥ä½œæ—¥"] },
          UZ: { type: VISA_TYPES.E_VISA, days: 30, fee: 20, notes: ["ç”µå­ç­¾è´¹ç”¨çº¦20ç¾å…ƒ", "å¯åœ¨çº¿ç”³è¯·"] },
          TJ: { type: VISA_TYPES.E_VISA, days: 45, fee: 50, notes: ["ç”µå­ç­¾è´¹ç”¨çº¦50ç¾å…ƒ"] },
          KG: { type: VISA_TYPES.E_VISA, days: 60, fee: 70, notes: ["ç”µå­ç­¾è´¹ç”¨çº¦70ç¾å…ƒ"] },

          // Asia - Visa Required
          IL: { type: VISA_TYPES.VISA_REQUIRED, days: 90, notes: ["éœ€æå‰ç”³è¯·ç­¾è¯", "æ—…æ¸¸ç­¾å¯åœç•™90å¤©", "éœ€æä¾›è¡Œç¨‹å•å’Œé…’åº—é¢„è®¢"] },
          SA: { type: VISA_TYPES.VISA_REQUIRED, days: 90, notes: ["éœ€ç”³è¯·æ—…æ¸¸ç­¾è¯", "2019å¹´å¼€æ”¾æ—…æ¸¸ç­¾"] },
          KW: { type: VISA_TYPES.VISA_REQUIRED, days: 90, notes: ["éœ€æå‰ç”³è¯·ç­¾è¯"] },
          IR: { type: VISA_TYPES.VISA_REQUIRED, days: 30, notes: ["éœ€æå‰ç”³è¯·ç­¾è¯", "éƒ¨åˆ†æƒ…å†µå¯è½åœ°ç­¾"] },
          IQ: { type: VISA_TYPES.VISA_REQUIRED, days: 30, notes: ["éœ€æå‰ç”³è¯·ç­¾è¯", "å®‰å…¨å½¢åŠ¿éœ€å…³æ³¨"] },
          AF: { type: VISA_TYPES.VISA_REQUIRED, days: 30, notes: ["éœ€æå‰ç”³è¯·ç­¾è¯", "ä¸å»ºè®®å‰å¾€"] },
          SY: { type: VISA_TYPES.VISA_REQUIRED, days: 15, notes: ["éœ€æå‰ç”³è¯·ç­¾è¯", "ä¸å»ºè®®å‰å¾€"] },
          YE: { type: VISA_TYPES.VISA_REQUIRED, days: 30, notes: ["éœ€æå‰ç”³è¯·ç­¾è¯", "ä¸å»ºè®®å‰å¾€"] },
          BT: { type: VISA_TYPES.VISA_REQUIRED, days: 15, notes: ["éœ€é€šè¿‡æˆæƒæ—…è¡Œç¤¾åŠç†", "æ¯æ—¥æœ€ä½æ¶ˆè´¹è¦æ±‚"] },
          TM: { type: VISA_TYPES.VISA_REQUIRED, days: 10, notes: ["éœ€æå‰ç”³è¯·ç­¾è¯", "ç­¾è¯è¾ƒéš¾è·å¾—"] },
          KP: { type: VISA_TYPES.VISA_REQUIRED, days: 30, notes: ["éœ€é€šè¿‡æˆæƒæ—…è¡Œç¤¾åŠç†", "å›¢é˜Ÿæ¸¸ä¸ºä¸»"] },
          PH: { type: VISA_TYPES.VISA_REQUIRED, days: 30, notes: ["éœ€æå‰ç”³è¯·ç­¾è¯", "å¯ç”³è¯·9aæ—…æ¸¸ç­¾è¯"] },
          BN: { type: VISA_TYPES.VISA_REQUIRED, days: 14, notes: ["éœ€æå‰ç”³è¯·ç­¾è¯"] },

          // Europe - Visa Free
          RS: { type: VISA_TYPES.VISA_FREE, days: 30, notes: ["å…ç­¾å…¥å¢ƒ", "å¯åœç•™30å¤©"] },
          BA: { type: VISA_TYPES.VISA_FREE, days: 90, notes: ["å…ç­¾å…¥å¢ƒ", "180å¤©å†…å¯åœç•™90å¤©"] },
          AL: { type: VISA_TYPES.VISA_FREE, days: 90, notes: ["æ—…æ¸¸æ—ºå­£å…ç­¾(4-10æœˆ)", "å…¶ä»–æ—¶é—´éœ€ç­¾è¯"] },
          BY: { type: VISA_TYPES.VISA_FREE, days: 30, notes: ["å…ç­¾å…¥å¢ƒ", "å¯åœç•™30å¤©", "éœ€ä»æ˜æ–¯å…‹æœºåœºå…¥å¢ƒ"] },
          ME: { type: VISA_TYPES.VISA_FREE, days: 30, notes: ["å…ç­¾å…¥å¢ƒ", "å¯åœç•™30å¤©"] },
          MK: { type: VISA_TYPES.VISA_FREE, days: 90, notes: ["æŒæœ‰æ•ˆç”³æ ¹ç­¾è¯å¯å…ç­¾"] },

          // Europe - Visa Required (Schengen)
          DE: { type: VISA_TYPES.VISA_REQUIRED, days: 90, notes: ["éœ€ç”³è¯·ç”³æ ¹ç­¾è¯", "å¯åœ¨ç”³æ ¹åŒºåœç•™90å¤©/180å¤©", "å»ºè®®æå‰2-3ä¸ªæœˆç”³è¯·"] },
          FR: { type: VISA_TYPES.VISA_REQUIRED, days: 90, notes: ["éœ€ç”³è¯·ç”³æ ¹ç­¾è¯", "å¯åœ¨ç”³æ ¹åŒºåœç•™90å¤©/180å¤©", "æ—…æ¸¸ç­¾è¯è¾ƒæ˜“è·å¾—"] },
          IT: { type: VISA_TYPES.VISA_REQUIRED, days: 90, notes: ["éœ€ç”³è¯·ç”³æ ¹ç­¾è¯", "å¯åœ¨ç”³æ ¹åŒºåœç•™90å¤©/180å¤©"] },
          ES: { type: VISA_TYPES.VISA_REQUIRED, days: 90, notes: ["éœ€ç”³è¯·ç”³æ ¹ç­¾è¯", "å¯åœ¨ç”³æ ¹åŒºåœç•™90å¤©/180å¤©"] },
          NL: { type: VISA_TYPES.VISA_REQUIRED, days: 90, notes: ["éœ€ç”³è¯·ç”³æ ¹ç­¾è¯", "å¯åœ¨ç”³æ ¹åŒºåœç•™90å¤©/180å¤©"] },
          BE: { type: VISA_TYPES.VISA_REQUIRED, days: 90, notes: ["éœ€ç”³è¯·ç”³æ ¹ç­¾è¯", "å¯åœ¨ç”³æ ¹åŒºåœç•™90å¤©/180å¤©"] },
          AT: { type: VISA_TYPES.VISA_REQUIRED, days: 90, notes: ["éœ€ç”³è¯·ç”³æ ¹ç­¾è¯", "å¯åœ¨ç”³æ ¹åŒºåœç•™90å¤©/180å¤©"] },
          CH: { type: VISA_TYPES.VISA_REQUIRED, days: 90, notes: ["éœ€ç”³è¯·ç”³æ ¹ç­¾è¯", "å¯åœ¨ç”³æ ¹åŒºåœç•™90å¤©/180å¤©"] },
          PT: { type: VISA_TYPES.VISA_REQUIRED, days: 90, notes: ["éœ€ç”³è¯·ç”³æ ¹ç­¾è¯", "å¯åœ¨ç”³æ ¹åŒºåœç•™90å¤©/180å¤©"] },
          GR: { type: VISA_TYPES.VISA_REQUIRED, days: 90, notes: ["éœ€ç”³è¯·ç”³æ ¹ç­¾è¯", "å¯åœ¨ç”³æ ¹åŒºåœç•™90å¤©/180å¤©"] },
          SE: { type: VISA_TYPES.VISA_REQUIRED, days: 90, notes: ["éœ€ç”³è¯·ç”³æ ¹ç­¾è¯", "å¯åœ¨ç”³æ ¹åŒºåœç•™90å¤©/180å¤©"] },
          NO: { type: VISA_TYPES.VISA_REQUIRED, days: 90, notes: ["éœ€ç”³è¯·ç”³æ ¹ç­¾è¯", "å¯åœ¨ç”³æ ¹åŒºåœç•™90å¤©/180å¤©"] },
          DK: { type: VISA_TYPES.VISA_REQUIRED, days: 90, notes: ["éœ€ç”³è¯·ç”³æ ¹ç­¾è¯", "å¯åœ¨ç”³æ ¹åŒºåœç•™90å¤©/180å¤©"] },
          FI: { type: VISA_TYPES.VISA_REQUIRED, days: 90, notes: ["éœ€ç”³è¯·ç”³æ ¹ç­¾è¯", "å¯åœ¨ç”³æ ¹åŒºåœç•™90å¤©/180å¤©"] },
          PL: { type: VISA_TYPES.VISA_REQUIRED, days: 90, notes: ["éœ€ç”³è¯·ç”³æ ¹ç­¾è¯", "å¯åœ¨ç”³æ ¹åŒºåœç•™90å¤©/180å¤©"] },
          CZ: { type: VISA_TYPES.VISA_REQUIRED, days: 90, notes: ["éœ€ç”³è¯·ç”³æ ¹ç­¾è¯", "å¯åœ¨ç”³æ ¹åŒºåœç•™90å¤©/180å¤©"] },
          HU: { type: VISA_TYPES.VISA_REQUIRED, days: 90, notes: ["éœ€ç”³è¯·ç”³æ ¹ç­¾è¯", "å¯åœ¨ç”³æ ¹åŒºåœç•™90å¤©/180å¤©"] },

          // Europe - Non-Schengen
          GB: { type: VISA_TYPES.VISA_REQUIRED, days: 180, notes: ["éœ€ç”³è¯·è‹±å›½ç­¾è¯", "æ—…æ¸¸ç­¾å¯åœç•™6ä¸ªæœˆ", "å»ºè®®æå‰ç”³è¯·"] },
          IE: { type: VISA_TYPES.VISA_REQUIRED, days: 90, notes: ["éœ€ç”³è¯·çˆ±å°”å…°ç­¾è¯", "ä¸è‹±å›½ç­¾è¯ç‹¬ç«‹"] },
          RU: { type: VISA_TYPES.VISA_FREE, days: 30, notes: ["å›¢é˜Ÿæ—…æ¸¸å…ç­¾", "ä¸ªäººæ—…æ¸¸å¯ç”³è¯·ç”µå­ç­¾", "ä¸–ç•Œæ¯/å¤§å‹æ´»åŠ¨æœŸé—´æœ‰ç‰¹æ®Šæ”¿ç­–"] },
          UA: { type: VISA_TYPES.E_VISA, days: 30, notes: ["å¯ç”³è¯·ç”µå­ç­¾", "æ³¨æ„å®‰å…¨å½¢åŠ¿"] },
          TR: { type: VISA_TYPES.E_VISA, days: 30, fee: 50, notes: ["ç”µå­ç­¾è´¹ç”¨çº¦50ç¾å…ƒ", "å¯åœ¨çº¿ç”³è¯·", "æŒæœ‰æ•ˆç”³æ ¹/è‹±ç¾ç­¾è¯å¯å…ç­¾"] },
          HR: { type: VISA_TYPES.VISA_REQUIRED, days: 90, notes: ["2023å¹´åŠ å…¥ç”³æ ¹åŒº", "éœ€ç”³è¯·ç”³æ ¹ç­¾è¯"] },
          RO: { type: VISA_TYPES.VISA_REQUIRED, days: 90, notes: ["æŒæœ‰æ•ˆç”³æ ¹ç­¾è¯å¯å…¥å¢ƒ"] },
          BG: { type: VISA_TYPES.VISA_REQUIRED, days: 90, notes: ["æŒæœ‰æ•ˆç”³æ ¹ç­¾è¯å¯å…¥å¢ƒ"] },

          // Americas - Visa Free
          EC: { type: VISA_TYPES.VISA_FREE, days: 90, notes: ["å…ç­¾å…¥å¢ƒ", "å¯åœç•™90å¤©"] },
          
          // Americas - Visa Required
          US: { type: VISA_TYPES.VISA_REQUIRED, days: 180, notes: ["éœ€ç”³è¯·B1/B2ç­¾è¯", "é¢ç­¾å¿…é¡»", "å»ºè®®æå‰3ä¸ªæœˆé¢„çº¦"] },
          CA: { type: VISA_TYPES.VISA_REQUIRED, days: 180, notes: ["éœ€ç”³è¯·è®¿å®¢ç­¾è¯", "å¯åœ¨çº¿ç”³è¯·", "æŒæœ‰æ•ˆç¾ç­¾å¯ç®€åŒ–ç”³è¯·"] },
          MX: { type: VISA_TYPES.VISA_FREE, days: 180, notes: ["æŒæœ‰æ•ˆç¾ç­¾å¯å…ç­¾å…¥å¢ƒ", "æˆ–éœ€ç”³è¯·å¢¨è¥¿å“¥ç­¾è¯"] },
          BR: { type: VISA_TYPES.VISA_REQUIRED, days: 90, notes: ["éœ€æå‰ç”³è¯·ç­¾è¯", "å¯ç”³è¯·ç”µå­ç­¾"] },
          AR: { type: VISA_TYPES.VISA_REQUIRED, days: 90, notes: ["éœ€æå‰ç”³è¯·ç­¾è¯", "æŒæœ‰æ•ˆç¾ç­¾å¯ç”³è¯·AVEç”µå­æˆæƒ"] },
          CL: { type: VISA_TYPES.VISA_FREE, days: 90, notes: ["æŒæœ‰æ•ˆç¾ç­¾å¯å…ç­¾", "æˆ–éœ€ç”³è¯·ç­¾è¯"] },
          PE: { type: VISA_TYPES.VISA_FREE, days: 183, notes: ["æŒæœ‰æ•ˆç¾ç­¾/ç”³æ ¹ç­¾å¯å…ç­¾", "æˆ–éœ€ç”³è¯·ç­¾è¯"] },
          CO: { type: VISA_TYPES.VISA_FREE, days: 90, notes: ["æŒæœ‰æ•ˆç¾ç­¾/ç”³æ ¹ç­¾å¯å…ç­¾", "æˆ–éœ€ç”³è¯·ç­¾è¯"] },
          CU: { type: VISA_TYPES.VISA_ON_ARRIVAL, days: 30, fee: 25, notes: ["éœ€è´­ä¹°æ—…æ¸¸å¡", "è´¹ç”¨çº¦25ç¾å…ƒ"] },
          PA: { type: VISA_TYPES.VISA_FREE, days: 180, notes: ["æŒæœ‰æ•ˆç¾ç­¾å¯å…ç­¾å…¥å¢ƒ"] },
          CR: { type: VISA_TYPES.VISA_FREE, days: 30, notes: ["æŒæœ‰æ•ˆç¾ç­¾/ç”³æ ¹ç­¾å¯å…ç­¾"] },

          // Oceania
          AU: { type: VISA_TYPES.VISA_REQUIRED, days: 90, notes: ["éœ€ç”³è¯·è®¿å®¢ç­¾è¯(600ç±»)", "å¯åœ¨çº¿ç”³è¯·", "å¤„ç†æ—¶é—´çº¦20å¤©"] },
          NZ: { type: VISA_TYPES.VISA_REQUIRED, days: 90, notes: ["éœ€ç”³è¯·è®¿å®¢ç­¾è¯", "å¯åœ¨çº¿ç”³è¯·"] },
          FJ: { type: VISA_TYPES.VISA_FREE, days: 120, notes: ["å…ç­¾å…¥å¢ƒ", "å¯åœç•™120å¤©"] },
          WS: { type: VISA_TYPES.VISA_FREE, days: 60, notes: ["å…ç­¾å…¥å¢ƒ", "å¯åœç•™60å¤©"] },
          TO: { type: VISA_TYPES.VISA_FREE, days: 30, notes: ["å…ç­¾å…¥å¢ƒ", "å¯åœç•™30å¤©"] },
          VU: { type: VISA_TYPES.VISA_FREE, days: 30, notes: ["å…ç­¾å…¥å¢ƒ", "å¯åœç•™30å¤©"] },
          PG: { type: VISA_TYPES.VISA_ON_ARRIVAL, days: 60, fee: 100, notes: ["è½åœ°ç­¾è´¹ç”¨çº¦100åŸºé‚£"] },

          // Africa - Visa Free
          MU: { type: VISA_TYPES.VISA_FREE, days: 60, notes: ["å…ç­¾å…¥å¢ƒ", "å¯åœç•™60å¤©"] },
          SC: { type: VISA_TYPES.VISA_FREE, days: 30, notes: ["å…ç­¾å…¥å¢ƒ", "å¯åœç•™30å¤©"] },
          MA: { type: VISA_TYPES.VISA_FREE, days: 90, notes: ["å…ç­¾å…¥å¢ƒ", "å¯åœç•™90å¤©"] },
          TN: { type: VISA_TYPES.VISA_FREE, days: 90, notes: ["å›¢é˜Ÿæ—…æ¸¸å…ç­¾", "éœ€æœ‰è¿”ç¨‹æœºç¥¨å’Œé…’åº—é¢„è®¢"] },
          ZA: { type: VISA_TYPES.VISA_FREE, days: 90, notes: ["å…ç­¾å…¥å¢ƒ", "å¯åœç•™90å¤©"] },
          BW: { type: VISA_TYPES.VISA_FREE, days: 90, notes: ["å…ç­¾å…¥å¢ƒ", "å¯åœç•™90å¤©"] },
          
          // Africa - Visa on Arrival
          EG: { type: VISA_TYPES.VISA_ON_ARRIVAL, days: 30, fee: 25, notes: ["è½åœ°ç­¾è´¹ç”¨çº¦25ç¾å…ƒ", "ä»…é™ç‰¹å®šå£å²¸"] },
          KE: { type: VISA_TYPES.VISA_ON_ARRIVAL, days: 90, fee: 50, notes: ["å»ºè®®ç”³è¯·ç”µå­ç­¾", "è½åœ°ç­¾è´¹ç”¨çº¦50ç¾å…ƒ"] },
          TZ: { type: VISA_TYPES.VISA_ON_ARRIVAL, days: 90, fee: 50, notes: ["è½åœ°ç­¾è´¹ç”¨çº¦50ç¾å…ƒ", "å¯åœ¨çº¿ç”³è¯·ç”µå­ç­¾"] },
          ET: { type: VISA_TYPES.VISA_ON_ARRIVAL, days: 30, fee: 52, notes: ["ä»…é™äºšçš„æ–¯äºšè´å·´æœºåœº", "è´¹ç”¨çº¦52ç¾å…ƒ"] },
          MG: { type: VISA_TYPES.VISA_ON_ARRIVAL, days: 90, fee: 35, notes: ["è½åœ°ç­¾è´¹ç”¨çº¦35ç¾å…ƒ"] },
          RW: { type: VISA_TYPES.VISA_ON_ARRIVAL, days: 30, fee: 30, notes: ["è½åœ°ç­¾è´¹ç”¨çº¦30ç¾å…ƒ"] },
          UG: { type: VISA_TYPES.VISA_ON_ARRIVAL, days: 90, fee: 50, notes: ["å»ºè®®ç”³è¯·ç”µå­ç­¾", "è½åœ°ç­¾è´¹ç”¨çº¦50ç¾å…ƒ"] },
          ZM: { type: VISA_TYPES.VISA_ON_ARRIVAL, days: 90, fee: 50, notes: ["è½åœ°ç­¾è´¹ç”¨çº¦50ç¾å…ƒ"] },
          ZW: { type: VISA_TYPES.VISA_ON_ARRIVAL, days: 30, fee: 30, notes: ["è½åœ°ç­¾è´¹ç”¨çº¦30ç¾å…ƒ", "å¯ç”³è¯·KAZAç­¾è¯"] },

          // Africa - Visa Required
          NG: { type: VISA_TYPES.VISA_REQUIRED, days: 30, notes: ["éœ€æå‰ç”³è¯·ç­¾è¯"] },
          GH: { type: VISA_TYPES.VISA_REQUIRED, days: 30, notes: ["éœ€æå‰ç”³è¯·ç­¾è¯"] },
          SN: { type: VISA_TYPES.VISA_REQUIRED, days: 30, notes: ["éœ€æå‰ç”³è¯·ç­¾è¯"] },
          CI: { type: VISA_TYPES.VISA_REQUIRED, days: 30, notes: ["éœ€æå‰ç”³è¯·ç­¾è¯"] },
          DZ: { type: VISA_TYPES.VISA_REQUIRED, days: 30, notes: ["éœ€æå‰ç”³è¯·ç­¾è¯"] },
          AO: { type: VISA_TYPES.VISA_REQUIRED, days: 30, notes: ["éœ€æå‰ç”³è¯·ç­¾è¯"] },
          NA: { type: VISA_TYPES.VISA_REQUIRED, days: 90, notes: ["éœ€æå‰ç”³è¯·ç­¾è¯"] }
        }
      };

      // Country data with names and flags
      var COUNTRIES = {
        // Asia
        JP: { name: "æ—¥æœ¬", nameEn: "Japan", flag: "ğŸ‡¯ğŸ‡µ", region: "äºšæ´²" },
        KR: { name: "éŸ©å›½", nameEn: "South Korea", flag: "ğŸ‡°ğŸ‡·", region: "äºšæ´²" },
        SG: { name: "æ–°åŠ å¡", nameEn: "Singapore", flag: "ğŸ‡¸ğŸ‡¬", region: "äºšæ´²" },
        TH: { name: "æ³°å›½", nameEn: "Thailand", flag: "ğŸ‡¹ğŸ‡­", region: "äºšæ´²" },
        MY: { name: "é©¬æ¥è¥¿äºš", nameEn: "Malaysia", flag: "ğŸ‡²ğŸ‡¾", region: "äºšæ´²" },
        VN: { name: "è¶Šå—", nameEn: "Vietnam", flag: "ğŸ‡»ğŸ‡³", region: "äºšæ´²" },
        KH: { name: "æŸ¬åŸ”å¯¨", nameEn: "Cambodia", flag: "ğŸ‡°ğŸ‡­", region: "äºšæ´²" },
        LA: { name: "è€æŒ", nameEn: "Laos", flag: "ğŸ‡±ğŸ‡¦", region: "äºšæ´²" },
        MM: { name: "ç¼…ç”¸", nameEn: "Myanmar", flag: "ğŸ‡²ğŸ‡²", region: "äºšæ´²" },
        PH: { name: "è²å¾‹å®¾", nameEn: "Philippines", flag: "ğŸ‡µğŸ‡­", region: "äºšæ´²" },
        ID: { name: "å°åº¦å°¼è¥¿äºš", nameEn: "Indonesia", flag: "ğŸ‡®ğŸ‡©", region: "äºšæ´²" },
        BN: { name: "æ–‡è±", nameEn: "Brunei", flag: "ğŸ‡§ğŸ‡³", region: "äºšæ´²" },
        IN: { name: "å°åº¦", nameEn: "India", flag: "ğŸ‡®ğŸ‡³", region: "äºšæ´²" },
        NP: { name: "å°¼æ³Šå°”", nameEn: "Nepal", flag: "ğŸ‡³ğŸ‡µ", region: "äºšæ´²" },
        LK: { name: "æ–¯é‡Œå…°å¡", nameEn: "Sri Lanka", flag: "ğŸ‡±ğŸ‡°", region: "äºšæ´²" },
        MV: { name: "é©¬å°”ä»£å¤«", nameEn: "Maldives", flag: "ğŸ‡²ğŸ‡»", region: "äºšæ´²" },
        BD: { name: "å­ŸåŠ æ‹‰å›½", nameEn: "Bangladesh", flag: "ğŸ‡§ğŸ‡©", region: "äºšæ´²" },
        PK: { name: "å·´åŸºæ–¯å¦", nameEn: "Pakistan", flag: "ğŸ‡µğŸ‡°", region: "äºšæ´²" },
        AE: { name: "é˜¿è”é…‹", nameEn: "UAE", flag: "ğŸ‡¦ğŸ‡ª", region: "äºšæ´²" },
        QA: { name: "å¡å¡”å°”", nameEn: "Qatar", flag: "ğŸ‡¶ğŸ‡¦", region: "äºšæ´²" },
        SA: { name: "æ²™ç‰¹é˜¿æ‹‰ä¼¯", nameEn: "Saudi Arabia", flag: "ğŸ‡¸ğŸ‡¦", region: "äºšæ´²" },
        KW: { name: "ç§‘å¨ç‰¹", nameEn: "Kuwait", flag: "ğŸ‡°ğŸ‡¼", region: "äºšæ´²" },
        BH: { name: "å·´æ—", nameEn: "Bahrain", flag: "ğŸ‡§ğŸ‡­", region: "äºšæ´²" },
        OM: { name: "é˜¿æ›¼", nameEn: "Oman", flag: "ğŸ‡´ğŸ‡²", region: "äºšæ´²" },
        JO: { name: "çº¦æ—¦", nameEn: "Jordan", flag: "ğŸ‡¯ğŸ‡´", region: "äºšæ´²" },
        IL: { name: "ä»¥è‰²åˆ—", nameEn: "Israel", flag: "ğŸ‡®ğŸ‡±", region: "äºšæ´²" },
        IR: { name: "ä¼Šæœ—", nameEn: "Iran", flag: "ğŸ‡®ğŸ‡·", region: "äºšæ´²" },
        IQ: { name: "ä¼Šæ‹‰å…‹", nameEn: "Iraq", flag: "ğŸ‡®ğŸ‡¶", region: "äºšæ´²" },
        SY: { name: "å™åˆ©äºš", nameEn: "Syria", flag: "ğŸ‡¸ğŸ‡¾", region: "äºšæ´²" },
        YE: { name: "ä¹Ÿé—¨", nameEn: "Yemen", flag: "ğŸ‡¾ğŸ‡ª", region: "äºšæ´²" },
        AF: { name: "é˜¿å¯Œæ±—", nameEn: "Afghanistan", flag: "ğŸ‡¦ğŸ‡«", region: "äºšæ´²" },
        KZ: { name: "å“ˆè¨å…‹æ–¯å¦", nameEn: "Kazakhstan", flag: "ğŸ‡°ğŸ‡¿", region: "äºšæ´²" },
        UZ: { name: "ä¹Œå…¹åˆ«å…‹æ–¯å¦", nameEn: "Uzbekistan", flag: "ğŸ‡ºğŸ‡¿", region: "äºšæ´²" },
        TJ: { name: "å¡”å‰å…‹æ–¯å¦", nameEn: "Tajikistan", flag: "ğŸ‡¹ğŸ‡¯", region: "äºšæ´²" },
        KG: { name: "å‰å°”å‰æ–¯æ–¯å¦", nameEn: "Kyrgyzstan", flag: "ğŸ‡°ğŸ‡¬", region: "äºšæ´²" },
        TM: { name: "åœŸåº“æ›¼æ–¯å¦", nameEn: "Turkmenistan", flag: "ğŸ‡¹ğŸ‡²", region: "äºšæ´²" },
        GE: { name: "æ ¼é²å‰äºš", nameEn: "Georgia", flag: "ğŸ‡¬ğŸ‡ª", region: "äºšæ´²" },
        AM: { name: "äºšç¾å°¼äºš", nameEn: "Armenia", flag: "ğŸ‡¦ğŸ‡²", region: "äºšæ´²" },
        AZ: { name: "é˜¿å¡æ‹œç–†", nameEn: "Azerbaijan", flag: "ğŸ‡¦ğŸ‡¿", region: "äºšæ´²" },
        BT: { name: "ä¸ä¸¹", nameEn: "Bhutan", flag: "ğŸ‡§ğŸ‡¹", region: "äºšæ´²" },
        KP: { name: "æœé²œ", nameEn: "North Korea", flag: "ğŸ‡°ğŸ‡µ", region: "äºšæ´²" },

        // Europe
        GB: { name: "è‹±å›½", nameEn: "United Kingdom", flag: "ğŸ‡¬ğŸ‡§", region: "æ¬§æ´²" },
        FR: { name: "æ³•å›½", nameEn: "France", flag: "ğŸ‡«ğŸ‡·", region: "æ¬§æ´²" },
        DE: { name: "å¾·å›½", nameEn: "Germany", flag: "ğŸ‡©ğŸ‡ª", region: "æ¬§æ´²" },
        IT: { name: "æ„å¤§åˆ©", nameEn: "Italy", flag: "ğŸ‡®ğŸ‡¹", region: "æ¬§æ´²" },
        ES: { name: "è¥¿ç­ç‰™", nameEn: "Spain", flag: "ğŸ‡ªğŸ‡¸", region: "æ¬§æ´²" },
        PT: { name: "è‘¡è„ç‰™", nameEn: "Portugal", flag: "ğŸ‡µğŸ‡¹", region: "æ¬§æ´²" },
        NL: { name: "è·å…°", nameEn: "Netherlands", flag: "ğŸ‡³ğŸ‡±", region: "æ¬§æ´²" },
        BE: { name: "æ¯”åˆ©æ—¶", nameEn: "Belgium", flag: "ğŸ‡§ğŸ‡ª", region: "æ¬§æ´²" },
        AT: { name: "å¥¥åœ°åˆ©", nameEn: "Austria", flag: "ğŸ‡¦ğŸ‡¹", region: "æ¬§æ´²" },
        CH: { name: "ç‘å£«", nameEn: "Switzerland", flag: "ğŸ‡¨ğŸ‡­", region: "æ¬§æ´²" },
        GR: { name: "å¸Œè…Š", nameEn: "Greece", flag: "ğŸ‡¬ğŸ‡·", region: "æ¬§æ´²" },
        SE: { name: "ç‘å…¸", nameEn: "Sweden", flag: "ğŸ‡¸ğŸ‡ª", region: "æ¬§æ´²" },
        NO: { name: "æŒªå¨", nameEn: "Norway", flag: "ğŸ‡³ğŸ‡´", region: "æ¬§æ´²" },
        DK: { name: "ä¸¹éº¦", nameEn: "Denmark", flag: "ğŸ‡©ğŸ‡°", region: "æ¬§æ´²" },
        FI: { name: "èŠ¬å…°", nameEn: "Finland", flag: "ğŸ‡«ğŸ‡®", region: "æ¬§æ´²" },
        PL: { name: "æ³¢å…°", nameEn: "Poland", flag: "ğŸ‡µğŸ‡±", region: "æ¬§æ´²" },
        CZ: { name: "æ·å…‹", nameEn: "Czech Republic", flag: "ğŸ‡¨ğŸ‡¿", region: "æ¬§æ´²" },
        HU: { name: "åŒˆç‰™åˆ©", nameEn: "Hungary", flag: "ğŸ‡­ğŸ‡º", region: "æ¬§æ´²" },
        IE: { name: "çˆ±å°”å…°", nameEn: "Ireland", flag: "ğŸ‡®ğŸ‡ª", region: "æ¬§æ´²" },
        RU: { name: "ä¿„ç½—æ–¯", nameEn: "Russia", flag: "ğŸ‡·ğŸ‡º", region: "æ¬§æ´²" },
        UA: { name: "ä¹Œå…‹å…°", nameEn: "Ukraine", flag: "ğŸ‡ºğŸ‡¦", region: "æ¬§æ´²" },
        TR: { name: "åœŸè€³å…¶", nameEn: "Turkey", flag: "ğŸ‡¹ğŸ‡·", region: "æ¬§æ´²" },
        RS: { name: "å¡å°”ç»´äºš", nameEn: "Serbia", flag: "ğŸ‡·ğŸ‡¸", region: "æ¬§æ´²" },
        HR: { name: "å…‹ç½—åœ°äºš", nameEn: "Croatia", flag: "ğŸ‡­ğŸ‡·", region: "æ¬§æ´²" },
        BA: { name: "æ³¢é»‘", nameEn: "Bosnia", flag: "ğŸ‡§ğŸ‡¦", region: "æ¬§æ´²" },
        ME: { name: "é»‘å±±", nameEn: "Montenegro", flag: "ğŸ‡²ğŸ‡ª", region: "æ¬§æ´²" },
        AL: { name: "é˜¿å°”å·´å°¼äºš", nameEn: "Albania", flag: "ğŸ‡¦ğŸ‡±", region: "æ¬§æ´²" },
        MK: { name: "åŒ—é©¬å…¶é¡¿", nameEn: "North Macedonia", flag: "ğŸ‡²ğŸ‡°", region: "æ¬§æ´²" },
        BY: { name: "ç™½ä¿„ç½—æ–¯", nameEn: "Belarus", flag: "ğŸ‡§ğŸ‡¾", region: "æ¬§æ´²" },
        RO: { name: "ç½—é©¬å°¼äºš", nameEn: "Romania", flag: "ğŸ‡·ğŸ‡´", region: "æ¬§æ´²" },
        BG: { name: "ä¿åŠ åˆ©äºš", nameEn: "Bulgaria", flag: "ğŸ‡§ğŸ‡¬", region: "æ¬§æ´²" },

        // Americas
        US: { name: "ç¾å›½", nameEn: "United States", flag: "ğŸ‡ºğŸ‡¸", region: "ç¾æ´²" },
        CA: { name: "åŠ æ‹¿å¤§", nameEn: "Canada", flag: "ğŸ‡¨ğŸ‡¦", region: "ç¾æ´²" },
        MX: { name: "å¢¨è¥¿å“¥", nameEn: "Mexico", flag: "ğŸ‡²ğŸ‡½", region: "ç¾æ´²" },
        BR: { name: "å·´è¥¿", nameEn: "Brazil", flag: "ğŸ‡§ğŸ‡·", region: "ç¾æ´²" },
        AR: { name: "é˜¿æ ¹å»·", nameEn: "Argentina", flag: "ğŸ‡¦ğŸ‡·", region: "ç¾æ´²" },
        CL: { name: "æ™ºåˆ©", nameEn: "Chile", flag: "ğŸ‡¨ğŸ‡±", region: "ç¾æ´²" },
        PE: { name: "ç§˜é²", nameEn: "Peru", flag: "ğŸ‡µğŸ‡ª", region: "ç¾æ´²" },
        CO: { name: "å“¥ä¼¦æ¯”äºš", nameEn: "Colombia", flag: "ğŸ‡¨ğŸ‡´", region: "ç¾æ´²" },
        EC: { name: "å„ç“œå¤šå°”", nameEn: "Ecuador", flag: "ğŸ‡ªğŸ‡¨", region: "ç¾æ´²" },
        CU: { name: "å¤å·´", nameEn: "Cuba", flag: "ğŸ‡¨ğŸ‡º", region: "ç¾æ´²" },
        PA: { name: "å·´æ‹¿é©¬", nameEn: "Panama", flag: "ğŸ‡µğŸ‡¦", region: "ç¾æ´²" },
        CR: { name: "å“¥æ–¯è¾¾é»åŠ ", nameEn: "Costa Rica", flag: "ğŸ‡¨ğŸ‡·", region: "ç¾æ´²" },

        // Oceania
        AU: { name: "æ¾³å¤§åˆ©äºš", nameEn: "Australia", flag: "ğŸ‡¦ğŸ‡º", region: "å¤§æ´‹æ´²" },
        NZ: { name: "æ–°è¥¿å…°", nameEn: "New Zealand", flag: "ğŸ‡³ğŸ‡¿", region: "å¤§æ´‹æ´²" },
        FJ: { name: "æ–æµ", nameEn: "Fiji", flag: "ğŸ‡«ğŸ‡¯", region: "å¤§æ´‹æ´²" },
        WS: { name: "è¨æ‘©äºš", nameEn: "Samoa", flag: "ğŸ‡¼ğŸ‡¸", region: "å¤§æ´‹æ´²" },
        TO: { name: "æ±¤åŠ ", nameEn: "Tonga", flag: "ğŸ‡¹ğŸ‡´", region: "å¤§æ´‹æ´²" },
        VU: { name: "ç“¦åŠªé˜¿å›¾", nameEn: "Vanuatu", flag: "ğŸ‡»ğŸ‡º", region: "å¤§æ´‹æ´²" },
        PG: { name: "å·´å¸ƒäºšæ–°å‡ å†…äºš", nameEn: "Papua New Guinea", flag: "ğŸ‡µğŸ‡¬", region: "å¤§æ´‹æ´²" },

        // Africa
        EG: { name: "åŸƒåŠ", nameEn: "Egypt", flag: "ğŸ‡ªğŸ‡¬", region: "éæ´²" },
        MA: { name: "æ‘©æ´›å“¥", nameEn: "Morocco", flag: "ğŸ‡²ğŸ‡¦", region: "éæ´²" },
        TN: { name: "çªå°¼æ–¯", nameEn: "Tunisia", flag: "ğŸ‡¹ğŸ‡³", region: "éæ´²" },
        DZ: { name: "é˜¿å°”åŠåˆ©äºš", nameEn: "Algeria", flag: "ğŸ‡©ğŸ‡¿", region: "éæ´²" },
        ZA: { name: "å—é", nameEn: "South Africa", flag: "ğŸ‡¿ğŸ‡¦", region: "éæ´²" },
        KE: { name: "è‚¯å°¼äºš", nameEn: "Kenya", flag: "ğŸ‡°ğŸ‡ª", region: "éæ´²" },
        TZ: { name: "å¦æ¡‘å°¼äºš", nameEn: "Tanzania", flag: "ğŸ‡¹ğŸ‡¿", region: "éæ´²" },
        ET: { name: "åŸƒå¡ä¿„æ¯”äºš", nameEn: "Ethiopia", flag: "ğŸ‡ªğŸ‡¹", region: "éæ´²" },
        NG: { name: "å°¼æ—¥åˆ©äºš", nameEn: "Nigeria", flag: "ğŸ‡³ğŸ‡¬", region: "éæ´²" },
        GH: { name: "åŠ çº³", nameEn: "Ghana", flag: "ğŸ‡¬ğŸ‡­", region: "éæ´²" },
        SN: { name: "å¡å†…åŠ å°”", nameEn: "Senegal", flag: "ğŸ‡¸ğŸ‡³", region: "éæ´²" },
        CI: { name: "ç§‘ç‰¹è¿ªç“¦", nameEn: "Ivory Coast", flag: "ğŸ‡¨ğŸ‡®", region: "éæ´²" },
        MU: { name: "æ¯›é‡Œæ±‚æ–¯", nameEn: "Mauritius", flag: "ğŸ‡²ğŸ‡º", region: "éæ´²" },
        SC: { name: "å¡èˆŒå°”", nameEn: "Seychelles", flag: "ğŸ‡¸ğŸ‡¨", region: "éæ´²" },
        MG: { name: "é©¬è¾¾åŠ æ–¯åŠ ", nameEn: "Madagascar", flag: "ğŸ‡²ğŸ‡¬", region: "éæ´²" },
        RW: { name: "å¢æ—ºè¾¾", nameEn: "Rwanda", flag: "ğŸ‡·ğŸ‡¼", region: "éæ´²" },
        UG: { name: "ä¹Œå¹²è¾¾", nameEn: "Uganda", flag: "ğŸ‡ºğŸ‡¬", region: "éæ´²" },
        ZM: { name: "èµæ¯”äºš", nameEn: "Zambia", flag: "ğŸ‡¿ğŸ‡²", region: "éæ´²" },
        ZW: { name: "æ´¥å·´å¸ƒéŸ¦", nameEn: "Zimbabwe", flag: "ğŸ‡¿ğŸ‡¼", region: "éæ´²" },
        BW: { name: "åšèŒ¨ç“¦çº³", nameEn: "Botswana", flag: "ğŸ‡§ğŸ‡¼", region: "éæ´²" },
        NA: { name: "çº³ç±³æ¯”äºš", nameEn: "Namibia", flag: "ğŸ‡³ğŸ‡¦", region: "éæ´²" },
        AO: { name: "å®‰å“¥æ‹‰", nameEn: "Angola", flag: "ğŸ‡¦ğŸ‡´", region: "éæ´²" }
      };

      // Popular destinations for quick selection
      var POPULAR_DESTINATIONS = ["JP", "KR", "TH", "SG", "MY", "US", "AU", "GB", "FR", "DE", "IT", "MV", "AE", "NZ"];

      // Passport country data
      var PASSPORT_COUNTRIES = {
        CN: { name: "ä¸­å›½", nameEn: "China", flag: "ğŸ‡¨ğŸ‡³" },
        HK: { name: "ä¸­å›½é¦™æ¸¯", nameEn: "Hong Kong SAR", flag: "ğŸ‡­ğŸ‡°" },
        MO: { name: "ä¸­å›½æ¾³é—¨", nameEn: "Macau SAR", flag: "ğŸ‡²ğŸ‡´" },
        TW: { name: "ä¸­å›½å°æ¹¾", nameEn: "Taiwan", flag: "ğŸ‡¹ğŸ‡¼" }
      };

      var LS_KEY = "visa_checker_state_v1";

      // Theme toggle
      function toggleTheme() {
        var body = document.body;
        var isDark = body.getAttribute("data-theme") !== "light";
        body.setAttribute("data-theme", isDark ? "light" : "dark");
        localStorage.setItem("theme", isDark ? "light" : "dark");
      }

      // Load theme
      (function() {
        var saved = localStorage.getItem("theme");
        if (saved === "light") {
          document.body.setAttribute("data-theme", "light");
        }
      })();

      // Toast notification
      function showToast(msg, isError) {
        var toast = document.getElementById("toast");
        toast.textContent = msg;
        toast.className = "toast" + (isError ? " error" : "");
        toast.classList.add("show");
        setTimeout(function() { toast.classList.remove("show"); }, 2000);
      }

      // Initialize destination select
      function initDestinationSelect() {
        var select = document.getElementById("destinationCountry");
        
        // Group countries by region
        var regions = {};
        Object.keys(COUNTRIES).forEach(function(code) {
          var country = COUNTRIES[code];
          if (!regions[country.region]) {
            regions[country.region] = [];
          }
          regions[country.region].push({ code: code, country: country });
        });

        // Sort regions
        var regionOrder = ["äºšæ´²", "æ¬§æ´²", "ç¾æ´²", "å¤§æ´‹æ´²", "éæ´²"];
        
        regionOrder.forEach(function(regionName) {
          if (regions[regionName]) {
            var optgroup = document.createElement("optgroup");
            optgroup.label = regionName;
            
            // Sort countries within region by name
            regions[regionName].sort(function(a, b) {
              return a.country.name.localeCompare(b.country.name, "zh-CN");
            });
            
            regions[regionName].forEach(function(item) {
              var option = document.createElement("option");
              option.value = item.code;
              option.textContent = item.country.flag + " " + item.country.name + " (" + item.country.nameEn + ")";
              optgroup.appendChild(option);
            });
            
            select.appendChild(optgroup);
          }
        });
      }

      // Initialize popular destinations buttons
      function initPopularDestinations() {
        var container = document.getElementById("popularDestinations");
        
        POPULAR_DESTINATIONS.forEach(function(code) {
          var country = COUNTRIES[code];
          if (country) {
            var btn = document.createElement("button");
            btn.className = "dest-btn";
            
            var flagSpan = document.createElement("span");
            flagSpan.className = "flag";
            flagSpan.textContent = country.flag;
            btn.appendChild(flagSpan);
            
            var nameText = document.createTextNode(country.name);
            btn.appendChild(nameText);
            
            btn.onclick = function() {
              document.getElementById("destinationCountry").value = code;
              checkVisa();
            };
            container.appendChild(btn);
          }
        });
      }

      // Get visa type label
      function getVisaTypeLabel(type) {
        switch (type) {
          case VISA_TYPES.VISA_FREE: return "å…ç­¾";
          case VISA_TYPES.VISA_ON_ARRIVAL: return "è½åœ°ç­¾";
          case VISA_TYPES.E_VISA: return "ç”µå­ç­¾è¯";
          case VISA_TYPES.VISA_REQUIRED: return "éœ€è¦ç­¾è¯";
          default: return "æœªçŸ¥";
        }
      }

      // Get visa type icon
      function getVisaTypeIcon(type) {
        switch (type) {
          case VISA_TYPES.VISA_FREE: return "âœ“";
          case VISA_TYPES.VISA_ON_ARRIVAL: return "ğŸ›¬";
          case VISA_TYPES.E_VISA: return "ğŸ’»";
          case VISA_TYPES.VISA_REQUIRED: return "ğŸ“";
          default: return "?";
        }
      }

      // Create detail item element
      function createDetailItem(label, value, isHighlight) {
        var item = document.createElement("div");
        item.className = "detail-item";
        
        var labelEl = document.createElement("span");
        labelEl.className = "detail-label";
        labelEl.textContent = label;
        item.appendChild(labelEl);
        
        var valueEl = document.createElement("span");
        valueEl.className = "detail-value" + (isHighlight ? " highlight" : "");
        valueEl.textContent = value;
        item.appendChild(valueEl);
        
        return item;
      }

      // Check visa requirement
      function checkVisa() {
        var passportCode = document.getElementById("passportCountry").value;
        var destCode = document.getElementById("destinationCountry").value;

        if (!destCode) {
          showToast("è¯·é€‰æ‹©ç›®çš„åœ°å›½å®¶", true);
          return;
        }

        var passport = PASSPORT_COUNTRIES[passportCode];
        var destination = COUNTRIES[destCode];
        var visaData = VISA_DATA[passportCode] && VISA_DATA[passportCode][destCode];

        if (!visaData) {
          // Default to visa required if no data
          visaData = { type: VISA_TYPES.VISA_REQUIRED, days: 30, notes: ["æš‚æ— è¯¦ç»†æ•°æ®", "è¯·æŸ¥é˜…å®˜æ–¹æ¸ é“è·å–æœ€æ–°ä¿¡æ¯"] };
        }

        // Update result card
        document.getElementById("fromCountry").textContent = passport.flag + " " + passport.name;
        document.getElementById("toCountry").textContent = destination.flag + " " + destination.name;

        // Update badge
        var badge = document.getElementById("visaBadge");
        badge.className = "visa-badge " + visaData.type;
        badge.textContent = getVisaTypeIcon(visaData.type) + " " + getVisaTypeLabel(visaData.type);

        // Build details using safe DOM methods
        var detailsContainer = document.getElementById("resultDetails");
        // Clear existing content
        while (detailsContainer.firstChild) {
          detailsContainer.removeChild(detailsContainer.firstChild);
        }
        
        detailsContainer.appendChild(createDetailItem("ç­¾è¯ç±»å‹", getVisaTypeLabel(visaData.type), true));

        if (visaData.days) {
          detailsContainer.appendChild(createDetailItem("åœç•™å¤©æ•°", visaData.days + " å¤©", false));
        }

        if (visaData.fee !== undefined) {
          detailsContainer.appendChild(createDetailItem("ç­¾è¯è´¹ç”¨", "çº¦ " + visaData.fee + " ç¾å…ƒ", false));
        }

        detailsContainer.appendChild(createDetailItem("ç›®çš„åœ°", destination.name + " (" + destination.nameEn + ")", false));
        detailsContainer.appendChild(createDetailItem("æ‰€å±åœ°åŒº", destination.region, false));

        // Update notes
        var notesList = document.getElementById("notesList");
        // Clear existing notes
        while (notesList.firstChild) {
          notesList.removeChild(notesList.firstChild);
        }
        
        if (visaData.notes && visaData.notes.length > 0) {
          visaData.notes.forEach(function(note) {
            var li = document.createElement("li");
            li.textContent = note;
            notesList.appendChild(li);
          });
          document.getElementById("notesSection").style.display = "block";
        } else {
          document.getElementById("notesSection").style.display = "none";
        }

        // Show result card
        document.getElementById("resultCard").classList.add("show");

        // Save state
        saveToStorage();

        showToast("æŸ¥è¯¢å®Œæˆ");
      }

      // Clear selection
      function clearSelection() {
        document.getElementById("passportCountry").value = "CN";
        document.getElementById("destinationCountry").value = "";
        document.getElementById("resultCard").classList.remove("show");
        localStorage.removeItem(LS_KEY);
        history.replaceState(null, "", location.pathname);
        showToast("å·²æ¸…ç©º");
      }

      // Share result
      function shareResult() {
        var passportCode = document.getElementById("passportCountry").value;
        var destCode = document.getElementById("destinationCountry").value;

        if (!destCode) {
          showToast("è¯·å…ˆé€‰æ‹©ç›®çš„åœ°", true);
          return;
        }

        var data = { p: passportCode, d: destCode };
        var encoded = btoa(encodeURIComponent(JSON.stringify(data)));
        history.replaceState(null, "", "#" + encoded);

        navigator.clipboard.writeText(location.href).then(function() {
          showToast("é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿");
        }).catch(function() {
          showToast("è¯·æ‰‹åŠ¨å¤åˆ¶åœ°å€æ é“¾æ¥");
        });
      }

      // Save to storage
      function saveToStorage() {
        var data = {
          passport: document.getElementById("passportCountry").value,
          destination: document.getElementById("destinationCountry").value
        };
        localStorage.setItem(LS_KEY, JSON.stringify(data));
      }

      // Load from storage
      function loadFromStorage() {
        var saved = localStorage.getItem(LS_KEY);
        if (!saved) return false;

        try {
          var data = JSON.parse(saved);
          if (data.passport) {
            document.getElementById("passportCountry").value = data.passport;
          }
          if (data.destination) {
            document.getElementById("destinationCountry").value = data.destination;
            checkVisa();
          }
          return true;
        } catch (e) {
          return false;
        }
      }

      // Load from URL
      function loadFromUrl() {
        var hash = location.hash.slice(1);
        if (!hash) return false;

        try {
          var data = JSON.parse(decodeURIComponent(atob(hash)));
          if (data.p) {
            document.getElementById("passportCountry").value = data.p;
          }
          if (data.d) {
            document.getElementById("destinationCountry").value = data.d;
            checkVisa();
          }
          return true;
        } catch (e) {
          return false;
        }
      }

      // Calculate and display stats
      function calculateStats() {
        var passportCode = "CN";
        var visaData = VISA_DATA[passportCode];
        
        if (!visaData) return;

        var stats = {
          visaFree: 0,
          visaOnArrival: 0,
          eVisa: 0,
          visaRequired: 0
        };

        Object.keys(visaData).forEach(function(destCode) {
          var visa = visaData[destCode];
          switch (visa.type) {
            case VISA_TYPES.VISA_FREE:
              stats.visaFree++;
              break;
            case VISA_TYPES.VISA_ON_ARRIVAL:
              stats.visaOnArrival++;
              break;
            case VISA_TYPES.E_VISA:
              stats.eVisa++;
              break;
            case VISA_TYPES.VISA_REQUIRED:
              stats.visaRequired++;
              break;
          }
        });

        document.getElementById("statVisaFree").textContent = stats.visaFree;
        document.getElementById("statVisaOnArrival").textContent = stats.visaOnArrival;
        document.getElementById("statEVisa").textContent = stats.eVisa;
        document.getElementById("statVisaRequired").textContent = stats.visaRequired;
      }

      // Initialize
      (function init() {
        initDestinationSelect();
        initPopularDestinations();
        calculateStats();

        if (!loadFromUrl()) {
          loadFromStorage();
        }

        // Auto-save on change
        document.getElementById("passportCountry").addEventListener("change", function() {
          calculateStats();
          if (document.getElementById("destinationCountry").value) {
            checkVisa();
          }
        });
      })();
    </script>
  </body>
</html>
