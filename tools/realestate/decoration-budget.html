<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è£…ä¿®é¢„ç®—è®¡ç®—å™¨ - WebUtils</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { --bg: #0a0a0f; --card: #12121a; --border: #2a2a3a; --text: #fff; --text2: #888; --accent: #6366f1; --accent2: #8b5cf6; --green: #10b981; --orange: #f59e0b; --red: #ef4444; }
        @media (prefers-color-scheme: light) {
            :root { --bg: #f5f5f5; --card: #fff; --border: #e0e0e0; --text: #1a1a1a; --text2: #666; }
        }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: var(--bg); color: var(--text); min-height: 100vh; padding: 20px; }
        .container { max-width: 900px; margin: 0 auto; }
        .back-link { display: inline-block; margin-bottom: 16px; color: var(--accent); text-decoration: none; font-size: 0.9rem; }
        .back-link:hover { text-decoration: underline; }
        h1 { text-align: center; margin-bottom: 8px; font-size: 1.8rem; }
        .subtitle { text-align: center; color: var(--text2); margin-bottom: 24px; }
        .card { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 20px; margin-bottom: 16px; }
        .card-title { font-weight: 600; margin-bottom: 16px; display: flex; align-items: center; gap: 8px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; }
        .form-group { margin-bottom: 16px; }
        .form-group label { display: block; margin-bottom: 6px; font-size: 0.9rem; color: var(--text2); }
        input, select { width: 100%; padding: 12px; border: 1px solid var(--border); border-radius: 8px; background: var(--bg); color: var(--text); font-size: 1rem; }
        input:focus, select:focus { outline: none; border-color: var(--accent); }
        .btn { padding: 12px 24px; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem; transition: all 0.2s; }
        .btn-primary { background: linear-gradient(135deg, var(--accent), var(--accent2)); color: white; width: 100%; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4); }
        .level-select { display: flex; gap: 12px; flex-wrap: wrap; }
        .level-btn { padding: 12px 20px; border: 2px solid var(--border); border-radius: 8px; background: var(--bg); color: var(--text); cursor: pointer; transition: all 0.2s; flex: 1; min-width: 100px; text-align: center; }
        .level-btn.active { border-color: var(--accent); background: linear-gradient(135deg, rgba(99,102,241,0.13), rgba(139,92,246,0.13)); }
        .level-btn:hover { border-color: var(--accent); }
        .level-name { font-weight: 600; margin-bottom: 4px; }
        .level-price { font-size: 0.85rem; color: var(--text2); }
        .highlight { background: linear-gradient(135deg, var(--accent), var(--accent2)); border-radius: 12px; padding: 24px; color: white; text-align: center; margin-bottom: 16px; }
        .highlight-label { font-size: 0.9rem; opacity: 0.9; margin-bottom: 8px; }
        .highlight-value { font-size: 2.5rem; font-weight: 700; }
        .budget-item { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid var(--border); }
        .budget-item:last-child { border-bottom: none; }
        .budget-name { display: flex; align-items: center; gap: 8px; }
        .budget-bar { height: 6px; background: var(--border); border-radius: 3px; flex: 1; margin: 0 16px; min-width: 100px; }
        .budget-fill { height: 100%; border-radius: 3px; background: linear-gradient(90deg, var(--accent), var(--accent2)); }
        .budget-value { font-weight: 600; min-width: 80px; text-align: right; }
        .tips { padding: 16px; background: var(--bg); border-radius: 8px; margin-top: 16px; }
        .tips-title { font-weight: 600; margin-bottom: 8px; color: var(--orange); }
        .tips-list { list-style: none; color: var(--text2); font-size: 0.9rem; line-height: 1.8; }
        .hidden { display: none; }
    
        .breadcrumb { position: fixed; top: 10px; left: 10px; z-index: 1000; background: rgba(255,255,255,0.95); padding: 8px 15px; border-radius: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); font-size: 0.85rem; }
        .breadcrumb a { color: #667eea; text-decoration: none; }
        .breadcrumb a:hover { text-decoration: underline; }
        .breadcrumb span { color: #999; margin: 0 5px; }
    </style>
</head>
<body>
    <nav class="breadcrumb"><a href="../../index.html">é¦–é¡µ</a><span>â€º</span><a href="../../index.html#realestate">æˆ¿äº§å·¥å…·</a><span>â€º</span>è£…ä¿®é¢„ç®—è®¡ç®—å™¨</nav>
    <div class="container">
        <a href="../../index.html" class="back-link">â† è¿”å›</a>
        <h1>ğŸ—ï¸ è£…ä¿®é¢„ç®—è®¡ç®—å™¨</h1>
        <p class="subtitle">æ ¹æ®æˆ¿å±‹é¢ç§¯å’Œè£…ä¿®æ¡£æ¬¡ï¼Œæ™ºèƒ½ä¼°ç®—è£…ä¿®é¢„ç®—</p>

        <div class="card">
            <div class="card-title">ğŸ“ æˆ¿å±‹ä¿¡æ¯</div>
            <div class="grid">
                <div class="form-group">
                    <label>å»ºç­‘é¢ç§¯ (å¹³æ–¹ç±³)</label>
                    <input type="number" id="area" value="100" min="1">
                </div>
                <div class="form-group">
                    <label>æˆ¿å±‹ç±»å‹</label>
                    <select id="houseType">
                        <option value="new">æ–°æˆ¿ï¼ˆæ¯›å¯ï¼‰</option>
                        <option value="used">äºŒæ‰‹æˆ¿ç¿»æ–°</option>
                        <option value="partial">å±€éƒ¨æ”¹é€ </option>
                    </select>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-title">ğŸ¨ è£…ä¿®æ¡£æ¬¡</div>
            <div class="level-select" id="levelSelect">
                <div class="level-btn" data-level="simple" onclick="selectLevel('simple')">
                    <div class="level-name">ç®€è£…</div>
                    <div class="level-price">500-800å…ƒ/å¹³æ–¹ç±³</div>
                </div>
                <div class="level-btn active" data-level="medium" onclick="selectLevel('medium')">
                    <div class="level-name">ä¸­æ¡£</div>
                    <div class="level-price">800-1200å…ƒ/å¹³æ–¹ç±³</div>
                </div>
                <div class="level-btn" data-level="high" onclick="selectLevel('high')">
                    <div class="level-name">ç²¾è£…</div>
                    <div class="level-price">1200-2000å…ƒ/å¹³æ–¹ç±³</div>
                </div>
                <div class="level-btn" data-level="luxury" onclick="selectLevel('luxury')">
                    <div class="level-name">è±ªè£…</div>
                    <div class="level-price">2000å…ƒä»¥ä¸Š/å¹³æ–¹ç±³</div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-title">âš™ï¸ è‡ªå®šä¹‰é€‰é¡¹</div>
            <div class="grid">
                <div class="form-group">
                    <label>è®¾è®¡è´¹ç”¨ (å…ƒ/å¹³æ–¹ç±³)</label>
                    <input type="number" id="designFee" value="50" min="0">
                </div>
                <div class="form-group">
                    <label>å®¶å…·å®¶ç”µé¢„ç®— (ä¸‡å…ƒ)</label>
                    <input type="number" id="furnitureBudget" value="5" min="0" step="0.1">
                </div>
                <div class="form-group">
                    <label>é¢„ç•™å¤‡ç”¨é‡‘æ¯”ä¾‹ (%)</label>
                    <input type="number" id="contingency" value="10" min="0" max="50">
                </div>
            </div>
            <button class="btn btn-primary" onclick="calculate()">è®¡ç®—é¢„ç®—</button>
        </div>

        <div id="resultSection" class="hidden">
            <div class="highlight">
                <div class="highlight-label">é¢„ä¼°æ€»é¢„ç®—</div>
                <div class="highlight-value" id="totalBudget"></div>
            </div>

            <div class="card">
                <div class="card-title">ğŸ“Š é¢„ç®—æ˜ç»†</div>
                <div id="budgetList"></div>
            </div>

            <div class="card">
                <div class="card-title">ğŸ“ˆ è´¹ç”¨å æ¯”</div>
                <div id="proportionList"></div>
            </div>

            <div class="tips">
                <div class="tips-title">è£…ä¿®å°è´´å£«</div>
                <ul class="tips-list" id="tipsList"></ul>
            </div>
        </div>
    </div>

    <script>
        var selectedLevel = 'medium';

        var levelPrices = {
            simple: { base: 600, water: 80, electric: 60, wall: 50, floor: 100, ceiling: 40, door: 60, kitchen: 80, bathroom: 80 },
            medium: { base: 1000, water: 120, electric: 100, wall: 80, floor: 180, ceiling: 80, door: 120, kitchen: 150, bathroom: 150 },
            high: { base: 1500, water: 180, electric: 150, wall: 120, floor: 300, ceiling: 150, door: 200, kitchen: 250, bathroom: 250 },
            luxury: { base: 2500, water: 280, electric: 220, wall: 200, floor: 500, ceiling: 250, door: 350, kitchen: 400, bathroom: 400 }
        };

        var houseTypeMultiplier = {
            new: 1,
            used: 1.15,
            partial: 0.6
        };

        function selectLevel(level) {
            selectedLevel = level;
            var buttons = document.querySelectorAll('.level-btn');
            buttons.forEach(function(btn) {
                btn.classList.remove('active');
                if (btn.dataset.level === level) {
                    btn.classList.add('active');
                }
            });
        }

        function formatMoney(num) {
            if (num >= 10000) {
                return (num / 10000).toFixed(2) + 'ä¸‡';
            }
            return num.toFixed(0) + 'å…ƒ';
        }

        function calculate() {
            var area = parseFloat(document.getElementById('area').value) || 100;
            var houseType = document.getElementById('houseType').value;
            var designFee = parseFloat(document.getElementById('designFee').value) || 0;
            var furnitureBudget = parseFloat(document.getElementById('furnitureBudget').value) * 10000 || 0;
            var contingency = parseFloat(document.getElementById('contingency').value) / 100 || 0.1;

            var prices = levelPrices[selectedLevel];
            var multiplier = houseTypeMultiplier[houseType];

            var budgetItems = [
                { name: 'æ°´ç”µæ”¹é€ ', icon: 'ğŸ”Œ', value: prices.water * area * multiplier },
                { name: 'å¢™é¢å·¥ç¨‹', icon: 'ğŸ§±', value: prices.wall * area * multiplier },
                { name: 'åœ°é¢å·¥ç¨‹', icon: 'ğŸªµ', value: prices.floor * area * multiplier },
                { name: 'åŠé¡¶å·¥ç¨‹', icon: 'ğŸ’¡', value: prices.ceiling * area * multiplier },
                { name: 'é—¨çª—å·¥ç¨‹', icon: 'ğŸšª', value: prices.door * area * 0.3 * multiplier },
                { name: 'å¨æˆ¿è£…ä¿®', icon: 'ğŸ³', value: prices.kitchen * area * 0.15 * multiplier },
                { name: 'å«æµ´è£…ä¿®', icon: 'ğŸš¿', value: prices.bathroom * area * 0.1 * multiplier },
                { name: 'è®¾è®¡è´¹ç”¨', icon: 'ğŸ“', value: designFee * area },
                { name: 'å®¶å…·å®¶ç”µ', icon: 'ğŸ›‹ï¸', value: furnitureBudget }
            ];

            var subtotal = budgetItems.reduce(function(sum, item) { return sum + item.value; }, 0);
            var contingencyAmount = subtotal * contingency;
            budgetItems.push({ name: 'å¤‡ç”¨é‡‘', icon: 'ğŸ’°', value: contingencyAmount });

            var total = subtotal + contingencyAmount;

            document.getElementById('resultSection').classList.remove('hidden');
            document.getElementById('totalBudget').textContent = formatMoney(total);

            var budgetList = document.getElementById('budgetList');
            while (budgetList.firstChild) {
                budgetList.removeChild(budgetList.firstChild);
            }
            budgetItems.forEach(function(item) {
                var div = document.createElement('div');
                div.className = 'budget-item';
                
                var nameSpan = document.createElement('span');
                nameSpan.className = 'budget-name';
                nameSpan.textContent = item.icon + ' ' + item.name;
                
                var valueSpan = document.createElement('span');
                valueSpan.className = 'budget-value';
                valueSpan.textContent = formatMoney(item.value);
                
                div.appendChild(nameSpan);
                div.appendChild(valueSpan);
                budgetList.appendChild(div);
            });

            var proportionList = document.getElementById('proportionList');
            while (proportionList.firstChild) {
                proportionList.removeChild(proportionList.firstChild);
            }
            budgetItems.forEach(function(item) {
                var percentage = (item.value / total) * 100;
                var div = document.createElement('div');
                div.className = 'budget-item';
                
                var nameSpan = document.createElement('span');
                nameSpan.className = 'budget-name';
                nameSpan.textContent = item.icon + ' ' + item.name;
                
                var barDiv = document.createElement('div');
                barDiv.className = 'budget-bar';
                var fillDiv = document.createElement('div');
                fillDiv.className = 'budget-fill';
                fillDiv.style.width = percentage + '%';
                barDiv.appendChild(fillDiv);
                
                var valueSpan = document.createElement('span');
                valueSpan.className = 'budget-value';
                valueSpan.textContent = percentage.toFixed(1) + '%';
                
                div.appendChild(nameSpan);
                div.appendChild(barDiv);
                div.appendChild(valueSpan);
                proportionList.appendChild(div);
            });

            var tips = [];
            if (selectedLevel === 'simple') {
                tips = ['ç®€è£…æ³¨é‡å®ç”¨æ€§ï¼Œå»ºè®®é€‰æ‹©æ€§ä»·æ¯”é«˜çš„å›½äº§å“ç‰Œ', 'æ°´ç”µéšè”½å·¥ç¨‹ä¸è¦çœï¼Œå…³ç³»åˆ°å±…ä½å®‰å…¨', 'å¯ä»¥è€ƒè™‘åˆ†é˜¶æ®µè£…ä¿®ï¼ŒåæœŸå†å‡çº§è½¯è£…'];
            } else if (selectedLevel === 'medium') {
                tips = ['ä¸­æ¡£è£…ä¿®æ˜¯æ€§ä»·æ¯”æœ€é«˜çš„é€‰æ‹©', 'å»ºè®®åœ¨ä¸»æä¸Šé€‚å½“æŠ•å…¥ï¼Œå·¥è‰ºå¯é€‰ä¸­ç­‰', 'å¨å«ç©ºé—´å¯ä»¥é€‚å½“å¢åŠ é¢„ç®—ï¼Œæå‡ç”Ÿæ´»å“è´¨'];
            } else if (selectedLevel === 'high') {
                tips = ['ç²¾è£…ä¿®å»ºè®®é€‰æ‹©ä¸“ä¸šè®¾è®¡å¸ˆè¿›è¡Œæ•´ä½“è§„åˆ’', 'å¯ä»¥è€ƒè™‘æ™ºèƒ½å®¶å±…ç³»ç»Ÿçš„é¢„åŸ‹', 'æ³¨é‡ç¯ä¿ææ–™çš„é€‰æ‹©ï¼Œä¿éšœå±…ä½å¥åº·'];
            } else {
                tips = ['è±ªè£…å»ºè®®è˜è¯·çŸ¥åè®¾è®¡å¸ˆå›¢é˜Ÿ', 'å¯ä»¥å®šåˆ¶é«˜ç«¯å®¶å…·å’Œè¿›å£ä¸»æ', 'è€ƒè™‘å¼•å…¥æ™ºèƒ½å®¶å±…å’Œå…¨å±‹å®šåˆ¶ç³»ç»Ÿ'];
            }
            tips.push('å»ºè®®ä¿ç•™10-15%çš„å¤‡ç”¨é‡‘åº”å¯¹çªå‘æƒ…å†µ');

            var tipsList = document.getElementById('tipsList');
            while (tipsList.firstChild) {
                tipsList.removeChild(tipsList.firstChild);
            }
            tips.forEach(function(tip) {
                var li = document.createElement('li');
                li.textContent = 'ğŸ’¡ ' + tip;
                tipsList.appendChild(li);
            });
        }

        calculate();
    </script>
</body>
</html>
