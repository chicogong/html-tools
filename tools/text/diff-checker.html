<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ÊñáÊú¨ÂØπÊØîÂ∑•ÂÖ∑ - WebUtils</title>
    <!-- SEO Meta Tags -->
    <meta name="description" content="ÊñáÊú¨ÂØπÊØîÂ∑•ÂÖ∑ - WebUtils" />
    <meta name="keywords" content="diff-checker,text,tools,webutils" />
    <meta name="author" content="WebUtils" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://tools.realtime-ai.chat/tools/text/diff-checker.html" />

    <!-- Open Graph -->
    <meta property="og:title" content="ÊñáÊú¨ÂØπÊØîÂ∑•ÂÖ∑ - WebUtils" />
    <meta property="og:description" content="ÊñáÊú¨ÂØπÊØîÂ∑•ÂÖ∑ - WebUtils" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://tools.realtime-ai.chat/tools/text/diff-checker.html" />
    <meta property="og:site_name" content="WebUtils" />
    <meta property="og:locale" content="zh_CN" />
    <meta property="og:image" content="https://tools.realtime-ai.chat/social-preview.png" />
    <meta property="og:image:width" content="1280" />
    <meta property="og:image:height" content="640" />
    <meta property="og:image:type" content="image/png" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="ÊñáÊú¨ÂØπÊØîÂ∑•ÂÖ∑ - WebUtils" />
    <meta name="twitter:description" content="ÊñáÊú¨ÂØπÊØîÂ∑•ÂÖ∑ - WebUtils" />
    <meta name="twitter:image" content="https://tools.realtime-ai.chat/social-preview.png" />

    <style>
      :root {
        --bg-deep: #0a0a0f;
        --bg-surface: #12121a;
        --bg-card: #1a1a24;
        --bg-input: #0e0e14;
        --text-primary: #e8e8ed;
        --text-secondary: #8888a0;
        --text-muted: #55556a;
        --border-subtle: #2a2a3a;
        --border-strong: #3a3a4a;
        --accent-cyan: #00f5d4;
        --accent-magenta: #f72585;
        --accent-green: #10b981;
        --accent-red: #f43f5e;
        --accent-yellow: #fbbf24;
        --accent-blue: #4cc9f0;
        --accent-purple: #7b2cbf;
        --radius-sm: 4px;
        --radius-md: 8px;
        --radius-lg: 12px;
        --font-sans: "Space Grotesk", -apple-system, blinkmacsystemfont, "Segoe UI", roboto, sans-serif;
        --font-mono: "JetBrains Mono", "Courier New", monospace;
        --shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
      }

      [data-theme="light"] {
        --bg-deep: #fafafa;
        --bg-surface: #fff;
        --bg-card: #fff;
        --bg-input: #f5f5f5;
        --text-primary: #1a1a1a;
        --text-secondary: #666;
        --text-muted: #999;
        --border-subtle: #e5e5e5;
        --border-strong: #d5d5d5;
        --accent-cyan: #00d4b8;
        --accent-magenta: #e63975;
        --shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      }

      

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      :root {
        --bg-primary: #0a0a0f;
        --bg-secondary: #12121a;
        --bg-tertiary: #1a1a25;
        --color-text-primary: #fff;
        --color-text-secondary: #88a;
        --accent: #6366f1;
        --border: #2a2a3a;
        --success: #22c55e;
        --danger: #ef4444;
        --add-bg: rgba(34, 197, 94, 0.15);
        --del-bg: rgba(239, 68, 68, 0.15);
      }
      [data-theme="light"] {
        --bg-primary: #f8fafc;
        --bg-secondary: #fff;
        --bg-tertiary: #f1f5f9;
        --color-text-primary: #1e293b;
        --color-text-secondary: #64748b;
        --border: #e2e8f0;
        --add-bg: rgba(34, 197, 94, 0.2);
        --del-bg: rgba(239, 68, 68, 0.2);
      }
      body {
        font-family: var(--font-sans);
        background: var(--bg-deep);
        color: var(--color-text-primary);
        min-height: 100vh;
      }
      .header {
        background: linear-gradient(135deg, #14b8a6, #0ea5e9);
        padding: 1.5rem 2rem;
      }
      .header-content {
        max-width: 1400px;
        margin: 0 auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .header h1 {
        font-size: 1.5rem;
      }
      .back-link {
        color: rgba(255, 255, 255, 0.9);
        text-decoration: none;
      }
      .btn {
        padding: 0.5rem 1rem;
        border: none;
        border-radius: 0.5rem;
        cursor: pointer;
        font-size: 0.9rem;
        transition: all 0.2s;
      }
      .btn-ghost {
        background: rgba(255, 255, 255, 0.2);
        color: white;
      }
      .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 1.5rem;
      }
      .input-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
        margin-bottom: 1rem;
      }
      @media (max-width: 768px) {
        .input-grid {
          grid-template-columns: 1fr;
        }
      }
      .input-panel {
        background: var(--bg-secondary);
        border: 1px solid var(--border-subtle);
        border-radius: 0.75rem;
        overflow: hidden;
      }
      .panel-header {
        padding: 0.75rem 1rem;
        background: var(--bg-tertiary);
        border-bottom: 1px solid var(--border-subtle);
        font-size: 0.9rem;
        color: var(--color-text-secondary);
      }
      textarea {
        width: 100%;
        height: 200px;
        padding: 1rem;
        border: none;
        background: transparent;
        color: var(--color-text-primary);
        font-family: "Fira Code", monospace;
        font-size: 0.9rem;
        line-height: 1.6;
        resize: vertical;
        outline: none;
      }
      .btn-compare {
        width: 100%;
        padding: 0.75rem;
        background: var(--accent-cyan);
        color: white;
        border: none;
        border-radius: 0.5rem;
        font-size: 1rem;
        cursor: pointer;
        transition: all 0.2s;
      }
      .btn-compare:hover {
        opacity: 0.9;
      }
      .stats {
        display: flex;
        gap: 1rem;
        margin: 1rem 0;
        flex-wrap: wrap;
      }
      .stat {
        padding: 0.5rem 1rem;
        background: var(--bg-secondary);
        border: 1px solid var(--border-subtle);
        border-radius: 0.5rem;
        font-size: 0.85rem;
      }
      .stat.add {
        border-color: var(--accent-green);
        color: var(--accent-green);
      }
      .stat.del {
        border-color: var(--accent-red);
        color: var(--accent-red);
      }
      .diff-output {
        background: var(--bg-secondary);
        border: 1px solid var(--border-subtle);
        border-radius: 0.75rem;
        overflow: hidden;
      }
      .diff-header {
        padding: 0.75rem 1rem;
        background: var(--bg-tertiary);
        border-bottom: 1px solid var(--border-subtle);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .diff-content {
        padding: 0;
        max-height: 500px;
        overflow: auto;
      }
      .diff-line {
        display: flex;
        font-family: "Fira Code", monospace;
        font-size: 0.85rem;
        line-height: 1.6;
      }
      .diff-line:hover {
        background: var(--bg-tertiary);
      }
      .line-num {
        min-width: 50px;
        padding: 0 0.5rem;
        color: var(--color-text-secondary);
        text-align: right;
        background: var(--bg-tertiary);
        border-right: 1px solid var(--border-subtle);
        user-select: none;
      }
      .line-content {
        flex: 1;
        padding: 0 1rem;
        white-space: pre-wrap;
        word-break: break-all;
      }
      .diff-line.add {
        background: var(--add-bg);
      }
      .diff-line.add .line-content::before {
        content: "+ ";
        color: var(--accent-green);
      }
      .diff-line.del {
        background: var(--del-bg);
      }
      .diff-line.del .line-content::before {
        content: "- ";
        color: var(--accent-red);
      }
      .diff-line.unchanged .line-content::before {
        content: "  ";
      }
      .view-toggle {
        display: flex;
        gap: 0.25rem;
      }
      .view-btn {
        padding: 0.25rem 0.75rem;
        background: var(--bg-deep);
        border: 1px solid var(--border-subtle);
        border-radius: 0.25rem;
        color: var(--color-text-secondary);
        cursor: pointer;
        font-size: 0.8rem;
      }
      .view-btn.active {
        background: var(--accent-cyan);
        border-color: var(--accent-cyan);
        color: white;
      }

      .breadcrumb {
        background: rgba(255, 255, 255, 0.95);
        padding: 8px 15px;
        border-radius: 20px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        font-size: 0.85rem;
      }
      .breadcrumb a {
        color: #667eea;
        text-decoration: none;
      }
      .breadcrumb a:hover {
        text-decoration: underline;
      }
      .breadcrumb span {
        color: #999;
        margin: 0 5px;
      }
    </style>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <nav class="breadcrumb">
      <a href="../../index.html">È¶ñÈ°µ</a>
      <span>‚Ä∫</span>
      ÊñáÊú¨ÂØπÊØîÂ∑•ÂÖ∑
    </nav>
    <div class="header">
      <div class="header-content">
        <div style="display: flex; align-items: center; gap: 1rem">
          <a href="../../index.html" class="back-link">‚Üê ËøîÂõû</a>
          <h1>üìä ÊñáÊú¨ÂØπÊØîÂ∑•ÂÖ∑</h1>
        </div>
        <button class="btn btn-ghost" onclick="toggleTheme()">üåì ‰∏ªÈ¢ò</button>
      </div>
    </div>
    <div class="container">
      <div class="input-grid">
        <div class="input-panel">
          <div class="panel-header">ÂéüÂßãÊñáÊú¨</div>
          <textarea id="text1" placeholder="ËæìÂÖ•ÂéüÂßãÊñáÊú¨...">
Hello World
This is a test
Line three
Line four</textarea
          >
        </div>
        <div class="input-panel">
          <div class="panel-header">ÂØπÊØîÊñáÊú¨</div>
          <textarea id="text2" placeholder="ËæìÂÖ•ÂØπÊØîÊñáÊú¨...">
Hello World!
This is a test
Line three modified
Line five</textarea
          >
        </div>
      </div>

      <button class="btn-compare" onclick="compare()">üîç ÂØπÊØîÊñáÊú¨</button>

      <div class="stats" id="stats" style="display: none"></div>

      <div class="diff-output" id="diffOutput" style="display: none">
        <div class="diff-header">
          <span>ÂØπÊØîÁªìÊûú</span>
          <div class="view-toggle">
            <button class="view-btn active" onclick="setView('unified')">Áªü‰∏ÄËßÜÂõæ</button>
            <button class="view-btn" onclick="setView('split')">ÂàÜÊ†èËßÜÂõæ</button>
          </div>
        </div>
        <div class="diff-content" id="diffContent"></div>
      </div>
    </div>
    <script>
      let currentView = "unified";
      let lastDiff = null;

      window.lcs = function (a, b) {
        const m = a.length,
          n = b.length;
        const dp = Array(m + 1)
          .fill(null)
          .map(() => Array(n + 1).fill(0));

        for (let i = 1; i <= m; i++) {
          for (let j = 1; j <= n; j++) {
            if (a[i - 1] === b[j - 1]) {
              dp[i][j] = dp[i - 1][j - 1] + 1;
            } else {
              dp[i][j] = Math.max(dp[i - 1][j], dp[i][j - 1]);
            }
          }
        }

        const result = [];
        let i = m,
          j = n;
        while (i > 0 && j > 0) {
          if (a[i - 1] === b[j - 1]) {
            result.unshift({ type: "unchanged", text: a[i - 1], lineA: i, lineB: j });
            i--;
            j--;
          } else if (dp[i - 1][j] > dp[i][j - 1]) {
            result.unshift({ type: "del", text: a[i - 1], lineA: i });
            i--;
          } else {
            result.unshift({ type: "add", text: b[j - 1], lineB: j });
            j--;
          }
        }
        while (i > 0) {
          result.unshift({ type: "del", text: a[i - 1], lineA: i });
          i--;
        }
        while (j > 0) {
          result.unshift({ type: "add", text: b[j - 1], lineB: j });
          j--;
        }

        return result;
      };

      window.compare = function () {
        const text1 = document.getElementById("text1").value;
        const text2 = document.getElementById("text2").value;

        const lines1 = text1.split("\n");
        const lines2 = text2.split("\n");

        lastDiff = lcs(lines1, lines2);

        const adds = lastDiff.filter((d) => d.type === "add").length;
        const dels = lastDiff.filter((d) => d.type === "del").length;
        const unchanged = lastDiff.filter((d) => d.type === "unchanged").length;

        document.getElementById("stats").style.display = "flex";
        document.getElementById("stats").innerHTML = `
                <div class="stat add">+ ${adds} Ë°åÊ∑ªÂä†</div>
                <div class="stat del">- ${dels} Ë°åÂà†Èô§</div>
                <div class="stat">${unchanged} Ë°åÊú™Âèò</div>
                <div class="stat">ÂÖ± ${lines1.length} ‚Üí ${lines2.length} Ë°å</div>
            `;

        document.getElementById("diffOutput").style.display = "block";
        renderDiff();
      };

      function renderDiff() {
        if (!lastDiff) return;

        const content = document.getElementById("diffContent");

        if (currentView === "unified") {
          let lineNum = 0;
          content.innerHTML = lastDiff
            .map((d) => {
              if (d.type !== "del") lineNum++;
              const num = d.type === "del" ? d.lineA : d.type === "add" ? d.lineB : d.lineA;
              return `<div class="diff-line ${d.type}">
                        <span class="line-num">${num}</span>
                        <span class="line-content">${escapeHtml(d.text)}</span>
                    </div>`;
            })
            .join("");
        } else {
          // Split view - simplified
          let html = '<div style="display: grid; grid-template-columns: 1fr 1fr;">';
          html +=
            "<div>" +
            lastDiff
              .filter((d) => d.type !== "add")
              .map(
                (d) =>
                  `<div class="diff-line ${d.type === "del" ? "del" : ""}">
                        <span class="line-num">${d.lineA || ""}</span>
                        <span class="line-content">${escapeHtml(d.text)}</span>
                    </div>`
              )
              .join("") +
            "</div>";
          html +=
            "<div>" +
            lastDiff
              .filter((d) => d.type !== "del")
              .map(
                (d) =>
                  `<div class="diff-line ${d.type === "add" ? "add" : ""}">
                        <span class="line-num">${d.lineB || ""}</span>
                        <span class="line-content">${escapeHtml(d.text)}</span>
                    </div>`
              )
              .join("") +
            "</div>";
          html += "</div>";
          content.innerHTML = html;
        }
      }

      window.setView = function (view) {
        currentView = view;
        document.querySelectorAll(".view-btn").forEach((btn) => btn.classList.remove("active"));
        document
          .querySelector(`.view-btn:nth-child(${view === "unified" ? 1 : 2})`)
          .classList.add("active");
        renderDiff();
      };

      window.escapeHtml = function (text) {
        const div = document.createElement("div");
        div.textContent = text;
        return div.innerHTML;
      };

      window.toggleTheme = function () {
        const t = document.body.getAttribute("data-theme") === "light" ? "dark" : "light";
        document.body.setAttribute("data-theme", t);
        localStorage.setItem("theme", t);
      };

      document.body.setAttribute("data-theme", localStorage.getItem("theme") || "dark");
    </script>
  </body>
</html>
