<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>æ–°æ‹Ÿæ€ç”Ÿæˆå™¨ - WebUtils</title>
  <meta name="description" content="Neumorphism CSS æ•ˆæœç”Ÿæˆå™¨" />
  <meta name="keywords" content="neumorphism æ–°æ‹Ÿæ€ è½¯UI CSS ç”Ÿæˆå™¨" />
  <style>
    :root { --bg: #e0e5ec; --card-bg: #e0e5ec; --text: #212529; --text-muted: #6c757d; --border: #d1d9e6; --primary: #0d6efd; --success: #198754; --shadow: 0 2px 8px rgb(0,0,0,0.08); --radius: 8px; }
    [data-theme="dark"] { --bg: #2d3436; --card-bg: #2d3436; --text: #e8e8ed; --text-muted: #9898a4; --border: #3d4446; --primary: #a855f7; --success: #10b981; --shadow: 0 2px 8px rgb(0,0,0,0.3); }
    * { box-sizing: border-box; }
    body { font-family: system-ui, sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 24px; min-height: 100vh; }
    .container { max-width: 900px; margin: 0 auto; }
    .back-link { display: inline-block; margin-bottom: 16px; color: var(--primary); text-decoration: none; }
    h1 { font-size: 1.75rem; margin: 0 0 8px; }
    .desc { color: var(--text-muted); margin: 0 0 24px; }
    .card { background: var(--card-bg); border-radius: 20px; padding: 20px; margin-bottom: 20px; }
    .theme-toggle { position: fixed; top: 1rem; right: 1rem; width: 40px; height: 40px; border-radius: 50%; border: 1px solid var(--border); background: var(--card-bg); cursor: pointer; font-size: 1.2rem; z-index: 100; }
    .preview-area { min-height: 300px; display: flex; align-items: center; justify-content: center; border-radius: 20px; margin-bottom: 20px; }
    .neu-element { width: 200px; height: 200px; border-radius: 50px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; font-weight: 600; transition: all 0.3s; }
    .shape-btns { display: flex; gap: 12px; justify-content: center; margin-bottom: 20px; }
    .shape-btn { padding: 10px 20px; border: none; border-radius: 12px; cursor: pointer; font-weight: 500; background: var(--bg); }
    .shape-btn.active { color: var(--primary); }
    .controls { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; }
    .control-group { display: flex; flex-direction: column; gap: 8px; }
    .control-group label { font-weight: 500; font-size: 0.9rem; }
    .control-group input[type="range"] { width: 100%; }
    .control-group input[type="color"] { width: 60px; height: 36px; padding: 2px; cursor: pointer; border: 1px solid var(--border); border-radius: var(--radius); }
    .value { font-family: ui-monospace, monospace; color: var(--text-muted); font-size: 0.85rem; }
    .output { margin-top: 20px; }
    .output textarea { width: 100%; height: 150px; padding: 12px; font-family: ui-monospace, monospace; font-size: 0.85rem; border: none; border-radius: 12px; resize: vertical; background: var(--bg); color: var(--text); }
    .btn { padding: 10px 20px; border: none; border-radius: 12px; background: var(--bg); color: var(--text); cursor: pointer; }
    .btn:hover { color: var(--primary); }
    footer { text-align: center; margin-top: 32px; padding-top: 16px; border-top: 1px solid var(--border); color: var(--text-muted); font-size: 0.85rem; }
    footer a { color: var(--primary); text-decoration: none; }
  </style>
</head>
<body>
  <div class="container">
    <a href="../../index.html" class="back-link">â† è¿”å›å·¥å…·åˆ—è¡¨</a>
    <button class="theme-toggle" onclick="toggleTheme()">â˜€ï¸</button>
    <h1>æ–°æ‹Ÿæ€ç”Ÿæˆå™¨</h1>
    <p class="desc">ç”Ÿæˆ Neumorphism è½¯UIæ•ˆæœ CSS</p>

    <div class="card">
      <div class="shape-btns">
        <button class="shape-btn active" onclick="setShape('flat')" id="btnFlat">å¹³é¢</button>
        <button class="shape-btn" onclick="setShape('concave')" id="btnConcave">å‡¹é¢</button>
        <button class="shape-btn" onclick="setShape('convex')" id="btnConvex">å‡¸é¢</button>
        <button class="shape-btn" onclick="setShape('pressed')" id="btnPressed">æŒ‰ä¸‹</button>
      </div>

      <div class="preview-area" id="previewArea">
        <div class="neu-element" id="neuElement">Neu</div>
      </div>

      <div class="controls">
        <div class="control-group">
          <label>èƒŒæ™¯é¢œè‰²</label>
          <input type="color" id="bgColor" value="#e0e5ec" oninput="updateNeu()" />
        </div>
        <div class="control-group">
          <label>æ¨¡ç³Šç¨‹åº¦: <span class="value" id="blurVal">30px</span></label>
          <input type="range" id="blur" min="0" max="100" value="30" oninput="updateNeu()" />
        </div>
        <div class="control-group">
          <label>è·ç¦»: <span class="value" id="distanceVal">10px</span></label>
          <input type="range" id="distance" min="0" max="50" value="10" oninput="updateNeu()" />
        </div>
        <div class="control-group">
          <label>å¼ºåº¦: <span class="value" id="intensityVal">0.15</span></label>
          <input type="range" id="intensity" min="0" max="50" value="15" oninput="updateNeu()" />
        </div>
        <div class="control-group">
          <label>åœ†è§’: <span class="value" id="radiusVal">50px</span></label>
          <input type="range" id="radius" min="0" max="100" value="50" oninput="updateNeu()" />
        </div>
      </div>

      <div class="output">
        <textarea id="output" readonly></textarea>
        <button class="btn" onclick="copyCSS()" style="margin-top: 12px;">å¤åˆ¶ CSS</button>
      </div>
    </div>

    <footer>çº¯å‰ç«¯å·¥å…· Â· æ— æœåŠ¡å™¨ Â· <a href="../../index.html">WebUtils</a></footer>
  </div>

  <script>
    let currentShape = 'flat';

    function hexToRgb(hex) {
      const r = parseInt(hex.slice(1, 3), 16);
      const g = parseInt(hex.slice(3, 5), 16);
      const b = parseInt(hex.slice(5, 7), 16);
      return { r, g, b };
    }

    function adjustBrightness(hex, percent) {
      const rgb = hexToRgb(hex);
      const adjust = (val) => Math.min(255, Math.max(0, Math.round(val + (255 * percent))));
      return `rgb(${adjust(rgb.r)}, ${adjust(rgb.g)}, ${adjust(rgb.b)})`;
    }

    function setShape(shape) {
      currentShape = shape;
      document.querySelectorAll('.shape-btn').forEach(btn => btn.classList.remove('active'));
      document.getElementById('btn' + shape.charAt(0).toUpperCase() + shape.slice(1)).classList.add('active');
      updateNeu();
    }

    function updateNeu() {
      const bgColor = document.getElementById('bgColor').value;
      const blur = document.getElementById('blur').value;
      const distance = document.getElementById('distance').value;
      const intensity = document.getElementById('intensity').value / 100;
      const radius = document.getElementById('radius').value;

      document.getElementById('blurVal').textContent = blur + 'px';
      document.getElementById('distanceVal').textContent = distance + 'px';
      document.getElementById('intensityVal').textContent = intensity.toFixed(2);
      document.getElementById('radiusVal').textContent = radius + 'px';

      const lightShadow = adjustBrightness(bgColor, intensity);
      const darkShadow = adjustBrightness(bgColor, -intensity);

      const neuElement = document.getElementById('neuElement');
      const previewArea = document.getElementById('previewArea');

      previewArea.style.background = bgColor;
      neuElement.style.background = bgColor;
      neuElement.style.borderRadius = radius + 'px';

      let boxShadow, gradient = '';

      switch(currentShape) {
        case 'flat':
          boxShadow = `${distance}px ${distance}px ${blur}px ${darkShadow}, -${distance}px -${distance}px ${blur}px ${lightShadow}`;
          break;
        case 'concave':
          boxShadow = `${distance}px ${distance}px ${blur}px ${darkShadow}, -${distance}px -${distance}px ${blur}px ${lightShadow}`;
          gradient = `linear-gradient(145deg, ${darkShadow}, ${lightShadow})`;
          break;
        case 'convex':
          boxShadow = `${distance}px ${distance}px ${blur}px ${darkShadow}, -${distance}px -${distance}px ${blur}px ${lightShadow}`;
          gradient = `linear-gradient(145deg, ${lightShadow}, ${darkShadow})`;
          break;
        case 'pressed':
          boxShadow = `inset ${distance}px ${distance}px ${blur}px ${darkShadow}, inset -${distance}px -${distance}px ${blur}px ${lightShadow}`;
          break;
      }

      neuElement.style.boxShadow = boxShadow;
      neuElement.style.background = gradient || bgColor;

      let css = `background: ${gradient || bgColor};\nborder-radius: ${radius}px;\nbox-shadow: ${boxShadow};`;
      document.getElementById('output').value = css;
    }

    function copyCSS() {
      navigator.clipboard.writeText(document.getElementById('output').value);
    }

    updateNeu();

    function toggleTheme() {
      const html = document.documentElement;
      const next = html.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
      html.setAttribute('data-theme', next);
      document.querySelector('.theme-toggle').textContent = next === 'dark' ? 'ğŸŒ™' : 'â˜€ï¸';
      localStorage.setItem('theme', next);

      if (next === 'dark') {
        document.getElementById('bgColor').value = '#2d3436';
      } else {
        document.getElementById('bgColor').value = '#e0e5ec';
      }
      updateNeu();
    }
    (function() {
      const saved = localStorage.getItem('theme');
      if (saved) {
        document.documentElement.setAttribute('data-theme', saved);
        document.querySelector('.theme-toggle').textContent = saved === 'dark' ? 'ğŸŒ™' : 'â˜€ï¸';
      }
    })();
  </script>
</body>
</html>
