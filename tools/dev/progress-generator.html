<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¿›åº¦æ¡ç”Ÿæˆå™¨</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">
    <style>
        body {
            min-height: 100vh;
        }
        
        .container {
            max-width: 900px;
            padding: 1rem 2rem;
        }
        
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        header h1 {
            margin: 0;
        }
        
        .theme-toggle {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.5rem;
            padding: 0.5rem;
        }
        
        .tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }
        
        .tab {
            padding: 0.5rem 1rem;
            border: 1px solid var(--pico-muted-border-color);
            border-radius: var(--pico-border-radius);
            background: var(--pico-card-background-color);
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .tab:hover {
            background: var(--pico-primary-background);
        }
        
        .tab.active {
            background: var(--pico-primary);
            color: var(--pico-primary-inverse);
            border-color: var(--pico-primary);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .control-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        
        .control-group input,
        .control-group select {
            margin: 0;
        }
        
        .slider-group {
            margin-bottom: 1rem;
        }
        
        .slider-group label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }
        
        .preview-section {
            background: var(--pico-card-background-color);
            border-radius: var(--pico-border-radius);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .preview-section h3 {
            margin: 0 0 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .preview-output {
            background: var(--pico-code-background-color);
            border-radius: var(--pico-border-radius);
            padding: 1rem;
            font-family: monospace;
            white-space: pre;
            overflow-x: auto;
            text-align: center;
            min-height: 60px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        
        .style-options {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-bottom: 1rem;
        }
        
        .style-btn {
            padding: 0.5rem 1rem;
            font-family: monospace;
        }
        
        .style-btn.active {
            background: var(--pico-primary);
            color: var(--pico-primary-inverse);
        }
        
        .preset-gallery {
            margin-top: 1.5rem;
        }
        
        .preset-gallery h3 {
            margin-bottom: 1rem;
        }
        
        .preset-list {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }
        
        .preset-item {
            background: var(--pico-card-background-color);
            border-radius: var(--pico-border-radius);
            padding: 1rem;
            font-family: monospace;
            cursor: pointer;
            border: 1px solid var(--pico-muted-border-color);
            transition: all 0.2s;
            text-align: center;
        }
        
        .preset-item:hover {
            border-color: var(--pico-primary);
            background: var(--pico-primary-background);
        }
        
        .css-preview {
            margin-top: 1rem;
        }
        
        .css-progress-demo {
            height: 24px;
            background: var(--pico-muted-border-color);
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 1rem;
        }
        
        .css-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4ade80, #22c55e);
            border-radius: 12px;
            transition: width 0.3s ease;
        }
        
        .css-code {
            background: var(--pico-code-background-color);
            border-radius: var(--pico-border-radius);
            padding: 1rem;
            font-family: monospace;
            font-size: 0.85rem;
            white-space: pre-wrap;
            overflow-x: auto;
        }
        
        .toast {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--pico-primary);
            color: var(--pico-primary-inverse);
            padding: 0.75rem 1.5rem;
            border-radius: var(--pico-border-radius);
            opacity: 0;
            transition: transform 0.3s, opacity 0.3s;
            z-index: 1000;
        }
        
        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }
        
        .emoji-section {
            margin-top: 1rem;
        }
        
        .emoji-options {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        
        .emoji-btn {
            padding: 0.5rem;
            font-size: 1.2rem;
            min-width: 50px;
        }
        
        .emoji-btn.active {
            background: var(--pico-primary);
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="../../index.html" style="display:inline-block;margin-bottom:1rem;color:var(--pico-primary);text-decoration:none;">â† è¿”å›é¦–é¡µ</a>
        <header>
            <h1>ğŸ“Š è¿›åº¦æ¡ç”Ÿæˆå™¨</h1>
            <button class="theme-toggle" onclick="toggleTheme()" title="åˆ‡æ¢ä¸»é¢˜">ğŸŒ“</button>
        </header>
        
        <div class="tabs">
            <button class="tab active" onclick="switchTab('ascii')">ASCII è¿›åº¦æ¡</button>
            <button class="tab" onclick="switchTab('emoji')">Emoji è¿›åº¦æ¡</button>
            <button class="tab" onclick="switchTab('css')">CSS è¿›åº¦æ¡</button>
        </div>
        
        <!-- ASCII Tab -->
        <div class="tab-content active" id="tab-ascii">
            <div class="slider-group">
                <label>
                    <span>è¿›åº¦å€¼</span>
                    <span id="progressValue">50%</span>
                </label>
                <input type="range" id="asciiProgress" min="0" max="100" value="50" oninput="updateAsciiProgress()">
            </div>
            
            <div class="controls">
                <div class="control-group">
                    <label>é•¿åº¦</label>
                    <input type="number" id="asciiLength" value="30" min="10" max="60" onchange="generateAsciiProgress()">
                </div>
                <div class="control-group">
                    <label>æ˜¾ç¤ºç™¾åˆ†æ¯”</label>
                    <select id="showPercent" onchange="generateAsciiProgress()">
                        <option value="right">å³ä¾§</option>
                        <option value="inside">å†…éƒ¨</option>
                        <option value="left">å·¦ä¾§</option>
                        <option value="none">ä¸æ˜¾ç¤º</option>
                    </select>
                </div>
            </div>
            
            <h3>æ ·å¼é€‰æ‹©</h3>
            <div class="style-options" id="asciiStyles"></div>
            
            <div class="preview-section">
                <h3>
                    <span>é¢„è§ˆ</span>
                    <button onclick="copyAsciiProgress()">å¤åˆ¶</button>
                </h3>
                <div class="preview-output" id="asciiPreview"></div>
            </div>
            
            <div class="preset-gallery">
                <h3>ğŸ“‹ é¢„è®¾æ¨¡æ¿</h3>
                <div class="preset-list" id="asciiPresets"></div>
            </div>
        </div>
        
        <!-- Emoji Tab -->
        <div class="tab-content" id="tab-emoji">
            <div class="slider-group">
                <label>
                    <span>è¿›åº¦å€¼</span>
                    <span id="emojiProgressValue">50%</span>
                </label>
                <input type="range" id="emojiProgress" min="0" max="100" value="50" oninput="updateEmojiProgress()">
            </div>
            
            <div class="controls">
                <div class="control-group">
                    <label>é•¿åº¦</label>
                    <input type="number" id="emojiLength" value="10" min="5" max="20" onchange="generateEmojiProgress()">
                </div>
            </div>
            
            <div class="emoji-section">
                <label>å·²å®Œæˆ</label>
                <div class="emoji-options" id="filledEmojiOptions"></div>
            </div>
            
            <div class="emoji-section">
                <label>æœªå®Œæˆ</label>
                <div class="emoji-options" id="emptyEmojiOptions"></div>
            </div>
            
            <div class="preview-section">
                <h3>
                    <span>é¢„è§ˆ</span>
                    <button onclick="copyEmojiProgress()">å¤åˆ¶</button>
                </h3>
                <div class="preview-output" id="emojiPreview"></div>
            </div>
            
            <div class="preset-gallery">
                <h3>ğŸ“‹ é¢„è®¾æ¨¡æ¿</h3>
                <div class="preset-list" id="emojiPresets"></div>
            </div>
        </div>
        
        <!-- CSS Tab -->
        <div class="tab-content" id="tab-css">
            <div class="slider-group">
                <label>
                    <span>è¿›åº¦å€¼</span>
                    <span id="cssProgressValue">50%</span>
                </label>
                <input type="range" id="cssProgress" min="0" max="100" value="50" oninput="updateCssProgress()">
            </div>
            
            <div class="controls">
                <div class="control-group">
                    <label>é«˜åº¦ (px)</label>
                    <input type="number" id="cssHeight" value="24" min="8" max="50" onchange="generateCssProgress()">
                </div>
                <div class="control-group">
                    <label>åœ†è§’ (px)</label>
                    <input type="number" id="cssBorderRadius" value="12" min="0" max="25" onchange="generateCssProgress()">
                </div>
                <div class="control-group">
                    <label>èƒŒæ™¯è‰²</label>
                    <input type="color" id="cssBgColor" value="#e5e7eb" onchange="generateCssProgress()">
                </div>
                <div class="control-group">
                    <label>å¡«å……è‰²</label>
                    <input type="color" id="cssFillColor" value="#22c55e" onchange="generateCssProgress()">
                </div>
            </div>
            
            <div class="preview-section">
                <h3>
                    <span>é¢„è§ˆ</span>
                    <button onclick="copyCssProgress()">å¤åˆ¶ä»£ç </button>
                </h3>
                <div class="css-preview">
                    <div class="css-progress-demo">
                        <div class="css-progress-fill" id="cssProgressFill" style="width: 50%;"></div>
                    </div>
                </div>
                <div class="css-code" id="cssCode"></div>
            </div>
        </div>
        
        <div class="toast" id="toast"></div>
    </div>
    
    <script>
        // ASCII Styles
        const asciiStyles = {
            simple: { name: 'ç®€å•', filled: 'â–ˆ', empty: 'â–‘', left: '[', right: ']' },
            block: { name: 'æ–¹å—', filled: 'â– ', empty: 'â–¡', left: '', right: '' },
            hash: { name: 'äº•å·', filled: '#', empty: '-', left: '[', right: ']' },
            dots: { name: 'åœ†ç‚¹', filled: 'â—', empty: 'â—‹', left: '', right: '' },
            arrow: { name: 'ç®­å¤´', filled: '>', empty: '-', left: '[', right: ']' },
            equal: { name: 'ç­‰å·', filled: '=', empty: ' ', left: '[', right: ']' },
            pipe: { name: 'ç®¡é“', filled: '|', empty: ' ', left: '[', right: ']' },
            star: { name: 'æ˜Ÿå·', filled: 'â˜…', empty: 'â˜†', left: '', right: '' },
        };
        
        // Emoji options
        const filledEmojis = ['ğŸŸ©', 'ğŸŸ¦', 'ğŸŸ¥', 'ğŸŸ¨', 'ğŸŸª', 'ğŸŸ§', 'â¬›', 'ğŸ”µ', 'ğŸŸ¢', 'â¤ï¸', 'â­', 'ğŸ”¥', 'âœ…', 'ğŸ’š', 'ğŸ’™'];
        const emptyEmojis = ['â¬œ', 'â¬›', 'ğŸ”²', 'ğŸ”³', 'â—½', 'â—¾', 'â–«ï¸', 'â–ªï¸', 'âšª', 'âš«', 'ğŸ’”', 'â˜†', 'âŒ', 'ğŸ¤', 'ğŸ–¤'];
        
        let currentAsciiStyle = 'simple';
        let currentFilledEmoji = 'ğŸŸ©';
        let currentEmptyEmoji = 'â¬œ';
        
        function init() {
            renderAsciiStyles();
            renderEmojiOptions();
            renderAsciiPresets();
            renderEmojiPresets();
            generateAsciiProgress();
            generateEmojiProgress();
            generateCssProgress();
            
            const savedTheme = localStorage.getItem('progress-generator-theme');
            if (savedTheme) {
                document.documentElement.setAttribute('data-theme', savedTheme);
            } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.documentElement.setAttribute('data-theme', 'dark');
            }
        }
        
        window.switchTab = function(tabId) {
            document.querySelectorAll('.tab').forEach(function(tab, index) {
                const tabs = ['ascii', 'emoji', 'css'];
                tab.classList.toggle('active', tabs[index] === tabId);
            });
            
            document.querySelectorAll('.tab-content').forEach(function(content) {
                content.classList.toggle('active', content.id === 'tab-' + tabId);
            });
        };
        
        function renderAsciiStyles() {
            const container = document.getElementById('asciiStyles');
            while (container.firstChild) {
                container.removeChild(container.firstChild);
            }
            
            Object.keys(asciiStyles).forEach(function(styleId) {
                const style = asciiStyles[styleId];
                const btn = document.createElement('button');
                btn.className = 'style-btn' + (styleId === currentAsciiStyle ? ' active' : '');
                btn.textContent = style.name + ' ' + style.left + style.filled.repeat(3) + style.empty.repeat(2) + style.right;
                btn.onclick = function() {
                    currentAsciiStyle = styleId;
                    renderAsciiStyles();
                    generateAsciiProgress();
                };
                container.appendChild(btn);
            });
        }
        
        function renderEmojiOptions() {
            const filledContainer = document.getElementById('filledEmojiOptions');
            const emptyContainer = document.getElementById('emptyEmojiOptions');
            
            while (filledContainer.firstChild) filledContainer.removeChild(filledContainer.firstChild);
            while (emptyContainer.firstChild) emptyContainer.removeChild(emptyContainer.firstChild);
            
            filledEmojis.forEach(function(emoji) {
                const btn = document.createElement('button');
                btn.className = 'emoji-btn' + (emoji === currentFilledEmoji ? ' active' : '');
                btn.textContent = emoji;
                btn.onclick = function() {
                    currentFilledEmoji = emoji;
                    renderEmojiOptions();
                    generateEmojiProgress();
                };
                filledContainer.appendChild(btn);
            });
            
            emptyEmojis.forEach(function(emoji) {
                const btn = document.createElement('button');
                btn.className = 'emoji-btn' + (emoji === currentEmptyEmoji ? ' active' : '');
                btn.textContent = emoji;
                btn.onclick = function() {
                    currentEmptyEmoji = emoji;
                    renderEmojiOptions();
                    generateEmojiProgress();
                };
                emptyContainer.appendChild(btn);
            });
        }
        
        function renderAsciiPresets() {
            const container = document.getElementById('asciiPresets');
            while (container.firstChild) {
                container.removeChild(container.firstChild);
            }
            
            const presets = [
                '[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 67%',
                '[##########----------] 50%',
                'â—â—â—â—â—â—â—â—â—‹â—‹â—‹â—‹ 66%',
                '[==========          ] 50%',
                'â˜…â˜…â˜…â˜…â˜…â˜†â˜†â˜†â˜†â˜† 50%',
                '[>>>>>>>>>>>>--------] 60%',
                'â– â– â– â– â– â– â–¡â–¡â–¡â–¡ 60%',
                '|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ          | 45%',
            ];
            
            presets.forEach(function(preset) {
                const item = document.createElement('div');
                item.className = 'preset-item';
                item.textContent = preset;
                item.title = 'ç‚¹å‡»å¤åˆ¶';
                item.onclick = function() { copyText(preset); };
                container.appendChild(item);
            });
        }
        
        function renderEmojiPresets() {
            const container = document.getElementById('emojiPresets');
            while (container.firstChild) {
                container.removeChild(container.firstChild);
            }
            
            const presets = [
                'ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©â¬œâ¬œâ¬œ 70%',
                'ğŸŸ¦ğŸŸ¦ğŸŸ¦ğŸŸ¦ğŸŸ¦â¬œâ¬œâ¬œâ¬œâ¬œ 50%',
                'ğŸŸ¥ğŸŸ¥ğŸŸ¥ğŸŸ¥ğŸŸ¥ğŸŸ¥â¬œâ¬œâ¬œâ¬œ 60%',
                'â­â­â­â­â­â˜†â˜†â˜†â˜†â˜† 50%',
                'â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸ğŸ¤ğŸ¤ğŸ¤ğŸ¤ğŸ¤ 50%',
                'ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥â¬›â¬›â¬›â¬› 60%',
                'âœ…âœ…âœ…âœ…âœ…âœ…âœ…âŒâŒâŒ 70%',
                'ğŸ’šğŸ’šğŸ’šğŸ’šğŸ’šğŸ’šğŸ’šğŸ¤ğŸ¤ğŸ¤ 70%',
            ];
            
            presets.forEach(function(preset) {
                const item = document.createElement('div');
                item.className = 'preset-item';
                item.textContent = preset;
                item.title = 'ç‚¹å‡»å¤åˆ¶';
                item.onclick = function() { copyText(preset); };
                container.appendChild(item);
            });
        }
        
        window.updateAsciiProgress = function() {
            const value = document.getElementById('asciiProgress').value;
            document.getElementById('progressValue').textContent = value + '%';
            generateAsciiProgress();
        };
        
        function generateAsciiProgress() {
            const progress = parseInt(document.getElementById('asciiProgress').value);
            const length = parseInt(document.getElementById('asciiLength').value) || 30;
            const showPercent = document.getElementById('showPercent').value;
            const style = asciiStyles[currentAsciiStyle];
            
            const filledLength = Math.round(progress / 100 * length);
            const emptyLength = length - filledLength;
            
            const bar = style.filled.repeat(filledLength) + style.empty.repeat(emptyLength);
            const percentText = progress + '%';
            
            let result;
            switch (showPercent) {
                case 'right':
                    result = style.left + bar + style.right + ' ' + percentText;
                    break;
                case 'left':
                    result = percentText + ' ' + style.left + bar + style.right;
                    break;
                case 'inside':
                    const pos = Math.floor(length / 2) - 2;
                    const barWithPercent = bar.slice(0, pos) + ' ' + percentText + ' ' + bar.slice(pos + percentText.length + 2);
                    result = style.left + barWithPercent + style.right;
                    break;
                default:
                    result = style.left + bar + style.right;
            }
            
            document.getElementById('asciiPreview').textContent = result;
        }
        
        window.updateEmojiProgress = function() {
            const value = document.getElementById('emojiProgress').value;
            document.getElementById('emojiProgressValue').textContent = value + '%';
            generateEmojiProgress();
        };
        
        function generateEmojiProgress() {
            const progress = parseInt(document.getElementById('emojiProgress').value);
            const length = parseInt(document.getElementById('emojiLength').value) || 10;
            
            const filledLength = Math.round(progress / 100 * length);
            const emptyLength = length - filledLength;
            
            const bar = currentFilledEmoji.repeat(filledLength) + currentEmptyEmoji.repeat(emptyLength);
            const result = bar + ' ' + progress + '%';
            
            document.getElementById('emojiPreview').textContent = result;
        }
        
        window.updateCssProgress = function() {
            const value = document.getElementById('cssProgress').value;
            document.getElementById('cssProgressValue').textContent = value + '%';
            generateCssProgress();
        };
        
        function generateCssProgress() {
            const progress = parseInt(document.getElementById('cssProgress').value);
            const height = parseInt(document.getElementById('cssHeight').value) || 24;
            const borderRadius = parseInt(document.getElementById('cssBorderRadius').value) || 12;
            const bgColor = document.getElementById('cssBgColor').value;
            const fillColor = document.getElementById('cssFillColor').value;
            
            // Update demo
            const fill = document.getElementById('cssProgressFill');
            fill.style.width = progress + '%';
            fill.style.background = fillColor;
            
            const demo = document.querySelector('.css-progress-demo');
            demo.style.height = height + 'px';
            demo.style.borderRadius = borderRadius + 'px';
            demo.style.background = bgColor;
            
            fill.style.borderRadius = borderRadius + 'px';
            
            // Generate code
            const code = `<!-- HTML -->
<div class="progress-bar">
  <div class="progress-fill" style="width: ${progress}%;"></div>
</div>

/* CSS */
.progress-bar {
  width: 100%;
  height: ${height}px;
  background: ${bgColor};
  border-radius: ${borderRadius}px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: ${fillColor};
  border-radius: ${borderRadius}px;
  transition: width 0.3s ease;
}`;
            
            document.getElementById('cssCode').textContent = code;
        }
        
        window.copyAsciiProgress = function() {
            const text = document.getElementById('asciiPreview').textContent;
            copyText(text);
        };
        
        window.copyEmojiProgress = function() {
            const text = document.getElementById('emojiPreview').textContent;
            copyText(text);
        };
        
        window.copyCssProgress = function() {
            const text = document.getElementById('cssCode').textContent;
            copyText(text);
        };
        
        window.copyText = function(text) {
            navigator.clipboard.writeText(text).then(function() {
                showToast('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
            });
        };
        
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(function() {
                toast.classList.remove('show');
            }, 2000);
        }
        
        window.toggleTheme = function() {
            const html = document.documentElement;
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            html.setAttribute('data-theme', newTheme);
            localStorage.setItem('progress-generator-theme', newTheme);
        };
        
        init();
    </script>
</body>
</html>
