<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>åŠ ç­è´¹è®¡ç®—å™¨ - WebUtils</title>
    <meta name="description" content="è®¡ç®—åŠ ç­è´¹ï¼Œæ”¯æŒå¤šç§åŠ ç­å€ç‡ï¼Œå‘¨æœ«/èŠ‚å‡æ—¥è´¹ç‡ï¼Œè‡ªåŠ¨è®¡ç®—æ­£å¸¸å·¥èµ„å’ŒåŠ ç­å·¥èµ„" />
    <meta name="keywords" content="overtime åŠ ç­ å·¥èµ„ è®¡ç®—å™¨ è–ªèµ„ å‘¨æœ«åŠ ç­ èŠ‚å‡æ—¥" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --color-bg-deep: #0a0a0f;
        --color-bg-surface: #1a1a22;
        --color-bg-subtle: #242430;
        --color-bg-input: #0e0e14;
        --color-text-primary: #f5f5f7;
        --color-text-secondary: #a1a1aa;
        --color-text-muted: #71717a;
        --color-border-default: rgba(255, 255, 255, 0.08);
        --color-border-subtle: rgba(255, 255, 255, 0.04);
        --color-border-strong: rgba(255, 255, 255, 0.12);
        --color-accent-primary: #00d4aa;
        --color-accent-secondary: #8b5cf6;
        --color-accent-tertiary: #3b82f6;
        --color-accent-orange: #f59e0b;
        --color-success: #22c55e;
        --color-warning: #f59e0b;
        --color-error: #ef4444;
        --glass-bg: rgba(26, 26, 34, 0.72);
        --glass-border: rgba(255, 255, 255, 0.08);
        --glass-blur: 24px;
        --glass-saturate: 180%;
        --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.4);
        --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.4);
        --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.5);
        --shadow-glow: 0 0 20px rgba(0, 212, 170, 0.15);
        --space-1: 4px;
        --space-2: 8px;
        --space-3: 12px;
        --space-4: 16px;
        --space-5: 20px;
        --space-6: 24px;
        --space-8: 32px;
        --radius-sm: 6px;
        --radius-md: 10px;
        --radius-lg: 16px;
        --radius-full: 9999px;
        --font-sans: "Inter", -apple-system, blinkmacsystemfont, "Segoe UI", sans-serif;
        --font-mono: "JetBrains Mono", "SF Mono", "Fira Code", monospace;
        --transition-fast: 150ms ease;
        --transition-normal: 250ms ease;
        --nav-height: 56px;
        --container-max: 640px;
        --safe-area-top: env(safe-area-inset-top, 0px);
        --safe-area-bottom: env(safe-area-inset-bottom, 0px);
      }
      [data-theme="light"] {
        --color-bg-deep: #f8fafc;
        --color-bg-surface: #fff;
        --color-bg-subtle: #f1f5f9;
        --color-bg-input: #f8fafc;
        --color-text-primary: #0f172a;
        --color-text-secondary: #475569;
        --color-text-muted: #94a3b8;
        --color-border-default: rgba(0, 0, 0, 0.08);
        --color-border-subtle: rgba(0, 0, 0, 0.04);
        --color-border-strong: rgba(0, 0, 0, 0.12);
        --color-accent-primary: #00b894;
        --glass-bg: rgba(255, 255, 255, 0.78);
        --glass-border: rgba(0, 0, 0, 0.06);
        --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.06);
        --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.08);
        --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.12);
        --shadow-glow: 0 0 20px rgba(0, 184, 148, 0.12);
      }
      *,
      *::before,
      *::after {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      html {
        font-size: 16px;
        -webkit-font-smoothing: antialiased;
      }
      body {
        font-family: var(--font-sans);
        background: var(--color-bg-deep);
        color: var(--color-text-primary);
        min-height: 100vh;
        min-height: 100dvh;
        line-height: 1.5;
      }
      body::before {
        content: "";
        position: fixed;
        inset: 0;
        pointer-events: none;
        z-index: 0;
        background: radial-gradient(circle at 20% 20%, rgba(0, 212, 170, 0.03) 0%, transparent 50%),
          radial-gradient(circle at 80% 80%, rgba(139, 92, 246, 0.03) 0%, transparent 50%);
      }
      .nav-bar {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1000;
        height: calc(var(--nav-height) + var(--safe-area-top));
        padding-top: var(--safe-area-top);
        background: var(--glass-bg);
        backdrop-filter: saturate(var(--glass-saturate)) blur(var(--glass-blur));
        -webkit-backdrop-filter: saturate(var(--glass-saturate)) blur(var(--glass-blur));
        border-bottom: 1px solid var(--glass-border);
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .nav-content {
        width: 100%;
        max-width: var(--container-max);
        height: var(--nav-height);
        padding: 0 var(--space-6);
        display: grid;
        grid-template-columns: 1fr auto 1fr;
        align-items: center;
        gap: var(--space-4);
      }
      .nav-back {
        display: flex;
        align-items: center;
        gap: var(--space-1);
        color: var(--color-accent-primary);
        text-decoration: none;
        font-size: 0.9375rem;
        font-weight: 500;
        padding: var(--space-2) var(--space-1);
        margin-left: calc(var(--space-2) * -1);
        border-radius: var(--radius-sm);
        transition: all var(--transition-fast);
        justify-self: start;
      }
      .nav-back:hover {
        background: var(--color-border-subtle);
      }
      .nav-back-icon {
        width: 20px;
        height: 20px;
        stroke-width: 2.5;
      }
      .nav-title {
        font-size: 1rem;
        font-weight: 600;
        text-align: center;
        white-space: nowrap;
      }
      .nav-actions {
        display: flex;
        align-items: center;
        gap: var(--space-2);
        justify-self: end;
      }
      .theme-toggle {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 36px;
        height: 36px;
        border: none;
        border-radius: var(--radius-full);
        background: var(--color-bg-subtle);
        color: var(--color-text-secondary);
        cursor: pointer;
        transition: all var(--transition-fast);
      }
      .theme-toggle:hover {
        background: var(--color-border-strong);
        color: var(--color-text-primary);
      }
      .theme-toggle svg {
        width: 18px;
        height: 18px;
      }
      .theme-icon-dark,
      .theme-icon-light {
        display: none;
      }
      [data-theme="dark"] .theme-icon-light,
      :root:not([data-theme]) .theme-icon-light {
        display: block;
      }
      [data-theme="light"] .theme-icon-dark {
        display: block;
      }
      .main-content {
        position: relative;
        z-index: 1;
        min-height: 100vh;
        padding-top: calc(var(--nav-height) + var(--safe-area-top) + var(--space-5));
        padding-bottom: calc(var(--space-6) + var(--safe-area-bottom));
        padding-left: var(--space-6);
        padding-right: var(--space-6);
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      .tool-card {
        width: 100%;
        max-width: var(--container-max);
        background: var(--glass-bg);
        backdrop-filter: saturate(var(--glass-saturate)) blur(16px);
        border: 1px solid var(--glass-border);
        border-radius: var(--radius-lg);
        padding: var(--space-6);
        box-shadow: var(--shadow-lg);
        animation: fade-in-up 0.4s ease-out;
        margin-bottom: var(--space-5);
      }
      @keyframes fade-in-up {
        from {
          opacity: 0;
          transform: translateY(16px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .tool-header {
        display: flex;
        align-items: center;
        gap: var(--space-4);
        margin-bottom: var(--space-5);
        padding-bottom: var(--space-5);
        border-bottom: 1px solid var(--color-border-subtle);
      }
      .tool-icon {
        width: 48px;
        height: 48px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, var(--color-accent-primary), var(--color-accent-tertiary));
        border-radius: var(--radius-md);
        font-size: 1.25rem;
      }
      .tool-info h1 {
        font-size: 1.25rem;
        font-weight: 700;
      }
      .tool-info .desc {
        font-size: 0.875rem;
        color: var(--color-text-muted);
        margin-top: var(--space-1);
      }
      .section-title {
        font-size: 0.875rem;
        font-weight: 600;
        color: var(--color-text-secondary);
        margin-bottom: var(--space-3);
        display: flex;
        align-items: center;
        gap: var(--space-2);
      }
      .form-group {
        margin-bottom: var(--space-5);
      }
      .form-label {
        display: block;
        font-size: 0.875rem;
        font-weight: 500;
        color: var(--color-text-secondary);
        margin-bottom: var(--space-2);
      }
      .form-input {
        width: 100%;
        padding: var(--space-3) var(--space-4);
        font-family: var(--font-mono);
        font-size: 1rem;
        background: var(--color-bg-input);
        border: 2px solid var(--color-border-default);
        border-radius: var(--radius-md);
        color: var(--color-text-primary);
        transition: all var(--transition-fast);
      }
      .form-input::placeholder {
        color: var(--color-text-muted);
      }
      .form-input:focus {
        outline: none;
        border-color: var(--color-accent-primary);
      }
      .form-select {
        width: 100%;
        padding: var(--space-3) var(--space-4);
        font-family: var(--font-mono);
        font-size: 1rem;
        background: var(--color-bg-input);
        border: 2px solid var(--color-border-default);
        border-radius: var(--radius-md);
        color: var(--color-text-primary);
        cursor: pointer;
        transition: all var(--transition-fast);
      }
      .form-select:focus {
        outline: none;
        border-color: var(--color-accent-primary);
      }
      .form-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: var(--space-4);
      }
      .multiplier-group {
        display: flex;
        gap: var(--space-2);
        flex-wrap: wrap;
      }
      .multiplier-btn {
        padding: var(--space-2) var(--space-4);
        font-family: var(--font-mono);
        font-size: 0.875rem;
        background: var(--color-bg-subtle);
        border: 2px solid var(--color-border-default);
        border-radius: var(--radius-md);
        color: var(--color-text-secondary);
        cursor: pointer;
        transition: all var(--transition-fast);
      }
      .multiplier-btn:hover {
        border-color: var(--color-border-strong);
        color: var(--color-text-primary);
      }
      .multiplier-btn.active {
        background: var(--color-accent-primary);
        border-color: var(--color-accent-primary);
        color: var(--color-bg-deep);
      }
      .optional-section {
        margin-top: var(--space-5);
        padding-top: var(--space-5);
        border-top: 1px dashed var(--color-border-default);
      }
      .checkbox-row {
        display: flex;
        align-items: center;
        gap: var(--space-3);
        margin-bottom: var(--space-4);
      }
      .checkbox-row input[type="checkbox"] {
        width: 20px;
        height: 20px;
        accent-color: var(--color-accent-secondary);
        cursor: pointer;
      }
      .checkbox-row label {
        font-size: 0.9375rem;
        color: var(--color-text-secondary);
        cursor: pointer;
      }
      .hidden-section {
        display: none;
        animation: fade-in 0.3s ease;
      }
      .hidden-section.visible {
        display: block;
      }
      @keyframes fade-in {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      .results {
        padding: var(--space-5);
        background: var(--color-bg-subtle);
        border-radius: var(--radius-md);
      }
      .result-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: var(--space-3) 0;
        border-bottom: 1px solid var(--color-border-subtle);
      }
      .result-row:last-child {
        border-bottom: none;
      }
      .result-label {
        font-size: 0.9375rem;
        color: var(--color-text-secondary);
      }
      .result-value {
        font-family: var(--font-mono);
        font-size: 1.125rem;
        font-weight: 600;
        color: var(--color-text-primary);
      }
      .result-row.total {
        margin-top: var(--space-3);
        padding-top: var(--space-4);
        border-top: 2px solid var(--color-accent-primary);
      }
      .result-row.total .result-label {
        font-weight: 600;
        color: var(--color-text-primary);
      }
      .result-row.total .result-value {
        font-size: 1.5rem;
        color: var(--color-accent-primary);
      }
      .result-value.weekend {
        color: var(--color-accent-secondary);
      }
      .result-value.holiday {
        color: var(--color-accent-orange);
      }
      .btn-group {
        display: flex;
        gap: var(--space-3);
        margin-top: var(--space-5);
      }
      .btn {
        flex: 1;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: var(--space-2);
        height: 44px;
        padding: 0 var(--space-5);
        font-family: var(--font-sans);
        font-size: 0.875rem;
        font-weight: 500;
        color: var(--color-text-secondary);
        background: var(--color-bg-subtle);
        border: none;
        border-radius: var(--radius-md);
        cursor: pointer;
        transition: all var(--transition-fast);
      }
      .btn:hover {
        background: var(--color-border-strong);
        color: var(--color-text-primary);
      }
      .btn-primary {
        background: var(--color-accent-primary);
        color: var(--color-bg-deep);
      }
      .btn-primary:hover {
        background: #00b894;
        box-shadow: var(--shadow-glow);
      }
      .btn-danger {
        color: var(--color-error);
      }
      .btn-danger:hover {
        background: var(--color-error);
        color: #fff;
      }
      .toast {
        position: fixed;
        bottom: calc(var(--space-8) + var(--safe-area-bottom));
        left: 50%;
        transform: translateX(-50%) translateY(100px);
        padding: var(--space-3) var(--space-5);
        background: var(--color-success);
        color: #fff;
        font-weight: 500;
        border-radius: var(--radius-md);
        box-shadow: var(--shadow-lg);
        opacity: 0;
        transition: all 0.3s ease;
        z-index: 2000;
      }
      .toast.show {
        transform: translateX(-50%) translateY(0);
        opacity: 1;
      }
      .footer {
        text-align: center;
        margin-top: var(--space-5);
      }
      .footer p {
        font-family: var(--font-mono);
        font-size: 0.75rem;
        color: var(--color-text-muted);
      }
      .footer a {
        color: var(--color-accent-primary);
        text-decoration: none;
      }
      @media (max-width: 640px) {
        .nav-content {
          padding: 0 var(--space-4);
        }
        .main-content {
          padding: calc(var(--nav-height) + var(--safe-area-top) + var(--space-4)) var(--space-4)
            calc(var(--space-5) + var(--safe-area-bottom));
        }
        .tool-card {
          padding: var(--space-4);
        }
        .form-row {
          grid-template-columns: 1fr;
        }
        .btn-group {
          flex-direction: column;
        }
        .multiplier-group {
          flex-direction: column;
        }
        .multiplier-btn {
          width: 100%;
          text-align: center;
        }
      }
    </style>
  </head>
  <body>
    <nav class="nav-bar">
      <div class="nav-content">
        <a href="../../index.html" class="nav-back" aria-label="è¿”å›é¦–é¡µ">
          <svg class="nav-back-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="15 18 9 12 15 6"></polyline>
          </svg>
          <span>é¦–é¡µ</span>
        </a>
        <h1 class="nav-title">åŠ ç­è´¹è®¡ç®—å™¨</h1>
        <div class="nav-actions">
          <button class="theme-toggle" onclick="toggleTheme()" aria-label="åˆ‡æ¢ä¸»é¢˜">
            <svg class="theme-icon-light" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="5"></circle>
              <line x1="12" y1="1" x2="12" y2="3"></line>
              <line x1="12" y1="21" x2="12" y2="23"></line>
              <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
              <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
              <line x1="1" y1="12" x2="3" y2="12"></line>
              <line x1="21" y1="12" x2="23" y2="12"></line>
              <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
              <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
            </svg>
            <svg class="theme-icon-dark" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
            </svg>
          </button>
        </div>
      </div>
    </nav>

    <main class="main-content">
      <div class="tool-card">
        <div class="tool-header">
          <div class="tool-icon">ğŸ’°</div>
          <div class="tool-info">
            <h1>åŠ ç­è´¹è®¡ç®—å™¨</h1>
            <p class="desc">è®¡ç®—æ­£å¸¸å·¥èµ„ä¸åŠ ç­å·¥èµ„ï¼Œæ”¯æŒå‘¨æœ«/èŠ‚å‡æ—¥è´¹ç‡</p>
          </div>
        </div>

        <!-- åŸºç¡€ä¿¡æ¯ -->
        <div class="section-title">ğŸ’µ åŸºç¡€ä¿¡æ¯</div>
        <div class="form-group">
          <label class="form-label">æ—¶è–ª (å…ƒ/å°æ—¶)</label>
          <input type="number" id="hourlyRate" class="form-input" placeholder="ä¾‹å¦‚: 50" min="0" step="0.01" value="50" />
        </div>

        <div class="form-row">
          <div class="form-group">
            <label class="form-label">æ­£å¸¸å·¥æ—¶ (å°æ—¶)</label>
            <input type="number" id="regularHours" class="form-input" placeholder="ä¾‹å¦‚: 8" min="0" step="0.5" value="8" />
          </div>
          <div class="form-group">
            <label class="form-label">åŠ ç­å·¥æ—¶ (å°æ—¶)</label>
            <input type="number" id="overtimeHours" class="form-input" placeholder="ä¾‹å¦‚: 2" min="0" step="0.5" value="2" />
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">åŠ ç­å€ç‡</label>
          <div class="multiplier-group">
            <button class="multiplier-btn active" data-multiplier="1.5" onclick="setMultiplier(1.5)">1.5x</button>
            <button class="multiplier-btn" data-multiplier="2" onclick="setMultiplier(2)">2x</button>
            <button class="multiplier-btn" data-multiplier="3" onclick="setMultiplier(3)">3x</button>
          </div>
        </div>

        <!-- å‘¨æœ«åŠ ç­ï¼ˆå¯é€‰ï¼‰ -->
        <div class="optional-section">
          <div class="checkbox-row">
            <input type="checkbox" id="enableWeekend" onchange="toggleWeekend()" />
            <label for="enableWeekend">ğŸ—“ï¸ è®¡ç®—å‘¨æœ«åŠ ç­</label>
          </div>
          <div id="weekendSection" class="hidden-section">
            <div class="form-row">
              <div class="form-group">
                <label class="form-label">å‘¨æœ«å·¥æ—¶ (å°æ—¶)</label>
                <input type="number" id="weekendHours" class="form-input" placeholder="ä¾‹å¦‚: 8" min="0" step="0.5" value="0" />
              </div>
              <div class="form-group">
                <label class="form-label">å‘¨æœ«å€ç‡</label>
                <select id="weekendMultiplier" class="form-select">
                  <option value="2" selected>2x (æ ‡å‡†)</option>
                  <option value="2.5">2.5x</option>
                  <option value="3">3x</option>
                </select>
              </div>
            </div>
          </div>
        </div>

        <!-- èŠ‚å‡æ—¥åŠ ç­ï¼ˆå¯é€‰ï¼‰ -->
        <div class="optional-section">
          <div class="checkbox-row">
            <input type="checkbox" id="enableHoliday" onchange="toggleHoliday()" />
            <label for="enableHoliday">ğŸ‰ è®¡ç®—èŠ‚å‡æ—¥åŠ ç­</label>
          </div>
          <div id="holidaySection" class="hidden-section">
            <div class="form-row">
              <div class="form-group">
                <label class="form-label">èŠ‚å‡æ—¥å·¥æ—¶ (å°æ—¶)</label>
                <input type="number" id="holidayHours" class="form-input" placeholder="ä¾‹å¦‚: 8" min="0" step="0.5" value="0" />
              </div>
              <div class="form-group">
                <label class="form-label">èŠ‚å‡æ—¥å€ç‡</label>
                <select id="holidayMultiplier" class="form-select">
                  <option value="3" selected>3x (æ ‡å‡†)</option>
                  <option value="2.5">2.5x</option>
                  <option value="2">2x</option>
                </select>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- è®¡ç®—ç»“æœ -->
      <div class="tool-card">
        <div class="section-title">ğŸ“Š è®¡ç®—ç»“æœ</div>
        <div class="results">
          <div class="result-row">
            <span class="result-label">æ­£å¸¸å·¥èµ„</span>
            <span id="regularPay" class="result-value">Â¥400.00</span>
          </div>
          <div class="result-row">
            <span class="result-label">å·¥ä½œæ—¥åŠ ç­è´¹</span>
            <span id="overtimePay" class="result-value">Â¥150.00</span>
          </div>
          <div class="result-row" id="weekendPayRow" style="display: none;">
            <span class="result-label">å‘¨æœ«åŠ ç­è´¹</span>
            <span id="weekendPay" class="result-value weekend">Â¥0.00</span>
          </div>
          <div class="result-row" id="holidayPayRow" style="display: none;">
            <span class="result-label">èŠ‚å‡æ—¥åŠ ç­è´¹</span>
            <span id="holidayPay" class="result-value holiday">Â¥0.00</span>
          </div>
          <div class="result-row total">
            <span class="result-label">æ€»è®¡</span>
            <span id="totalPay" class="result-value">Â¥550.00</span>
          </div>
        </div>

        <div class="btn-group">
          <button class="btn btn-primary" onclick="copyResults()">ğŸ“‹ å¤åˆ¶ç»“æœ</button>
          <button class="btn btn-danger" onclick="clearInputs()">ğŸ—‘ï¸ æ¸…ç©º</button>
        </div>
      </div>

      <footer class="footer">
        <p>
          <a href="https://github.com/chicogong/html-tools/blob/main/tools/office/overtime-calculator.html" target="_blank">View source</a>
          Â· çº¯å‰ç«¯ Â· æ— æœåŠ¡å™¨ Â·
          <a href="../../index.html">WebUtils</a>
        </p>
      </footer>
    </main>

    <div id="toast" class="toast">å·²å¤åˆ¶åˆ°å‰ªè´´æ¿</div>

    <script>
      const LS_KEY = "overtime_calculator_v2";
      let overtimeMultiplier = 1.5;

      // DOM Elements
      const hourlyRateEl = document.getElementById("hourlyRate");
      const regularHoursEl = document.getElementById("regularHours");
      const overtimeHoursEl = document.getElementById("overtimeHours");
      const weekendHoursEl = document.getElementById("weekendHours");
      const weekendMultiplierEl = document.getElementById("weekendMultiplier");
      const holidayHoursEl = document.getElementById("holidayHours");
      const holidayMultiplierEl = document.getElementById("holidayMultiplier");
      const enableWeekendEl = document.getElementById("enableWeekend");
      const enableHolidayEl = document.getElementById("enableHoliday");

      function loadFromStorage() {
        const saved = localStorage.getItem(LS_KEY);
        if (saved) {
          try {
            const data = JSON.parse(saved);
            hourlyRateEl.value = data.hourlyRate || "50";
            regularHoursEl.value = data.regularHours || "8";
            overtimeHoursEl.value = data.overtimeHours || "2";
            weekendHoursEl.value = data.weekendHours || "0";
            weekendMultiplierEl.value = data.weekendMultiplier || "2";
            holidayHoursEl.value = data.holidayHours || "0";
            holidayMultiplierEl.value = data.holidayMultiplier || "3";
            enableWeekendEl.checked = data.enableWeekend || false;
            enableHolidayEl.checked = data.enableHoliday || false;
            if (data.overtimeMultiplier) {
              setMultiplier(data.overtimeMultiplier, false);
            }
            toggleWeekend();
            toggleHoliday();
          } catch (e) {
            console.error("Failed to load saved data:", e);
          }
        }
      }

      function saveToStorage() {
        const data = {
          hourlyRate: hourlyRateEl.value,
          regularHours: regularHoursEl.value,
          overtimeHours: overtimeHoursEl.value,
          overtimeMultiplier: overtimeMultiplier,
          enableWeekend: enableWeekendEl.checked,
          weekendHours: weekendHoursEl.value,
          weekendMultiplier: weekendMultiplierEl.value,
          enableHoliday: enableHolidayEl.checked,
          holidayHours: holidayHoursEl.value,
          holidayMultiplier: holidayMultiplierEl.value,
        };
        localStorage.setItem(LS_KEY, JSON.stringify(data));
      }

      function setMultiplier(value, shouldCalculate = true) {
        overtimeMultiplier = value;
        document.querySelectorAll(".multiplier-btn").forEach(function (btn) {
          btn.classList.toggle("active", parseFloat(btn.dataset.multiplier) === value);
        });
        if (shouldCalculate) {
          calculate();
        }
      }

      function toggleWeekend() {
        const section = document.getElementById("weekendSection");
        const payRow = document.getElementById("weekendPayRow");
        if (enableWeekendEl.checked) {
          section.classList.add("visible");
          payRow.style.display = "flex";
        } else {
          section.classList.remove("visible");
          payRow.style.display = "none";
        }
        calculate();
      }

      function toggleHoliday() {
        const section = document.getElementById("holidaySection");
        const payRow = document.getElementById("holidayPayRow");
        if (enableHolidayEl.checked) {
          section.classList.add("visible");
          payRow.style.display = "flex";
        } else {
          section.classList.remove("visible");
          payRow.style.display = "none";
        }
        calculate();
      }

      function calculate() {
        const hourlyRate = parseFloat(hourlyRateEl.value) || 0;
        const regularHours = parseFloat(regularHoursEl.value) || 0;
        const overtimeHours = parseFloat(overtimeHoursEl.value) || 0;

        const weekendEnabled = enableWeekendEl.checked;
        const holidayEnabled = enableHolidayEl.checked;
        const weekendHours = weekendEnabled ? (parseFloat(weekendHoursEl.value) || 0) : 0;
        const weekendMult = parseFloat(weekendMultiplierEl.value) || 2;
        const holidayHours = holidayEnabled ? (parseFloat(holidayHoursEl.value) || 0) : 0;
        const holidayMult = parseFloat(holidayMultiplierEl.value) || 3;

        const regularPay = hourlyRate * regularHours;
        const overtimePay = hourlyRate * overtimeHours * overtimeMultiplier;
        const weekendPay = hourlyRate * weekendHours * weekendMult;
        const holidayPay = hourlyRate * holidayHours * holidayMult;
        const totalPay = regularPay + overtimePay + weekendPay + holidayPay;

        document.getElementById("regularPay").textContent = formatCurrency(regularPay);
        document.getElementById("overtimePay").textContent = formatCurrency(overtimePay);
        document.getElementById("weekendPay").textContent = formatCurrency(weekendPay);
        document.getElementById("holidayPay").textContent = formatCurrency(holidayPay);
        document.getElementById("totalPay").textContent = formatCurrency(totalPay);

        saveToStorage();
      }

      function formatCurrency(amount) {
        return "Â¥" + amount.toFixed(2);
      }

      function copyResults() {
        const hourlyRate = parseFloat(hourlyRateEl.value) || 0;
        const regularHours = parseFloat(regularHoursEl.value) || 0;
        const overtimeHours = parseFloat(overtimeHoursEl.value) || 0;
        const weekendEnabled = enableWeekendEl.checked;
        const holidayEnabled = enableHolidayEl.checked;
        const weekendHours = weekendEnabled ? (parseFloat(weekendHoursEl.value) || 0) : 0;
        const weekendMult = parseFloat(weekendMultiplierEl.value) || 2;
        const holidayHours = holidayEnabled ? (parseFloat(holidayHoursEl.value) || 0) : 0;
        const holidayMult = parseFloat(holidayMultiplierEl.value) || 3;

        const regularPay = hourlyRate * regularHours;
        const overtimePay = hourlyRate * overtimeHours * overtimeMultiplier;
        const weekendPay = hourlyRate * weekendHours * weekendMult;
        const holidayPay = hourlyRate * holidayHours * holidayMult;
        const totalPay = regularPay + overtimePay + weekendPay + holidayPay;

        let text = "åŠ ç­è´¹è®¡ç®—ç»“æœ\n";
        text += "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
        text += "æ—¶è–ª: " + formatCurrency(hourlyRate) + "\n\n";
        text += "æ­£å¸¸å·¥æ—¶: " + regularHours + "h â†’ " + formatCurrency(regularPay) + "\n";
        
        if (overtimeHours > 0) {
          text += "å·¥ä½œæ—¥åŠ ç­: " + overtimeHours + "h Ã— " + overtimeMultiplier + "å€ â†’ " + formatCurrency(overtimePay) + "\n";
        }
        
        if (weekendEnabled && weekendHours > 0) {
          text += "å‘¨æœ«åŠ ç­: " + weekendHours + "h Ã— " + weekendMult + "å€ â†’ " + formatCurrency(weekendPay) + "\n";
        }
        
        if (holidayEnabled && holidayHours > 0) {
          text += "èŠ‚å‡æ—¥åŠ ç­: " + holidayHours + "h Ã— " + holidayMult + "å€ â†’ " + formatCurrency(holidayPay) + "\n";
        }
        
        text += "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n";
        text += "æ€»è®¡: " + formatCurrency(totalPay);

        navigator.clipboard.writeText(text).then(function() {
          showToast("å·²å¤åˆ¶åˆ°å‰ªè´´æ¿");
        }).catch(function() {
          showToast("å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶");
        });
      }

      function clearInputs() {
        hourlyRateEl.value = "50";
        regularHoursEl.value = "8";
        overtimeHoursEl.value = "0";
        weekendHoursEl.value = "0";
        weekendMultiplierEl.value = "2";
        holidayHoursEl.value = "0";
        holidayMultiplierEl.value = "3";
        enableWeekendEl.checked = false;
        enableHolidayEl.checked = false;
        
        setMultiplier(1.5, false);
        toggleWeekend();
        toggleHoliday();
        calculate();
        
        localStorage.removeItem(LS_KEY);
        showToast("å·²æ¸…ç©ºæ‰€æœ‰è¾“å…¥");
      }

      function showToast(message) {
        const toast = document.getElementById("toast");
        toast.textContent = message;
        toast.classList.add("show");
        setTimeout(function() {
          toast.classList.remove("show");
        }, 2000);
      }

      // Add input event listeners
      document.querySelectorAll(".form-input, .form-select").forEach(function (input) {
        input.addEventListener("input", calculate);
        input.addEventListener("change", calculate);
      });

      // Theme toggle
      window.toggleTheme = function () {
        const html = document.documentElement;
        const currentTheme = html.getAttribute("data-theme") || "dark";
        const newTheme = currentTheme === "light" ? "dark" : "light";
        html.setAttribute("data-theme", newTheme);
        localStorage.setItem("theme", newTheme);
      };

      function initTheme() {
        const savedTheme = localStorage.getItem("theme");
        const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
        const theme = savedTheme || (prefersDark ? "dark" : "light");
        document.documentElement.setAttribute("data-theme", theme);
      }

      // Initialize
      initTheme();
      loadFromStorage();
      calculate();
    </script>
  </body>
</html>
