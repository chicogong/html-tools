<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>成语词典 - WebUtils</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { --bg: #0a0a0f; --card: #12121a; --border: #2a2a3a; --text: #fff; --text2: #888; --accent: #8b5cf6; --accent2: #a855f7; }
        @media (prefers-color-scheme: light) { :root { --bg: #f5f5f5; --card: #fff; --border: #e0e0e0; --text: #333; --text2: #666; } }
        body { font-family: system-ui, -apple-system, sans-serif; background: var(--bg); color: var(--text); min-height: 100vh; padding: 20px; }
        .container { max-width: 900px; margin: 0 auto; }
        h1 { text-align: center; margin-bottom: 8px; font-size: 1.8rem; }
        .subtitle { text-align: center; color: var(--text2); margin-bottom: 24px; }
        .card { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 24px; margin-bottom: 20px; }
        .card-title { font-size: 1rem; color: var(--text2); margin-bottom: 16px; font-weight: 500; }
        .search-box { display: flex; gap: 12px; }
        @media (max-width: 500px) { .search-box { flex-direction: column; } }
        .search-box input { flex: 1; padding: 14px 16px; border: 1px solid var(--border); border-radius: 8px; background: var(--bg); color: var(--text); font-size: 1.1rem; }
        .search-box input:focus { outline: none; border-color: var(--accent); }
        .btn { padding: 14px 24px; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem; transition: all 0.2s; white-space: nowrap; }
        .btn-primary { background: linear-gradient(135deg, var(--accent), var(--accent2)); color: white; }
        .btn-primary:hover { opacity: 0.9; }
        .search-modes { display: flex; gap: 8px; margin-top: 12px; flex-wrap: wrap; }
        .mode-btn { padding: 8px 16px; background: var(--bg); border: 1px solid var(--border); border-radius: 6px; cursor: pointer; font-size: 0.9rem; transition: all 0.2s; }
        .mode-btn.active { border-color: var(--accent); background: rgba(139, 92, 246, 0.1); color: var(--accent); }
        .mode-btn:hover { border-color: var(--accent); }
        .idiom-card { background: var(--bg); border-radius: 12px; padding: 20px; margin-bottom: 16px; }
        .idiom-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 16px; }
        .idiom-title { font-size: 1.8rem; font-weight: 700; color: var(--accent); }
        .idiom-pinyin { font-size: 1rem; color: var(--text2); margin-top: 4px; }
        .idiom-tag { padding: 4px 10px; background: rgba(139, 92, 246, 0.2); color: var(--accent); border-radius: 4px; font-size: 0.8rem; }
        .idiom-section { margin-bottom: 16px; }
        .idiom-section:last-child { margin-bottom: 0; }
        .section-label { font-size: 0.85rem; color: var(--text2); margin-bottom: 6px; }
        .section-content { font-size: 1rem; line-height: 1.8; }
        .example { padding: 12px; background: var(--card); border-radius: 8px; border-left: 3px solid var(--accent); margin-top: 8px; font-style: italic; }
        .hot-idioms { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 12px; }
        .hot-item { padding: 8px 14px; background: var(--bg); border: 1px solid var(--border); border-radius: 6px; cursor: pointer; font-size: 0.95rem; transition: all 0.2s; }
        .hot-item:hover { border-color: var(--accent); background: rgba(139, 92, 246, 0.1); }
        .no-result { text-align: center; padding: 40px; color: var(--text2); }
        .result-count { font-size: 0.9rem; color: var(--text2); margin-bottom: 16px; }
        .hidden { display: none; }
            .back-link { display: inline-block; margin-bottom: 16px; color: var(--accent); text-decoration: none; font-size: 0.9rem; }
        .back-link:hover { text-decoration: underline; }
    </style>
</head>
<body>
    <div class="container">
        <a href="../../index.html" class="back-link">← 返回</a>
        <h1>成语词典</h1>
        <p class="subtitle">查询成语释义、出处、用法及例句</p>
        
        <div class="card">
            <div class="card-title">搜索成语</div>
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="输入成语或关键字" onkeypress="handleKeyPress(event)">
                <button class="btn btn-primary" onclick="search()">搜索</button>
            </div>
            <div class="search-modes">
                <span class="mode-btn active" data-mode="exact" onclick="setMode(this)">精确搜索</span>
                <span class="mode-btn" data-mode="start" onclick="setMode(this)">开头匹配</span>
                <span class="mode-btn" data-mode="contain" onclick="setMode(this)">包含搜索</span>
                <span class="mode-btn" data-mode="pinyin" onclick="setMode(this)">拼音搜索</span>
            </div>
            
            <div class="hot-idioms">
                <span style="color: var(--text2); font-size: 0.9rem; line-height: 32px;">热门：</span>
                <span class="hot-item" onclick="quickSearch('一举两得')">一举两得</span>
                <span class="hot-item" onclick="quickSearch('画龙点睛')">画龙点睛</span>
                <span class="hot-item" onclick="quickSearch('守株待兔')">守株待兔</span>
                <span class="hot-item" onclick="quickSearch('亡羊补牢')">亡羊补牢</span>
                <span class="hot-item" onclick="quickSearch('胸有成竹')">胸有成竹</span>
                <span class="hot-item" onclick="quickSearch('水滴石穿')">水滴石穿</span>
            </div>
        </div>
        
        <div id="resultSection" class="hidden">
            <div class="result-count" id="resultCount"></div>
            <div id="resultList"></div>
        </div>
    </div>
    
    <script>
        // 成语数据库
        const idiomDatabase = [
            {
                idiom: '一举两得',
                pinyin: 'yī jǔ liǎng dé',
                explanation: '做一件事情得到两方面的好处。',
                source: '《晋书·束皙传》："赐其十年炎复，以慰重迁之情，一举两得，外实内宽。"',
                example: '做这件事可以一举两得，既能锻炼身体，又能欣赏风景。',
                usage: '联合式；作谓语、定语；含褒义',
                synonyms: ['一箭双雕', '两全其美'],
                antonyms: ['得不偿失', '损人利己']
            },
            {
                idiom: '画龙点睛',
                pinyin: 'huà lóng diǎn jīng',
                explanation: '原形容梁代画家张僧繇作画的神妙。后多比喻写文章或讲话时，在关键处用几句话点明实质，使内容生动有力。',
                source: `唐·张彦远《历代名画记·张僧繇》："金陵安乐寺四白龙不点眼睛，每云：'点睛即飞去。'人以为妄诞，固请点之。须臾，雷电破壁，两龙乘云腾去上天，二龙未点眼者见在。"`,
                example: '这篇文章的结尾起到了画龙点睛的作用。',
                usage: '连动式；作主语、谓语、定语、状语；含褒义',
                synonyms: ['锦上添花', '点石成金'],
                antonyms: ['弄巧成拙', '画蛇添足']
            },
            {
                idiom: '守株待兔',
                pinyin: 'shǒu zhū dài tù',
                explanation: '原比喻希图不经过努力而得到成功的侥幸心理。现也比喻死守狭隘经验，不知变通。',
                source: '《韩非子·五蠹》记载：战国时宋国有一个农民，看见一只兔子撞在树根上死了，便放下锄头在树根旁等待，希望再得到撞死的兔子。',
                example: '学习要靠自己努力，不能守株待兔。',
                usage: '连动式；作宾语、定语；含贬义',
                synonyms: ['刻舟求剑', '墨守成规'],
                antonyms: ['随机应变', '见机行事']
            },
            {
                idiom: '亡羊补牢',
                pinyin: 'wáng yáng bǔ láo',
                explanation: '羊逃跑了再去修补羊圈，还不算晚。比喻出了问题以后想办法补救，可以防止继续受损失。',
                source: '《战国策·楚策》："见兔而顾犬，未为晚也；亡羊而补牢，未为迟也。"',
                example: '虽然损失了一些，但亡羊补牢，为时未晚。',
                usage: '连动式；作主语、谓语、宾语；含褒义',
                synonyms: ['知错就改'],
                antonyms: ['后悔莫及', '知错不改']
            },
            {
                idiom: '胸有成竹',
                pinyin: 'xiōng yǒu chéng zhú',
                explanation: '原指画竹子要在心里有一幅竹子的形象。后比喻在做事之前已经拿定主意。',
                source: '宋·苏轼《文与可画筼筜谷偃竹记》："故画竹，必先得成竹于胸中。"',
                example: '他对这次考试胸有成竹，一定能取得好成绩。',
                usage: '主谓式；作谓语、定语、状语；含褒义',
                synonyms: ['心中有数', '成竹在胸'],
                antonyms: ['心中无数', '茫无头绪']
            },
            {
                idiom: '水滴石穿',
                pinyin: 'shuǐ dī shí chuān',
                explanation: '水不停地滴，石头也能被滴穿。比喻只要坚持不懈，细微之力也能做出很难办的事。也比喻只要有恒心，不断努力，事情就一定能成功。',
                source: '《汉书·枚乘传》："泰山之霤穿石，单极之绠断干。水非石之钻，索非木之锯，渐靡使之然也。"',
                example: '学习需要水滴石穿的精神，持之以恒才能成功。',
                usage: '联合式；作定语；含褒义',
                synonyms: ['绳锯木断', '持之以恒'],
                antonyms: ['半途而废', '浅尝辄止']
            },
            {
                idiom: '刻舟求剑',
                pinyin: 'kè zhōu qiú jiàn',
                explanation: '比喻不懂事物已发展变化而仍静止地看问题。',
                source: `《吕氏春秋·察今》："楚人有涉江者，其剑自舟中坠于水，遽契其舟曰：'是吾剑之所从坠。'舟止，从其所契者入水求之。舟已行矣，而剑不行，求剑若此，不亦惑乎？"`,
                example: '时代在变化，我们不能刻舟求剑，要与时俱进。',
                usage: '连动式；作谓语、定语、状语；含贬义',
                synonyms: ['守株待兔', '墨守成规'],
                antonyms: ['看风使舵', '见机行事']
            },
            {
                idiom: '对牛弹琴',
                pinyin: 'duì niú tán qín',
                explanation: '讥笑听话的人不懂对方说得是什么。比喻对不讲道理的人讲道理，对不懂得美的人讲风雅。也用来讥讽说话的人不看对象。',
                source: '汉·牟融《理惑论》："公明仪为牛弹清角之操，伏食如故。非牛不闻，不合其耳矣。"',
                example: '跟他讲道理简直是对牛弹琴。',
                usage: '偏正式；作谓语、宾语；含贬义',
                synonyms: ['白费口舌', '对牛鼓簧'],
                antonyms: ['对症下药', '有的放矢']
            },
            {
                idiom: '掩耳盗铃',
                pinyin: 'yǎn ěr dào líng',
                explanation: '偷铃铛怕别人听见而捂住自己的耳朵。比喻自己欺骗自己，明明掩盖不住的事情偏要想法子掩盖。',
                source: '《吕氏春秋·自知》："百姓有得钟者，欲负而走，则钟大不可负。以锤毁之，钟况然有声。恐人闻之而夺己也，遽掩其耳。"',
                example: '他的做法简直是掩耳盗铃，自欺欺人。',
                usage: '连动式；作谓语、定语、状语；含贬义',
                synonyms: ['自欺欺人', '弄巧成拙'],
                antonyms: ['开诚布公']
            },
            {
                idiom: '叶公好龙',
                pinyin: 'yè gōng hào lóng',
                explanation: '叶公：春秋时楚国贵族，名子高，封于叶（古邑名，今河南叶县）。比喻口头上说爱好某事物，实际上并不真爱好。',
                source: '汉·刘向《新序·杂事》记载：叶公子高非常喜欢龙，器物上刻着龙，房屋上也画着龙。真龙知道了，来到叶公家里，把头探进窗子。叶公一见，吓得拔腿就跑。',
                example: '他口口声声说爱学习，实际上却从不看书，这不是叶公好龙吗？',
                usage: '主谓式；作定语、宾语；含贬义',
                synonyms: ['口是心非', '表里不一'],
                antonyms: ['名副其实', '表里如一']
            },
            {
                idiom: '杯弓蛇影',
                pinyin: 'bēi gōng shé yǐng',
                explanation: '将映在酒杯里的弓影误认为蛇。比喻因疑神疑鬼而引起恐惧。',
                source: '汉·应劭《风俗通义·世间多有见怪》："时北壁上有悬赤弩照于杯，形如蛇。宣畏恶之，然不敢不饮。"',
                example: '他这个人太敏感了，整天杯弓蛇影，疑神疑鬼。',
                usage: '复句式；作谓语、定语；含贬义',
                synonyms: ['草木皆兵', '疑神疑鬼'],
                antonyms: ['处之泰然', '安之若素']
            },
            {
                idiom: '班门弄斧',
                pinyin: 'bān mén nòng fǔ',
                explanation: '在鲁班门前舞弄斧子。比喻在行家面前卖弄本领，不自量力。',
                source: '唐·柳宗元《王氏伯仲唱和诗序》："操斧于班、郢之门，斯强颜耳。"',
                example: '在专家面前班门弄斧，实在是不自量力。',
                usage: '偏正式；作谓语、定语、状语、宾语；含贬义',
                synonyms: ['不自量力', '贻笑大方'],
                antonyms: ['虚怀若谷', '知之为知之']
            },
            {
                idiom: '杞人忧天',
                pinyin: 'qǐ rén yōu tiān',
                explanation: '杞：周代诸侯国名，在今河南杞县一带。杞国有个人怕天塌下来。比喻不必要的或缺乏根据的忧虑和担心。',
                source: '《列子·天瑞》："杞国有人，忧天地崩坠，身亡所寄，废寝食者。"',
                example: '不要杞人忧天，事情没有你想象的那么严重。',
                usage: '主谓式；作谓语、状语；含贬义',
                synonyms: ['庸人自扰', '杞人之忧'],
                antonyms: ['高枕无忧', '无忧无虑']
            },
            {
                idiom: '愚公移山',
                pinyin: 'yú gōng yí shān',
                explanation: '比喻坚持不懈地改造自然和坚定不移地进行斗争。',
                source: '《列子·汤问》记载：愚公家门前有两大座山挡着路，他决心把山平掉，另一个老人智叟笑他太傻，认为不能能。愚公说：我死了有儿子，儿子死了还有孙子，子子孙孙是没有穷尽的，两座山终究会凿平。',
                example: '只要有愚公移山的精神，就没有克服不了的困难。',
                usage: '主谓式；作主语、定语、宾语；含褒义',
                synonyms: ['锲而不舍', '持之以恒'],
                antonyms: ['半途而废', '浅尝辄止']
            },
            {
                idiom: '井底之蛙',
                pinyin: 'jǐng dǐ zhī wā',
                explanation: '井底的蛙只能看到井口那么大的一块天。比喻见识狭窄的人。',
                source: '《庄子·秋水》："井蛙不可以语于海者，拘于虚也。"',
                example: '不要做井底之蛙，要多出去走走，开阔视野。',
                usage: '偏正式；作主语、宾语、定语；含贬义',
                synonyms: ['坐井观天', '鼠目寸光'],
                antonyms: ['见多识广', '博古通今']
            }
        ];
        
        let searchMode = 'exact';
        
        function setMode(el) {
            document.querySelectorAll('.mode-btn').forEach(btn => btn.classList.remove('active'));
            el.classList.add('active');
            searchMode = el.dataset.mode;
        }
        
        function quickSearch(text) {
            document.getElementById('searchInput').value = text;
            search();
        }
        
        function handleKeyPress(event) {
            if (event.key === 'Enter') search();
        }
        
        function search() {
            const query = document.getElementById('searchInput').value.trim();
            const resultSection = document.getElementById('resultSection');
            const resultList = document.getElementById('resultList');
            const resultCount = document.getElementById('resultCount');
            
            if (!query) {
                resultSection.classList.add('hidden');
                return;
            }
            
            let results = [];
            
            switch (searchMode) {
                case 'exact':
                    results = idiomDatabase.filter(item => item.idiom === query);
                    break;
                case 'start':
                    results = idiomDatabase.filter(item => item.idiom.startsWith(query));
                    break;
                case 'contain':
                    results = idiomDatabase.filter(item => 
                        item.idiom.includes(query) || 
                        item.explanation.includes(query)
                    );
                    break;
                case 'pinyin':
                    const lowerQuery = query.toLowerCase();
                    results = idiomDatabase.filter(item => 
                        item.pinyin.replace(/\s/g, '').includes(lowerQuery) ||
                        item.pinyin.split(' ').map(p => p[0]).join('').includes(lowerQuery)
                    );
                    break;
            }
            
            resultSection.classList.remove('hidden');
            resultCount.textContent = `找到 ${results.length} 个结果`;
            
            resultList.textContent = '';
            
            if (results.length === 0) {
                const noResult = document.createElement('div');
                noResult.className = 'no-result';
                noResult.textContent = '没有找到相关成语，请尝试其他搜索方式';
                resultList.appendChild(noResult);
                return;
            }
            
            results.forEach(item => {
                const card = createIdiomCard(item);
                resultList.appendChild(card);
            });
        }
        
        function createIdiomCard(item) {
            const card = document.createElement('div');
            card.className = 'idiom-card';
            
            // 头部
            const header = document.createElement('div');
            header.className = 'idiom-header';
            
            const titleDiv = document.createElement('div');
            const title = document.createElement('div');
            title.className = 'idiom-title';
            title.textContent = item.idiom;
            const pinyin = document.createElement('div');
            pinyin.className = 'idiom-pinyin';
            pinyin.textContent = item.pinyin;
            titleDiv.appendChild(title);
            titleDiv.appendChild(pinyin);
            
            const tag = document.createElement('span');
            tag.className = 'idiom-tag';
            tag.textContent = item.idiom.length + '字成语';
            
            header.appendChild(titleDiv);
            header.appendChild(tag);
            card.appendChild(header);
            
            // 释义
            const explanationSection = document.createElement('div');
            explanationSection.className = 'idiom-section';
            const explanationLabel = document.createElement('div');
            explanationLabel.className = 'section-label';
            explanationLabel.textContent = '释义';
            const explanationContent = document.createElement('div');
            explanationContent.className = 'section-content';
            explanationContent.textContent = item.explanation;
            explanationSection.appendChild(explanationLabel);
            explanationSection.appendChild(explanationContent);
            card.appendChild(explanationSection);
            
            // 出处
            if (item.source) {
                const sourceSection = document.createElement('div');
                sourceSection.className = 'idiom-section';
                const sourceLabel = document.createElement('div');
                sourceLabel.className = 'section-label';
                sourceLabel.textContent = '出处';
                const sourceContent = document.createElement('div');
                sourceContent.className = 'section-content';
                sourceContent.textContent = item.source;
                sourceSection.appendChild(sourceLabel);
                sourceSection.appendChild(sourceContent);
                card.appendChild(sourceSection);
            }
            
            // 例句
            if (item.example) {
                const exampleSection = document.createElement('div');
                exampleSection.className = 'idiom-section';
                const exampleLabel = document.createElement('div');
                exampleLabel.className = 'section-label';
                exampleLabel.textContent = '例句';
                const exampleContent = document.createElement('div');
                exampleContent.className = 'example';
                exampleContent.textContent = item.example;
                exampleSection.appendChild(exampleLabel);
                exampleSection.appendChild(exampleContent);
                card.appendChild(exampleSection);
            }
            
            // 用法
            if (item.usage) {
                const usageSection = document.createElement('div');
                usageSection.className = 'idiom-section';
                const usageLabel = document.createElement('div');
                usageLabel.className = 'section-label';
                usageLabel.textContent = '用法';
                const usageContent = document.createElement('div');
                usageContent.className = 'section-content';
                usageContent.textContent = item.usage;
                usageSection.appendChild(usageLabel);
                usageSection.appendChild(usageContent);
                card.appendChild(usageSection);
            }
            
            // 近义词/反义词
            if (item.synonyms || item.antonyms) {
                const relatedSection = document.createElement('div');
                relatedSection.className = 'idiom-section';
                
                if (item.synonyms && item.synonyms.length > 0) {
                    const synLabel = document.createElement('span');
                    synLabel.style.cssText = 'color: var(--text2); font-size: 0.85rem;';
                    synLabel.textContent = '近义词：';
                    relatedSection.appendChild(synLabel);
                    
                    item.synonyms.forEach((syn, i) => {
                        const synSpan = document.createElement('span');
                        synSpan.style.cssText = 'color: var(--accent); cursor: pointer;';
                        synSpan.textContent = syn;
                        synSpan.onclick = () => quickSearch(syn);
                        relatedSection.appendChild(synSpan);
                        if (i < item.synonyms.length - 1) {
                            relatedSection.appendChild(document.createTextNode('、'));
                        }
                    });
                }
                
                if (item.antonyms && item.antonyms.length > 0) {
                    if (item.synonyms) relatedSection.appendChild(document.createTextNode('　'));
                    const antLabel = document.createElement('span');
                    antLabel.style.cssText = 'color: var(--text2); font-size: 0.85rem;';
                    antLabel.textContent = '反义词：';
                    relatedSection.appendChild(antLabel);
                    
                    item.antonyms.forEach((ant, i) => {
                        const antSpan = document.createElement('span');
                        antSpan.style.cssText = 'color: #f43f5e; cursor: pointer;';
                        antSpan.textContent = ant;
                        antSpan.onclick = () => quickSearch(ant);
                        relatedSection.appendChild(antSpan);
                        if (i < item.antonyms.length - 1) {
                            relatedSection.appendChild(document.createTextNode('、'));
                        }
                    });
                }
                
                card.appendChild(relatedSection);
            }
            
            return card;
        }
    </script>
</body>
</html>
