<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Docker Compose ÁîüÊàêÂô®</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">
    <style>
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .main-grid {
            display: grid;
            grid-template-columns: 500px 1fr;
            gap: 20px;
        }
        @media (max-width: 1200px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
        }
        .services-panel {
            background: var(--pico-card-background-color);
            border-radius: 8px;
            padding: 20px;
            max-height: calc(100vh - 150px);
            overflow-y: auto;
        }
        .quick-add {
            margin-bottom: 20px;
        }
        .quick-add-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
            gap: 8px;
        }
        .quick-add-btn {
            padding: 10px 8px;
            font-size: 12px;
            border: 1px solid var(--pico-muted-border-color);
            border-radius: 6px;
            background: transparent;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            transition: all 0.2s;
        }
        .quick-add-btn:hover {
            background: var(--pico-primary);
            color: white;
            border-color: var(--pico-primary);
        }
        .quick-add-btn .icon {
            font-size: 20px;
        }
        .service-card {
            background: var(--pico-card-background-color);
            border: 1px solid var(--pico-muted-border-color);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }
        .service-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--pico-muted-border-color);
        }
        .service-header h4 {
            margin: 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .service-header .actions {
            display: flex;
            gap: 8px;
        }
        .service-header .actions button {
            padding: 4px 8px;
            font-size: 12px;
            background: transparent;
            border: 1px solid var(--pico-muted-border-color);
            border-radius: 4px;
            cursor: pointer;
        }
        .service-header .actions button:hover {
            background: var(--pico-primary);
            color: white;
        }
        .service-header .actions button.delete:hover {
            background: #e74c3c;
        }
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 10px;
        }
        .form-group {
            margin-bottom: 10px;
        }
        .form-group label {
            display: block;
            font-size: 12px;
            margin-bottom: 4px;
            font-weight: 500;
        }
        .form-group input, .form-group select {
            margin-bottom: 0;
            padding: 8px;
            font-size: 13px;
        }
        .list-input {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        .list-item {
            display: flex;
            gap: 5px;
        }
        .list-item input {
            flex: 1;
        }
        .list-item button {
            padding: 4px 8px;
            font-size: 12px;
        }
        .add-item-btn {
            padding: 4px 10px;
            font-size: 12px;
            background: transparent;
            border: 1px dashed var(--pico-muted-border-color);
            border-radius: 4px;
            cursor: pointer;
            width: 100%;
            margin-top: 5px;
        }
        .add-item-btn:hover {
            background: var(--pico-primary);
            color: white;
            border-style: solid;
        }
        .output-panel {
            background: var(--pico-card-background-color);
            border-radius: 8px;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }
        .output-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        .output-header h3 {
            margin: 0;
        }
        .output-actions {
            display: flex;
            gap: 10px;
        }
        .yaml-output {
            flex: 1;
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            overflow: auto;
            white-space: pre;
            min-height: 500px;
        }
        .theme-toggle {
            cursor: pointer;
            background: none;
            border: none;
            font-size: 24px;
        }
        .section-title {
            font-size: 12px;
            font-weight: 600;
            color: var(--pico-muted-color);
            margin: 15px 0 10px;
            text-transform: uppercase;
        }
        .env-pair {
            display: grid;
            grid-template-columns: 1fr 1fr auto;
            gap: 5px;
            margin-bottom: 5px;
        }
        .env-pair input {
            font-size: 12px;
            padding: 6px;
        }
        .add-service-btn {
            width: 100%;
            padding: 12px;
            margin-top: 10px;
            border: 2px dashed var(--pico-primary);
            background: transparent;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
        }
        .add-service-btn:hover {
            background: var(--pico-primary);
            color: white;
        }
        .collapse-btn {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 16px;
            padding: 0;
        }
        .service-content {
            display: block;
        }
        .service-content.collapsed {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Docker Compose ÁîüÊàêÂô®</h1>
            <button class="theme-toggle" onclick="toggleTheme()" title="ÂàáÊç¢‰∏ªÈ¢ò">üåì</button>
        </div>

        <div class="main-grid">
            <div class="services-panel">
                <div class="quick-add">
                    <label>Âø´ÈÄüÊ∑ªÂä†ÊúçÂä°</label>
                    <div class="quick-add-grid">
                        <button class="quick-add-btn" onclick="addPresetService('nginx')">
                            <span class="icon">üåê</span>
                            <span>Nginx</span>
                        </button>
                        <button class="quick-add-btn" onclick="addPresetService('mysql')">
                            <span class="icon">üóÑÔ∏è</span>
                            <span>MySQL</span>
                        </button>
                        <button class="quick-add-btn" onclick="addPresetService('postgres')">
                            <span class="icon">üêò</span>
                            <span>PostgreSQL</span>
                        </button>
                        <button class="quick-add-btn" onclick="addPresetService('redis')">
                            <span class="icon">‚ö°</span>
                            <span>Redis</span>
                        </button>
                        <button class="quick-add-btn" onclick="addPresetService('mongodb')">
                            <span class="icon">üçÉ</span>
                            <span>MongoDB</span>
                        </button>
                        <button class="quick-add-btn" onclick="addPresetService('node')">
                            <span class="icon">üì¶</span>
                            <span>Node.js</span>
                        </button>
                        <button class="quick-add-btn" onclick="addPresetService('python')">
                            <span class="icon">üêç</span>
                            <span>Python</span>
                        </button>
                        <button class="quick-add-btn" onclick="addPresetService('rabbitmq')">
                            <span class="icon">üê∞</span>
                            <span>RabbitMQ</span>
                        </button>
                        <button class="quick-add-btn" onclick="addPresetService('elasticsearch')">
                            <span class="icon">üîç</span>
                            <span>Elastic</span>
                        </button>
                        <button class="quick-add-btn" onclick="addPresetService('phpmyadmin')">
                            <span class="icon">üîß</span>
                            <span>phpMyAdmin</span>
                        </button>
                    </div>
                </div>

                <div id="servicesContainer"></div>

                <button class="add-service-btn" onclick="addCustomService()">+ Ê∑ªÂä†Ëá™ÂÆö‰πâÊúçÂä°</button>
            </div>

            <div class="output-panel">
                <div class="output-header">
                    <h3>docker-compose.yml</h3>
                    <div class="output-actions">
                        <button onclick="copyOutput()">Â§çÂà∂</button>
                        <button onclick="downloadYaml()">‰∏ãËΩΩ</button>
                    </div>
                </div>
                <div class="yaml-output" id="yamlOutput"></div>
            </div>
        </div>
    </div>

    <script>
        const presets = {
            nginx: {
                name: 'nginx',
                image: 'nginx:alpine',
                ports: ['80:80', '443:443'],
                volumes: ['./nginx.conf:/etc/nginx/nginx.conf:ro', './html:/usr/share/nginx/html:ro'],
                environment: [],
                restart: 'unless-stopped'
            },
            mysql: {
                name: 'mysql',
                image: 'mysql:8.0',
                ports: ['3306:3306'],
                volumes: ['mysql_data:/var/lib/mysql'],
                environment: [
                    { key: 'MYSQL_ROOT_PASSWORD', value: 'rootpassword' },
                    { key: 'MYSQL_DATABASE', value: 'mydb' },
                    { key: 'MYSQL_USER', value: 'user' },
                    { key: 'MYSQL_PASSWORD', value: 'password' }
                ],
                restart: 'unless-stopped'
            },
            postgres: {
                name: 'postgres',
                image: 'postgres:15-alpine',
                ports: ['5432:5432'],
                volumes: ['postgres_data:/var/lib/postgresql/data'],
                environment: [
                    { key: 'POSTGRES_DB', value: 'mydb' },
                    { key: 'POSTGRES_USER', value: 'user' },
                    { key: 'POSTGRES_PASSWORD', value: 'password' }
                ],
                restart: 'unless-stopped'
            },
            redis: {
                name: 'redis',
                image: 'redis:7-alpine',
                ports: ['6379:6379'],
                volumes: ['redis_data:/data'],
                environment: [],
                command: 'redis-server --appendonly yes',
                restart: 'unless-stopped'
            },
            mongodb: {
                name: 'mongodb',
                image: 'mongo:6',
                ports: ['27017:27017'],
                volumes: ['mongodb_data:/data/db'],
                environment: [
                    { key: 'MONGO_INITDB_ROOT_USERNAME', value: 'root' },
                    { key: 'MONGO_INITDB_ROOT_PASSWORD', value: 'password' }
                ],
                restart: 'unless-stopped'
            },
            node: {
                name: 'node-app',
                image: 'node:20-alpine',
                ports: ['3000:3000'],
                volumes: ['./app:/app', '/app/node_modules'],
                environment: [
                    { key: 'NODE_ENV', value: 'development' }
                ],
                workingDir: '/app',
                command: 'npm start',
                restart: 'unless-stopped'
            },
            python: {
                name: 'python-app',
                image: 'python:3.11-slim',
                ports: ['8000:8000'],
                volumes: ['./app:/app'],
                environment: [
                    { key: 'PYTHONUNBUFFERED', value: '1' }
                ],
                workingDir: '/app',
                command: 'python app.py',
                restart: 'unless-stopped'
            },
            rabbitmq: {
                name: 'rabbitmq',
                image: 'rabbitmq:3-management-alpine',
                ports: ['5672:5672', '15672:15672'],
                volumes: ['rabbitmq_data:/var/lib/rabbitmq'],
                environment: [
                    { key: 'RABBITMQ_DEFAULT_USER', value: 'admin' },
                    { key: 'RABBITMQ_DEFAULT_PASS', value: 'password' }
                ],
                restart: 'unless-stopped'
            },
            elasticsearch: {
                name: 'elasticsearch',
                image: 'elasticsearch:8.11.0',
                ports: ['9200:9200', '9300:9300'],
                volumes: ['es_data:/usr/share/elasticsearch/data'],
                environment: [
                    { key: 'discovery.type', value: 'single-node' },
                    { key: 'xpack.security.enabled', value: 'false' },
                    { key: 'ES_JAVA_OPTS', value: '-Xms512m -Xmx512m' }
                ],
                restart: 'unless-stopped'
            },
            phpmyadmin: {
                name: 'phpmyadmin',
                image: 'phpmyadmin:latest',
                ports: ['8080:80'],
                volumes: [],
                environment: [
                    { key: 'PMA_HOST', value: 'mysql' },
                    { key: 'PMA_PORT', value: '3306' }
                ],
                dependsOn: ['mysql'],
                restart: 'unless-stopped'
            }
        };

        let services = [];
        let serviceId = 0;

        function addPresetService(preset) {
            const config = JSON.parse(JSON.stringify(presets[preset]));
            config.id = serviceId++;
            services.push(config);
            renderServices();
            generateYaml();
        }

        function addCustomService() {
            services.push({
                id: serviceId++,
                name: 'custom-service',
                image: 'alpine:latest',
                ports: [],
                volumes: [],
                environment: [],
                restart: 'unless-stopped'
            });
            renderServices();
            generateYaml();
        }

        function removeService(id) {
            services = services.filter(s => s.id !== id);
            renderServices();
            generateYaml();
        }

        function duplicateService(id) {
            const service = services.find(s => s.id === id);
            if (service) {
                const copy = JSON.parse(JSON.stringify(service));
                copy.id = serviceId++;
                copy.name = service.name + '-copy';
                services.push(copy);
                renderServices();
                generateYaml();
            }
        }

        function toggleCollapse(id) {
            const content = document.getElementById('content-' + id);
            const btn = document.getElementById('collapse-' + id);
            if (content.classList.contains('collapsed')) {
                content.classList.remove('collapsed');
                btn.textContent = '‚ñº';
            } else {
                content.classList.add('collapsed');
                btn.textContent = '‚ñ∂';
            }
        }

        function updateService(id, field, value) {
            const service = services.find(s => s.id === id);
            if (service) {
                service[field] = value;
                generateYaml();
            }
        }

        function addListItem(id, field) {
            const service = services.find(s => s.id === id);
            if (service) {
                if (!service[field]) service[field] = [];
                service[field].push('');
                renderServices();
                generateYaml();
            }
        }

        function updateListItem(id, field, index, value) {
            const service = services.find(s => s.id === id);
            if (service && service[field]) {
                service[field][index] = value;
                generateYaml();
            }
        }

        function removeListItem(id, field, index) {
            const service = services.find(s => s.id === id);
            if (service && service[field]) {
                service[field].splice(index, 1);
                renderServices();
                generateYaml();
            }
        }

        function addEnvItem(id) {
            const service = services.find(s => s.id === id);
            if (service) {
                if (!service.environment) service.environment = [];
                service.environment.push({ key: '', value: '' });
                renderServices();
                generateYaml();
            }
        }

        function updateEnvItem(id, index, field, value) {
            const service = services.find(s => s.id === id);
            if (service && service.environment) {
                service.environment[index][field] = value;
                generateYaml();
            }
        }

        function removeEnvItem(id, index) {
            const service = services.find(s => s.id === id);
            if (service && service.environment) {
                service.environment.splice(index, 1);
                renderServices();
                generateYaml();
            }
        }

        function renderServices() {
            const container = document.getElementById('servicesContainer');
            while (container.firstChild) {
                container.removeChild(container.firstChild);
            }

            services.forEach(service => {
                const card = document.createElement('div');
                card.className = 'service-card';
                card.id = 'service-' + service.id;

                const header = document.createElement('div');
                header.className = 'service-header';
                
                const titleDiv = document.createElement('div');
                titleDiv.style.display = 'flex';
                titleDiv.style.alignItems = 'center';
                titleDiv.style.gap = '8px';
                
                const collapseBtn = document.createElement('button');
                collapseBtn.className = 'collapse-btn';
                collapseBtn.id = 'collapse-' + service.id;
                collapseBtn.textContent = '‚ñº';
                collapseBtn.onclick = function() { toggleCollapse(service.id); };
                titleDiv.appendChild(collapseBtn);
                
                const h4 = document.createElement('h4');
                h4.textContent = service.name;
                titleDiv.appendChild(h4);
                
                header.appendChild(titleDiv);

                const actions = document.createElement('div');
                actions.className = 'actions';
                
                const dupBtn = document.createElement('button');
                dupBtn.textContent = 'Â§çÂà∂';
                dupBtn.onclick = function() { duplicateService(service.id); };
                actions.appendChild(dupBtn);
                
                const delBtn = document.createElement('button');
                delBtn.className = 'delete';
                delBtn.textContent = 'Âà†Èô§';
                delBtn.onclick = function() { removeService(service.id); };
                actions.appendChild(delBtn);
                
                header.appendChild(actions);
                card.appendChild(header);

                const content = document.createElement('div');
                content.className = 'service-content';
                content.id = 'content-' + service.id;

                // Basic settings
                const row1 = document.createElement('div');
                row1.className = 'form-row';
                row1.appendChild(createFormGroup('ÊúçÂä°ÂêçÁß∞', 'text', service.name, function(v) { updateService(service.id, 'name', v); }));
                row1.appendChild(createFormGroup('ÈïúÂÉè', 'text', service.image, function(v) { updateService(service.id, 'image', v); }));
                content.appendChild(row1);

                const row2 = document.createElement('div');
                row2.className = 'form-row';
                row2.appendChild(createSelectGroup('ÈáçÂêØÁ≠ñÁï•', service.restart || 'no', ['no', 'always', 'on-failure', 'unless-stopped'], function(v) { updateService(service.id, 'restart', v); }));
                row2.appendChild(createFormGroup('ÂëΩ‰ª§', 'text', service.command || '', function(v) { updateService(service.id, 'command', v); }));
                content.appendChild(row2);

                // Ports
                content.appendChild(createListSection('Á´ØÂè£Êò†Â∞Ñ', service.id, 'ports', service.ports || [], 'Ê†ºÂºè: ‰∏ªÊú∫Á´ØÂè£:ÂÆπÂô®Á´ØÂè£'));

                // Volumes
                content.appendChild(createListSection('Êï∞ÊçÆÂç∑', service.id, 'volumes', service.volumes || [], 'Ê†ºÂºè: ‰∏ªÊú∫Ë∑ØÂæÑ:ÂÆπÂô®Ë∑ØÂæÑ'));

                // Environment
                content.appendChild(createEnvSection(service.id, service.environment || []));

                // Depends on
                content.appendChild(createListSection('‰æùËµñÊúçÂä°', service.id, 'dependsOn', service.dependsOn || [], 'ÊúçÂä°ÂêçÁß∞'));

                card.appendChild(content);
                container.appendChild(card);
            });
        }

        function createFormGroup(label, type, value, onChange) {
            const div = document.createElement('div');
            div.className = 'form-group';
            
            const labelEl = document.createElement('label');
            labelEl.textContent = label;
            div.appendChild(labelEl);
            
            const input = document.createElement('input');
            input.type = type;
            input.value = value || '';
            input.oninput = function() { onChange(this.value); };
            div.appendChild(input);
            
            return div;
        }

        function createSelectGroup(label, value, options, onChange) {
            const div = document.createElement('div');
            div.className = 'form-group';
            
            const labelEl = document.createElement('label');
            labelEl.textContent = label;
            div.appendChild(labelEl);
            
            const select = document.createElement('select');
            options.forEach(opt => {
                const option = document.createElement('option');
                option.value = opt;
                option.textContent = opt;
                if (opt === value) option.selected = true;
                select.appendChild(option);
            });
            select.onchange = function() { onChange(this.value); };
            div.appendChild(select);
            
            return div;
        }

        function createListSection(title, serviceId, field, items, placeholder) {
            const div = document.createElement('div');
            
            const titleEl = document.createElement('div');
            titleEl.className = 'section-title';
            titleEl.textContent = title;
            div.appendChild(titleEl);
            
            const listDiv = document.createElement('div');
            listDiv.className = 'list-input';
            
            items.forEach((item, index) => {
                const itemDiv = document.createElement('div');
                itemDiv.className = 'list-item';
                
                const input = document.createElement('input');
                input.type = 'text';
                input.value = item;
                input.placeholder = placeholder;
                input.oninput = function() { updateListItem(serviceId, field, index, this.value); };
                itemDiv.appendChild(input);
                
                const delBtn = document.createElement('button');
                delBtn.textContent = '√ó';
                delBtn.onclick = function() { removeListItem(serviceId, field, index); };
                itemDiv.appendChild(delBtn);
                
                listDiv.appendChild(itemDiv);
            });
            
            const addBtn = document.createElement('button');
            addBtn.className = 'add-item-btn';
            addBtn.textContent = '+ Ê∑ªÂä†';
            addBtn.onclick = function() { addListItem(serviceId, field); };
            listDiv.appendChild(addBtn);
            
            div.appendChild(listDiv);
            return div;
        }

        function createEnvSection(serviceId, envItems) {
            const div = document.createElement('div');
            
            const titleEl = document.createElement('div');
            titleEl.className = 'section-title';
            titleEl.textContent = 'ÁéØÂ¢ÉÂèòÈáè';
            div.appendChild(titleEl);
            
            const listDiv = document.createElement('div');
            
            envItems.forEach((item, index) => {
                const pairDiv = document.createElement('div');
                pairDiv.className = 'env-pair';
                
                const keyInput = document.createElement('input');
                keyInput.type = 'text';
                keyInput.value = item.key || '';
                keyInput.placeholder = 'ÂèòÈáèÂêç';
                keyInput.oninput = function() { updateEnvItem(serviceId, index, 'key', this.value); };
                pairDiv.appendChild(keyInput);
                
                const valInput = document.createElement('input');
                valInput.type = 'text';
                valInput.value = item.value || '';
                valInput.placeholder = 'ÂÄº';
                valInput.oninput = function() { updateEnvItem(serviceId, index, 'value', this.value); };
                pairDiv.appendChild(valInput);
                
                const delBtn = document.createElement('button');
                delBtn.textContent = '√ó';
                delBtn.style.padding = '4px 8px';
                delBtn.onclick = function() { removeEnvItem(serviceId, index); };
                pairDiv.appendChild(delBtn);
                
                listDiv.appendChild(pairDiv);
            });
            
            const addBtn = document.createElement('button');
            addBtn.className = 'add-item-btn';
            addBtn.textContent = '+ Ê∑ªÂä†ÁéØÂ¢ÉÂèòÈáè';
            addBtn.onclick = function() { addEnvItem(serviceId); };
            listDiv.appendChild(addBtn);
            
            div.appendChild(listDiv);
            return div;
        }

        function generateYaml() {
            let yaml = 'version: "3.8"\n\nservices:\n';
            
            const volumeNames = new Set();
            
            services.forEach(service => {
                yaml += '  ' + service.name + ':\n';
                yaml += '    image: ' + service.image + '\n';
                
                if (service.command) {
                    yaml += '    command: ' + service.command + '\n';
                }
                
                if (service.workingDir) {
                    yaml += '    working_dir: ' + service.workingDir + '\n';
                }
                
                if (service.ports && service.ports.length > 0 && service.ports.some(p => p)) {
                    yaml += '    ports:\n';
                    service.ports.forEach(port => {
                        if (port) yaml += '      - "' + port + '"\n';
                    });
                }
                
                if (service.volumes && service.volumes.length > 0 && service.volumes.some(v => v)) {
                    yaml += '    volumes:\n';
                    service.volumes.forEach(volume => {
                        if (volume) {
                            yaml += '      - ' + volume + '\n';
                            // Track named volumes
                            const parts = volume.split(':');
                            if (parts[0] && !parts[0].startsWith('.') && !parts[0].startsWith('/')) {
                                volumeNames.add(parts[0]);
                            }
                        }
                    });
                }
                
                if (service.environment && service.environment.length > 0 && service.environment.some(e => e.key)) {
                    yaml += '    environment:\n';
                    service.environment.forEach(env => {
                        if (env.key) {
                            yaml += '      ' + env.key + ': "' + (env.value || '') + '"\n';
                        }
                    });
                }
                
                if (service.dependsOn && service.dependsOn.length > 0 && service.dependsOn.some(d => d)) {
                    yaml += '    depends_on:\n';
                    service.dependsOn.forEach(dep => {
                        if (dep) yaml += '      - ' + dep + '\n';
                    });
                }
                
                if (service.restart && service.restart !== 'no') {
                    yaml += '    restart: ' + service.restart + '\n';
                }
                
                yaml += '\n';
            });
            
            if (volumeNames.size > 0) {
                yaml += 'volumes:\n';
                volumeNames.forEach(name => {
                    yaml += '  ' + name + ':\n';
                });
            }
            
            document.getElementById('yamlOutput').textContent = yaml;
        }

        function copyOutput() {
            const output = document.getElementById('yamlOutput').textContent;
            navigator.clipboard.writeText(output).then(() => {
                alert('Â∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø!');
            });
        }

        function downloadYaml() {
            const output = document.getElementById('yamlOutput').textContent;
            const blob = new Blob([output], { type: 'text/yaml' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'docker-compose.yml';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function toggleTheme() {
            const html = document.documentElement;
            const currentTheme = html.getAttribute('data-theme');
            html.setAttribute('data-theme', currentTheme === 'light' ? 'dark' : 'light');
        }

        // Initialize with default services
        addPresetService('nginx');
        addPresetService('mysql');
    </script>
</body>
</html>
