<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>é€šç”¨å•ä½è½¬æ¢ - WebUtils</title>
  <meta name="description" content="é•¿åº¦ã€é‡é‡ã€é¢ç§¯ã€ä½“ç§¯ç­‰å•ä½è½¬æ¢" />
  <meta name="keywords" content="unit converter å•ä½è½¬æ¢ é•¿åº¦ é‡é‡ é¢ç§¯ ä½“ç§¯" />
  <style>
    :root { --bg: #f8f9fa; --card-bg: #fff; --text: #212529; --text-muted: #6c757d; --border: #dee2e6; --primary: #0d6efd; --success: #198754; --shadow: 0 2px 8px rgb(0,0,0,0.08); --radius: 8px; }
    [data-theme="dark"] { --bg: #0a0a0f; --card-bg: #1a1a24; --text: #e8e8ed; --text-muted: #9898a4; --border: #2a2a36; --primary: #a855f7; --success: #10b981; --shadow: 0 2px 8px rgb(0,0,0,0.3); }
    * { box-sizing: border-box; }
    body { font-family: system-ui, sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 24px; min-height: 100vh; }
    .container { max-width: 700px; margin: 0 auto; }
    .back-link { display: inline-block; margin-bottom: 16px; color: var(--primary); text-decoration: none; }
    h1 { font-size: 1.75rem; margin: 0 0 8px; }
    .desc { color: var(--text-muted); margin: 0 0 24px; }
    .card { background: var(--card-bg); border: 1px solid var(--border); border-radius: var(--radius); padding: 20px; box-shadow: var(--shadow); margin-bottom: 20px; }
    .theme-toggle { position: fixed; top: 1rem; right: 1rem; width: 40px; height: 40px; border-radius: 50%; border: 1px solid var(--border); background: var(--card-bg); cursor: pointer; font-size: 1.2rem; z-index: 100; }
    .tabs { display: flex; gap: 8px; margin-bottom: 20px; flex-wrap: wrap; }
    .tab { padding: 10px 16px; border: 1px solid var(--border); border-radius: var(--radius); background: var(--card-bg); color: var(--text); cursor: pointer; font-size: 0.9rem; }
    .tab:hover { border-color: var(--primary); }
    .tab.active { background: var(--primary); border-color: var(--primary); color: #fff; }
    .converter { display: flex; gap: 16px; align-items: center; margin-bottom: 20px; }
    .converter-input { flex: 1; }
    .converter-input label { display: block; font-size: 0.85rem; color: var(--text-muted); margin-bottom: 4px; }
    .converter-input input { width: 100%; padding: 14px; font-size: 1.2rem; border: 1px solid var(--border); border-radius: var(--radius); background: var(--bg); color: var(--text); text-align: center; }
    .converter-input select { width: 100%; padding: 10px; border: 1px solid var(--border); border-radius: var(--radius); background: var(--bg); color: var(--text); margin-top: 8px; }
    .swap-btn { padding: 12px; border: 1px solid var(--border); border-radius: 50%; background: var(--card-bg); color: var(--primary); cursor: pointer; font-size: 1.2rem; flex-shrink: 0; }
    .swap-btn:hover { background: var(--primary); color: #fff; }
    .result { text-align: center; padding: 24px; background: var(--bg); border-radius: var(--radius); }
    .result .value { font-size: 2.5rem; font-weight: 700; font-family: ui-monospace, monospace; color: var(--primary); }
    .result .unit { font-size: 1rem; color: var(--text-muted); margin-top: 4px; }
    .quick-conversions { margin-top: 20px; }
    .quick-conversions h4 { margin: 0 0 12px; font-size: 0.95rem; }
    .conversion-list { display: grid; gap: 8px; }
    .conversion-item { display: flex; justify-content: space-between; padding: 10px 12px; background: var(--bg); border-radius: var(--radius); font-size: 0.9rem; }
    .conversion-item .label { color: var(--text-muted); }
    .conversion-item .value { font-family: ui-monospace, monospace; font-weight: 500; }
    footer { text-align: center; margin-top: 32px; padding-top: 16px; border-top: 1px solid var(--border); color: var(--text-muted); font-size: 0.85rem; }
    footer a { color: var(--primary); text-decoration: none; }
  </style>
</head>
<body>
  <div class="container">
    <a href="../../index.html" class="back-link">â† è¿”å›å·¥å…·åˆ—è¡¨</a>
    <button class="theme-toggle" onclick="toggleTheme()">â˜€ï¸</button>
    <h1>é€šç”¨å•ä½è½¬æ¢</h1>
    <p class="desc">å„ç§å¸¸ç”¨å•ä½å¿«é€Ÿè½¬æ¢</p>

    <div class="card">
      <div class="tabs">
        <button class="tab active" onclick="setCategory('length', this)">é•¿åº¦</button>
        <button class="tab" onclick="setCategory('weight', this)">é‡é‡</button>
        <button class="tab" onclick="setCategory('area', this)">é¢ç§¯</button>
        <button class="tab" onclick="setCategory('volume', this)">ä½“ç§¯</button>
        <button class="tab" onclick="setCategory('speed', this)">é€Ÿåº¦</button>
        <button class="tab" onclick="setCategory('data', this)">æ•°æ®</button>
      </div>

      <div class="converter">
        <div class="converter-input">
          <label>ä»</label>
          <input type="number" id="fromValue" value="1" oninput="convert()" />
          <select id="fromUnit" onchange="convert()"></select>
        </div>
        <button class="swap-btn" onclick="swapUnits()">â‡„</button>
        <div class="converter-input">
          <label>åˆ°</label>
          <input type="number" id="toValue" readonly />
          <select id="toUnit" onchange="convert()"></select>
        </div>
      </div>

      <div class="result">
        <div class="value" id="resultValue">1</div>
        <div class="unit" id="resultUnit">ç±³ = 100 å˜ç±³</div>
      </div>

      <div class="quick-conversions">
        <h4>å¸¸ç”¨è½¬æ¢</h4>
        <div class="conversion-list" id="quickList"></div>
      </div>
    </div>

    <footer>çº¯å‰ç«¯å·¥å…· Â· æ— æœåŠ¡å™¨ Â· <a href="../../index.html">WebUtils</a></footer>
  </div>

  <script>
    const units = {
      length: {
        name: 'é•¿åº¦',
        base: 'm',
        units: {
          'km': { name: 'åƒç±³', factor: 1000 },
          'm': { name: 'ç±³', factor: 1 },
          'cm': { name: 'å˜ç±³', factor: 0.01 },
          'mm': { name: 'æ¯«ç±³', factor: 0.001 },
          'mi': { name: 'è‹±é‡Œ', factor: 1609.344 },
          'yd': { name: 'ç ', factor: 0.9144 },
          'ft': { name: 'è‹±å°º', factor: 0.3048 },
          'in': { name: 'è‹±å¯¸', factor: 0.0254 }
        },
        quick: [
          { from: 1, fromUnit: 'km', toUnit: 'm' },
          { from: 1, fromUnit: 'mi', toUnit: 'km' },
          { from: 1, fromUnit: 'm', toUnit: 'ft' },
          { from: 1, fromUnit: 'in', toUnit: 'cm' }
        ]
      },
      weight: {
        name: 'é‡é‡',
        base: 'kg',
        units: {
          't': { name: 'å¨', factor: 1000 },
          'kg': { name: 'åƒå…‹', factor: 1 },
          'g': { name: 'å…‹', factor: 0.001 },
          'mg': { name: 'æ¯«å…‹', factor: 0.000001 },
          'lb': { name: 'ç£…', factor: 0.453592 },
          'oz': { name: 'ç›å¸', factor: 0.0283495 },
          'jin': { name: 'æ–¤', factor: 0.5 },
          'liang': { name: 'ä¸¤', factor: 0.05 }
        },
        quick: [
          { from: 1, fromUnit: 'kg', toUnit: 'lb' },
          { from: 1, fromUnit: 'kg', toUnit: 'jin' },
          { from: 1, fromUnit: 'oz', toUnit: 'g' },
          { from: 1, fromUnit: 't', toUnit: 'kg' }
        ]
      },
      area: {
        name: 'é¢ç§¯',
        base: 'm2',
        units: {
          'km2': { name: 'å¹³æ–¹åƒç±³', factor: 1000000 },
          'ha': { name: 'å…¬é¡·', factor: 10000 },
          'm2': { name: 'å¹³æ–¹ç±³', factor: 1 },
          'cm2': { name: 'å¹³æ–¹å˜ç±³', factor: 0.0001 },
          'mi2': { name: 'å¹³æ–¹è‹±é‡Œ', factor: 2589988.11 },
          'ac': { name: 'è‹±äº©', factor: 4046.86 },
          'ft2': { name: 'å¹³æ–¹è‹±å°º', factor: 0.092903 },
          'mu': { name: 'äº©', factor: 666.67 }
        },
        quick: [
          { from: 1, fromUnit: 'km2', toUnit: 'ha' },
          { from: 1, fromUnit: 'ha', toUnit: 'mu' },
          { from: 1, fromUnit: 'm2', toUnit: 'ft2' },
          { from: 1, fromUnit: 'ac', toUnit: 'm2' }
        ]
      },
      volume: {
        name: 'ä½“ç§¯',
        base: 'l',
        units: {
          'm3': { name: 'ç«‹æ–¹ç±³', factor: 1000 },
          'l': { name: 'å‡', factor: 1 },
          'ml': { name: 'æ¯«å‡', factor: 0.001 },
          'gal': { name: 'åŠ ä»‘(ç¾)', factor: 3.78541 },
          'qt': { name: 'å¤¸è„±', factor: 0.946353 },
          'pt': { name: 'å“è„±', factor: 0.473176 },
          'cup': { name: 'æ¯', factor: 0.236588 },
          'floz': { name: 'æ¶²ç›å¸', factor: 0.0295735 }
        },
        quick: [
          { from: 1, fromUnit: 'l', toUnit: 'ml' },
          { from: 1, fromUnit: 'gal', toUnit: 'l' },
          { from: 1, fromUnit: 'm3', toUnit: 'l' },
          { from: 1, fromUnit: 'cup', toUnit: 'ml' }
        ]
      },
      speed: {
        name: 'é€Ÿåº¦',
        base: 'mps',
        units: {
          'kmh': { name: 'åƒç±³/æ—¶', factor: 0.277778 },
          'mps': { name: 'ç±³/ç§’', factor: 1 },
          'mph': { name: 'è‹±é‡Œ/æ—¶', factor: 0.44704 },
          'kn': { name: 'èŠ‚', factor: 0.514444 },
          'fps': { name: 'è‹±å°º/ç§’', factor: 0.3048 },
          'mach': { name: 'é©¬èµ«', factor: 340.29 }
        },
        quick: [
          { from: 100, fromUnit: 'kmh', toUnit: 'mph' },
          { from: 1, fromUnit: 'mps', toUnit: 'kmh' },
          { from: 1, fromUnit: 'kn', toUnit: 'kmh' },
          { from: 1, fromUnit: 'mach', toUnit: 'kmh' }
        ]
      },
      data: {
        name: 'æ•°æ®',
        base: 'B',
        units: {
          'TB': { name: 'TB', factor: 1099511627776 },
          'GB': { name: 'GB', factor: 1073741824 },
          'MB': { name: 'MB', factor: 1048576 },
          'KB': { name: 'KB', factor: 1024 },
          'B': { name: 'å­—èŠ‚', factor: 1 },
          'bit': { name: 'æ¯”ç‰¹', factor: 0.125 }
        },
        quick: [
          { from: 1, fromUnit: 'GB', toUnit: 'MB' },
          { from: 1, fromUnit: 'TB', toUnit: 'GB' },
          { from: 1, fromUnit: 'MB', toUnit: 'KB' },
          { from: 8, fromUnit: 'bit', toUnit: 'B' }
        ]
      }
    };

    let currentCategory = 'length';

    function setCategory(cat, btn) {
      currentCategory = cat;
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      btn.classList.add('active');

      const catData = units[cat];
      const fromSelect = document.getElementById('fromUnit');
      const toSelect = document.getElementById('toUnit');

      const options = Object.entries(catData.units).map(([key, val]) =>
        `<option value="${key}">${val.name}</option>`
      ).join('');

      fromSelect.innerHTML = options;
      toSelect.innerHTML = options;

      // Set default selections
      const unitKeys = Object.keys(catData.units);
      fromSelect.value = unitKeys[1] || unitKeys[0];
      toSelect.value = unitKeys[2] || unitKeys[1] || unitKeys[0];

      convert();
      updateQuickList();
    }

    function convert() {
      const catData = units[currentCategory];
      const fromValue = parseFloat(document.getElementById('fromValue').value) || 0;
      const fromUnit = document.getElementById('fromUnit').value;
      const toUnit = document.getElementById('toUnit').value;

      const fromFactor = catData.units[fromUnit].factor;
      const toFactor = catData.units[toUnit].factor;

      const result = (fromValue * fromFactor) / toFactor;

      document.getElementById('toValue').value = formatNumber(result);
      document.getElementById('resultValue').textContent = formatNumber(result);
      document.getElementById('resultUnit').textContent =
        `${fromValue} ${catData.units[fromUnit].name} = ${formatNumber(result)} ${catData.units[toUnit].name}`;
    }

    function formatNumber(num) {
      if (Math.abs(num) < 0.0001 || Math.abs(num) >= 1000000) {
        return num.toExponential(4);
      }
      return parseFloat(num.toPrecision(8)).toString();
    }

    function swapUnits() {
      const fromSelect = document.getElementById('fromUnit');
      const toSelect = document.getElementById('toUnit');
      const fromValue = document.getElementById('fromValue');
      const toValue = document.getElementById('toValue');

      [fromSelect.value, toSelect.value] = [toSelect.value, fromSelect.value];
      fromValue.value = toValue.value;
      convert();
    }

    function updateQuickList() {
      const catData = units[currentCategory];
      const list = document.getElementById('quickList');

      list.innerHTML = catData.quick.map(q => {
        const result = (q.from * catData.units[q.fromUnit].factor) / catData.units[q.toUnit].factor;
        return `
          <div class="conversion-item">
            <span class="label">${q.from} ${catData.units[q.fromUnit].name}</span>
            <span class="value">= ${formatNumber(result)} ${catData.units[q.toUnit].name}</span>
          </div>
        `;
      }).join('');
    }

    setCategory('length');

    function toggleTheme() {
      const html = document.documentElement;
      const next = html.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
      html.setAttribute('data-theme', next);
      document.querySelector('.theme-toggle').textContent = next === 'dark' ? 'ğŸŒ™' : 'â˜€ï¸';
      localStorage.setItem('theme', next);
    }
    (function() {
      const saved = localStorage.getItem('theme');
      if (saved) {
        document.documentElement.setAttribute('data-theme', saved);
        document.querySelector('.theme-toggle').textContent = saved === 'dark' ? 'ğŸŒ™' : 'â˜€ï¸';
      }
    })();
  </script>
</body>
</html>
