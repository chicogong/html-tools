<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>è®ºæ–‡å¼•ç”¨ç”Ÿæˆå™¨ - WebUtils</title>
    <!-- SEO Meta Tags -->
    <meta name="description" content="è®ºæ–‡å¼•ç”¨ç”Ÿæˆå™¨ - WebUtils" />
    <meta name="keywords" content="citation-generator,education,tools,webutils" />
    <meta name="author" content="WebUtils" />
    <meta name="robots" content="index, follow" />
    <link
      rel="canonical"
      href="https://tools.realtime-ai.chat/tools/education/citation-generator.html"
    />

    <!-- Open Graph -->
    <meta property="og:title" content="è®ºæ–‡å¼•ç”¨ç”Ÿæˆå™¨ - WebUtils" />
    <meta property="og:description" content="è®ºæ–‡å¼•ç”¨ç”Ÿæˆå™¨ - WebUtils" />
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://tools.realtime-ai.chat/tools/education/citation-generator.html"
    />
    <meta property="og:site_name" content="WebUtils" />
    <meta property="og:locale" content="zh_CN" />
    <meta property="og:image" content="https://tools.realtime-ai.chat/social-preview.png" />
    <meta property="og:image:width" content="1280" />
    <meta property="og:image:height" content="640" />
    <meta property="og:image:type" content="image/png" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="è®ºæ–‡å¼•ç”¨ç”Ÿæˆå™¨ - WebUtils" />
    <meta name="twitter:description" content="è®ºæ–‡å¼•ç”¨ç”Ÿæˆå™¨ - WebUtils" />
    <meta name="twitter:image" content="https://tools.realtime-ai.chat/social-preview.png" />

    <style>
      :root {
        --color-bg-deep: #0a0a0f;
        --color-bg-surface: #12121a;
        --color-bg-card: #1a1a24;
        --bg-input: #0e0e14;
        --color-text-primary: #e8e8ed;
        --color-text-secondary: #8888a0;
        --color-text-muted: #55556a;
        --border-subtle: #2a2a3a;
        --border-strong: #3a3a4a;
        --color-accent-cyan: #00f5d4;
        --accent-green: #10b981;
        --accent-red: #f43f5e;
        --accent-yellow: #fbbf24;
        --color-accent-purple: #a855f7;
        --glow-cyan: rgb(0, 245, 212, 0.15);
        --glow-green: rgb(16, 185, 129, 0.15);
        --glow-red: rgb(244, 63, 94, 0.15);
        --radius-sm: 4px;
        --radius-md: 8px;
        --radius-lg: 12px;
      
  /* å­—ä½“å˜é‡ */
  --font-sans: 'Space Grotesk', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-mono: 'JetBrains Mono', 'Courier New', monospace;
}

      [data-theme="light"] {
        --color-bg-deep: #fafafa;
        --color-bg-surface: #fff;
        --color-bg-card: #fff;
        --bg-input: #f5f5f5;
        --bg-hover: #f5f5f5;
        --color-text-primary: #1a1a1a;
        --color-text-secondary: #666;
        --color-text-muted: #999;
        --border-subtle: #e5e5e5;
        --border-strong: #d5d5d5;
      }

      .theme-toggle {
        position: fixed;
        top: 1rem;
        right: 1rem;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        border: 1px solid var(--border-subtle);
        background: var(--color-bg-card);
        cursor: pointer;
        font-size: 1.2rem;
        z-index: 100;
        transition: all 0.2s;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .theme-toggle:hover {
        transform: scale(1.1);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      :root {
        --bg: #0a0a0f;
        --card: #12121a;
        --border: #2a2a3a;
        --text: #fff;
        --text2: #888;
        --accent: #8b5cf6;
        --success: #22c55e;
      }
      @media (prefers-color-scheme: light) {
        :root {
          --bg: #f5f5f5;
          --card: #fff;
          --border: #e0e0e0;
          --text: #333;
          --text2: #666;
        }
      }
      body {
        font-family:
          system-ui,
          -apple-system,
          sans-serif;
        background: var(--bg);
        color: var(--text);
        min-height: 100vh;
        padding: 20px;
      }
      .container {
        max-width: 900px;
        margin: 0 auto;
      }
      h1 {
        text-align: center;
        margin-bottom: 8px;
        font-size: 1.8rem;
      }
      .subtitle {
        text-align: center;
        color: var(--text2);
        margin-bottom: 24px;
      }
      .card {
        background: var(--card);
        border: 1px solid var(--border);
        border-radius: 12px;
        padding: 24px;
        margin-bottom: 20px;
      }
      .card-title {
        font-size: 1rem;
        color: var(--text2);
        margin-bottom: 16px;
      }
      .tabs {
        display: flex;
        gap: 8px;
        margin-bottom: 20px;
        flex-wrap: wrap;
      }
      .tab {
        padding: 10px 20px;
        border: 1px solid var(--border);
        border-radius: 8px;
        background: transparent;
        color: var(--text);
        cursor: pointer;
        transition: all 0.2s;
      }
      .tab.active {
        background: var(--accent);
        border-color: var(--accent);
        color: white;
      }
      .form-group {
        margin-bottom: 16px;
      }
      .form-group label {
        display: block;
        margin-bottom: 6px;
        font-size: 0.9rem;
        color: var(--text2);
      }
      input,
      select,
      textarea {
        width: 100%;
        padding: 12px;
        border: 1px solid var(--border);
        border-radius: 8px;
        background: var(--bg);
        color: var(--text);
        font-size: 1rem;
      }
      input:focus,
      select:focus,
      textarea:focus {
        outline: none;
        border-color: var(--accent);
      }
      .grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 16px;
      }
      @media (max-width: 600px) {
        .grid {
          grid-template-columns: 1fr;
        }
      }
      .btn {
        padding: 12px 24px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1rem;
        transition: all 0.2s;
      }
      .btn-primary {
        background: var(--accent);
        color: white;
      }
      .btn-outline {
        background: transparent;
        border: 1px solid var(--border);
        color: var(--text);
      }
      .btn:hover {
        opacity: 0.9;
      }
      .btn-group {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
      }
      .result-box {
        background: var(--bg);
        border: 1px solid var(--border);
        border-radius: 8px;
        padding: 16px;
        margin-top: 16px;
        min-height: 60px;
        line-height: 1.8;
      }
      .format-tabs {
        display: flex;
        gap: 8px;
        margin-bottom: 16px;
        flex-wrap: wrap;
      }
      .format-tab {
        padding: 8px 16px;
        border: 1px solid var(--border);
        border-radius: 6px;
        background: transparent;
        color: var(--text);
        cursor: pointer;
        font-size: 0.9rem;
      }
      .format-tab.active {
        background: var(--accent);
        border-color: var(--accent);
        color: white;
      }
      .source-type {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
        gap: 8px;
        margin-bottom: 20px;
      }
      .source-btn {
        padding: 12px;
        border: 1px solid var(--border);
        border-radius: 8px;
        background: transparent;
        color: var(--text);
        cursor: pointer;
        text-align: center;
        transition: all 0.2s;
      }
      .source-btn.active {
        background: var(--accent);
        border-color: var(--accent);
        color: white;
      }
      .source-btn:hover {
        border-color: var(--accent);
      }
      .copy-notice {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        background: var(--success);
        color: white;
        padding: 12px 24px;
        border-radius: 8px;
        display: none;
      }
      .note {
        font-size: 0.85rem;
        color: var(--text2);
        margin-top: 8px;
      }
      .back-link {
        display: inline-block;
        margin-bottom: 16px;
        color: var(--accent);
        text-decoration: none;
        font-size: 0.9rem;
      }
      .back-link:hover {
        text-decoration: underline;
      }

      .breadcrumb {
        background: rgba(255, 255, 255, 0.95);
        padding: 8px 15px;
        border-radius: 20px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        font-size: 0.85rem;
      }
      .breadcrumb a {
        color: #667eea;
        text-decoration: none;
      }
      .breadcrumb a:hover {
        text-decoration: underline;
      }
      .breadcrumb span {
        color: #999;
        margin: 0 5px;
      }
    </style>
    <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
  <body>
    <button class="theme-toggle" onclick="toggleTheme()" aria-label="åˆ‡æ¢ä¸»é¢˜">
      <span id="theme-icon">ğŸŒ™</span>
    </button>

    <nav class="breadcrumb">
      <a href="../../index.html">é¦–é¡µ</a>
      <span>â€º</span>
      è®ºæ–‡å¼•ç”¨æ ¼å¼ç”Ÿæˆå™¨
    </nav>
    <div class="container">
      <a href="../../index.html" class="back-link">â† è¿”å›</a>
      <h1>ğŸ“š è®ºæ–‡å¼•ç”¨ç”Ÿæˆå™¨</h1>
      <p class="subtitle">æ”¯æŒ APAã€MLAã€Chicago ç­‰æ ¼å¼</p>

      <div class="card">
        <div class="card-title">é€‰æ‹©æ–‡çŒ®ç±»å‹</div>
        <div class="source-type">
          <button class="source-btn active" data-type="book">ä¹¦ç±</button>
          <button class="source-btn" data-type="journal">æœŸåˆŠæ–‡ç« </button>
          <button class="source-btn" data-type="website">ç½‘é¡µ</button>
          <button class="source-btn" data-type="newspaper">æŠ¥çº¸</button>
          <button class="source-btn" data-type="thesis">å­¦ä½è®ºæ–‡</button>
        </div>
      </div>

      <div class="card">
        <div class="card-title">å¡«å†™æ–‡çŒ®ä¿¡æ¯</div>

        <div id="bookForm">
          <div class="grid">
            <div class="form-group">
              <label>ä½œè€…ï¼ˆå§“, åï¼‰</label>
              <input type="text" id="author" placeholder="ç‹, å°æ˜" oninput="generate()" />
            </div>
            <div class="form-group">
              <label>å‡ºç‰ˆå¹´ä»½</label>
              <input type="text" id="year" placeholder="2023" oninput="generate()" />
            </div>
          </div>
          <div class="form-group">
            <label>ä¹¦å</label>
            <input type="text" id="title" placeholder="ä¹¦ç±æ ‡é¢˜" oninput="generate()" />
          </div>
          <div class="grid">
            <div class="form-group">
              <label>å‡ºç‰ˆç¤¾</label>
              <input type="text" id="publisher" placeholder="äººæ°‘å‡ºç‰ˆç¤¾" oninput="generate()" />
            </div>
            <div class="form-group">
              <label>å‡ºç‰ˆåœ°ï¼ˆå¯é€‰ï¼‰</label>
              <input type="text" id="location" placeholder="åŒ—äº¬" oninput="generate()" />
            </div>
          </div>
          <div class="grid">
            <div class="form-group">
              <label>ç‰ˆæ¬¡ï¼ˆå¯é€‰ï¼‰</label>
              <input type="text" id="edition" placeholder="ç¬¬2ç‰ˆ" oninput="generate()" />
            </div>
            <div class="form-group">
              <label>ISBNï¼ˆå¯é€‰ï¼‰</label>
              <input type="text" id="isbn" placeholder="978-7-xxx" oninput="generate()" />
            </div>
          </div>
        </div>

        <div id="journalForm" style="display: none">
          <div class="grid">
            <div class="form-group">
              <label>ä½œè€…ï¼ˆå§“, åï¼‰</label>
              <input type="text" id="jAuthor" placeholder="ç‹, å°æ˜" oninput="generate()" />
            </div>
            <div class="form-group">
              <label>å‘è¡¨å¹´ä»½</label>
              <input type="text" id="jYear" placeholder="2023" oninput="generate()" />
            </div>
          </div>
          <div class="form-group">
            <label>æ–‡ç« æ ‡é¢˜</label>
            <input type="text" id="jTitle" placeholder="æ–‡ç« æ ‡é¢˜" oninput="generate()" />
          </div>
          <div class="form-group">
            <label>æœŸåˆŠåç§°</label>
            <input type="text" id="jJournal" placeholder="ä¸­å›½ç§‘å­¦" oninput="generate()" />
          </div>
          <div class="grid">
            <div class="form-group">
              <label>å·å·</label>
              <input type="text" id="jVolume" placeholder="12" oninput="generate()" />
            </div>
            <div class="form-group">
              <label>æœŸå·</label>
              <input type="text" id="jIssue" placeholder="3" oninput="generate()" />
            </div>
          </div>
          <div class="grid">
            <div class="form-group">
              <label>é¡µç </label>
              <input type="text" id="jPages" placeholder="45-67" oninput="generate()" />
            </div>
            <div class="form-group">
              <label>DOIï¼ˆå¯é€‰ï¼‰</label>
              <input type="text" id="jDoi" placeholder="10.xxxx/xxxxx" oninput="generate()" />
            </div>
          </div>
        </div>

        <div id="websiteForm" style="display: none">
          <div class="grid">
            <div class="form-group">
              <label>ä½œè€…/æœºæ„</label>
              <input type="text" id="wAuthor" placeholder="ä½œè€…æˆ–æœºæ„åç§°" oninput="generate()" />
            </div>
            <div class="form-group">
              <label>å‘å¸ƒæ—¥æœŸ</label>
              <input type="text" id="wDate" placeholder="2023-01-15" oninput="generate()" />
            </div>
          </div>
          <div class="form-group">
            <label>ç½‘é¡µæ ‡é¢˜</label>
            <input type="text" id="wTitle" placeholder="ç½‘é¡µæ ‡é¢˜" oninput="generate()" />
          </div>
          <div class="form-group">
            <label>ç½‘ç«™åç§°</label>
            <input type="text" id="wSite" placeholder="ç½‘ç«™åç§°" oninput="generate()" />
          </div>
          <div class="form-group">
            <label>URL</label>
            <input
              type="text"
              id="wUrl"
              placeholder="https://example.com/page"
              oninput="generate()"
            />
          </div>
          <div class="form-group">
            <label>è®¿é—®æ—¥æœŸ</label>
            <input type="text" id="wAccess" placeholder="2023-12-01" oninput="generate()" />
          </div>
        </div>

        <div id="newspaperForm" style="display: none">
          <div class="grid">
            <div class="form-group">
              <label>ä½œè€…</label>
              <input type="text" id="nAuthor" placeholder="ç‹, å°æ˜" oninput="generate()" />
            </div>
            <div class="form-group">
              <label>å‘è¡¨æ—¥æœŸ</label>
              <input type="text" id="nDate" placeholder="2023-01-15" oninput="generate()" />
            </div>
          </div>
          <div class="form-group">
            <label>æ–‡ç« æ ‡é¢˜</label>
            <input type="text" id="nTitle" placeholder="æ–‡ç« æ ‡é¢˜" oninput="generate()" />
          </div>
          <div class="grid">
            <div class="form-group">
              <label>æŠ¥çº¸åç§°</label>
              <input type="text" id="nNewspaper" placeholder="äººæ°‘æ—¥æŠ¥" oninput="generate()" />
            </div>
            <div class="form-group">
              <label>ç‰ˆé¢/é¡µç </label>
              <input type="text" id="nPage" placeholder="A1" oninput="generate()" />
            </div>
          </div>
        </div>

        <div id="thesisForm" style="display: none">
          <div class="grid">
            <div class="form-group">
              <label>ä½œè€…</label>
              <input type="text" id="tAuthor" placeholder="ç‹, å°æ˜" oninput="generate()" />
            </div>
            <div class="form-group">
              <label>å¹´ä»½</label>
              <input type="text" id="tYear" placeholder="2023" oninput="generate()" />
            </div>
          </div>
          <div class="form-group">
            <label>è®ºæ–‡æ ‡é¢˜</label>
            <input type="text" id="tTitle" placeholder="è®ºæ–‡æ ‡é¢˜" oninput="generate()" />
          </div>
          <div class="grid">
            <div class="form-group">
              <label>å­¦ä½ç±»å‹</label>
              <select id="tDegree" onchange="generate()">
                <option value="ç¡•å£«å­¦ä½è®ºæ–‡">ç¡•å£«</option>
                <option value="åšå£«å­¦ä½è®ºæ–‡">åšå£«</option>
              </select>
            </div>
            <div class="form-group">
              <label>å­¦æ ¡åç§°</label>
              <input type="text" id="tUniversity" placeholder="åŒ—äº¬å¤§å­¦" oninput="generate()" />
            </div>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-title">å¼•ç”¨æ ¼å¼</div>
        <div class="format-tabs">
          <button class="format-tab active" data-format="apa">APA (7th)</button>
          <button class="format-tab" data-format="mla">MLA (9th)</button>
          <button class="format-tab" data-format="chicago">Chicago</button>
          <button class="format-tab" data-format="gb">GB/T 7714</button>
        </div>

        <div class="result-box" id="result">è¯·å¡«å†™æ–‡çŒ®ä¿¡æ¯...</div>

        <div class="btn-group" style="margin-top: 16px">
          <button class="btn btn-primary" onclick="copyResult()">å¤åˆ¶å¼•ç”¨</button>
          <button class="btn btn-outline" onclick="clearForm()">æ¸…ç©º</button>
        </div>

        <p class="note">æç¤ºï¼šç”Ÿæˆçš„å¼•ç”¨æ ¼å¼ä»…ä¾›å‚è€ƒï¼Œè¯·æ ¹æ®å…·ä½“è¦æ±‚æ ¸å¯¹æ ¼å¼ç»†èŠ‚ã€‚</p>
      </div>
    </div>

    <div class="copy-notice" id="copyNotice">å·²å¤åˆ¶åˆ°å‰ªè´´æ¿</div>

    <script>
      let currentType = "book";
      let currentFormat = "apa";

      document.querySelectorAll(".source-btn").forEach((btn) => {
        btn.addEventListener("click", () => {
          document.querySelectorAll(".source-btn").forEach((b) => b.classList.remove("active"));
          btn.classList.add("active");
          currentType = btn.dataset.type;
          showForm(currentType);
          generate();
        });
      });

      document.querySelectorAll(".format-tab").forEach((tab) => {
        tab.addEventListener("click", () => {
          document.querySelectorAll(".format-tab").forEach((t) => t.classList.remove("active"));
          tab.classList.add("active");
          currentFormat = tab.dataset.format;
          generate();
        });
      });

      function showForm(type) {
        const forms = ["bookForm", "journalForm", "websiteForm", "newspaperForm", "thesisForm"];
        forms.forEach((f) => {
          document.getElementById(f).style.display = "none";
        });
        document.getElementById(type + "Form").style.display = "block";
      }

      function getBookData() {
        return {
          author: document.getElementById("author").value.trim(),
          year: document.getElementById("year").value.trim(),
          title: document.getElementById("title").value.trim(),
          publisher: document.getElementById("publisher").value.trim(),
          location: document.getElementById("location").value.trim(),
          edition: document.getElementById("edition").value.trim(),
          isbn: document.getElementById("isbn").value.trim()
        };
      }

      function getJournalData() {
        return {
          author: document.getElementById("jAuthor").value.trim(),
          year: document.getElementById("jYear").value.trim(),
          title: document.getElementById("jTitle").value.trim(),
          journal: document.getElementById("jJournal").value.trim(),
          volume: document.getElementById("jVolume").value.trim(),
          issue: document.getElementById("jIssue").value.trim(),
          pages: document.getElementById("jPages").value.trim(),
          doi: document.getElementById("jDoi").value.trim()
        };
      }

      function getWebsiteData() {
        return {
          author: document.getElementById("wAuthor").value.trim(),
          date: document.getElementById("wDate").value.trim(),
          title: document.getElementById("wTitle").value.trim(),
          site: document.getElementById("wSite").value.trim(),
          url: document.getElementById("wUrl").value.trim(),
          access: document.getElementById("wAccess").value.trim()
        };
      }

      function getNewspaperData() {
        return {
          author: document.getElementById("nAuthor").value.trim(),
          date: document.getElementById("nDate").value.trim(),
          title: document.getElementById("nTitle").value.trim(),
          newspaper: document.getElementById("nNewspaper").value.trim(),
          page: document.getElementById("nPage").value.trim()
        };
      }

      function getThesisData() {
        return {
          author: document.getElementById("tAuthor").value.trim(),
          year: document.getElementById("tYear").value.trim(),
          title: document.getElementById("tTitle").value.trim(),
          degree: document.getElementById("tDegree").value,
          university: document.getElementById("tUniversity").value.trim()
        };
      }

      function generate() {
        let result = "";

        switch (currentType) {
          case "book":
            result = generateBookCitation(getBookData());
            break;
          case "journal":
            result = generateJournalCitation(getJournalData());
            break;
          case "website":
            result = generateWebsiteCitation(getWebsiteData());
            break;
          case "newspaper":
            result = generateNewspaperCitation(getNewspaperData());
            break;
          case "thesis":
            result = generateThesisCitation(getThesisData());
            break;
        }

        document.getElementById("result").textContent = result || "è¯·å¡«å†™æ–‡çŒ®ä¿¡æ¯...";
      }

      function generateBookCitation(d) {
        if (!d.author || !d.title) return "";

        switch (currentFormat) {
          case "apa":
            let apa = d.author + " (" + (d.year || "n.d.") + "). ";
            apa += d.title + (d.edition ? " (" + d.edition + ")" : "") + ". ";
            apa += d.publisher + ".";
            return apa;

          case "mla":
            let mla = d.author + ". " + d.title + ". ";
            if (d.edition) mla += d.edition + ", ";
            mla += d.publisher + ", " + (d.year || "") + ".";
            return mla;

          case "chicago":
            let chi = d.author + ". " + d.title + ". ";
            if (d.location) chi += d.location + ": ";
            chi += d.publisher + ", " + (d.year || "") + ".";
            return chi;

          case "gb":
            let gb = d.author + ". " + d.title + "[M]. ";
            if (d.location) gb += d.location + ": ";
            gb += d.publisher + ", " + (d.year || "") + ".";
            return gb;
        }
      }

      function generateJournalCitation(d) {
        if (!d.author || !d.title || !d.journal) return "";

        switch (currentFormat) {
          case "apa":
            let apa = d.author + " (" + (d.year || "n.d.") + "). " + d.title + ". ";
            apa += d.journal + ", " + d.volume;
            if (d.issue) apa += "(" + d.issue + ")";
            if (d.pages) apa += ", " + d.pages;
            apa += ".";
            if (d.doi) apa += " https://doi.org/" + d.doi;
            return apa;

          case "mla":
            let mla = d.author + '. "' + d.title + '." ' + d.journal + ", ";
            mla += "vol. " + d.volume;
            if (d.issue) mla += ", no. " + d.issue;
            mla += ", " + (d.year || "") + ", pp. " + (d.pages || "") + ".";
            return mla;

          case "chicago":
            let chi = d.author + '. "' + d.title + '." ' + d.journal + " ";
            chi += d.volume;
            if (d.issue) chi += ", no. " + d.issue;
            chi += " (" + (d.year || "") + "): " + (d.pages || "") + ".";
            return chi;

          case "gb":
            let gb = d.author + ". " + d.title + "[J]. " + d.journal + ", ";
            gb += (d.year || "") + ", " + d.volume;
            if (d.issue) gb += "(" + d.issue + ")";
            gb += ": " + (d.pages || "") + ".";
            return gb;
        }
      }

      function generateWebsiteCitation(d) {
        if (!d.title || !d.url) return "";

        switch (currentFormat) {
          case "apa":
            let apa =
              (d.author || d.site || "") + " (" + (d.date || "n.d.") + "). " + d.title + ". ";
            if (d.site && d.author) apa += d.site + ". ";
            apa += d.url;
            return apa;

          case "mla":
            let mla = (d.author ? d.author + ". " : "") + '"' + d.title + '." ';
            mla += d.site + ", " + (d.date || "") + ", " + d.url + ".";
            if (d.access) mla += " Accessed " + d.access + ".";
            return mla;

          case "chicago":
            let chi = (d.author ? d.author + ". " : "") + '"' + d.title + '." ';
            chi += d.site + ". " + (d.date ? "Last modified " + d.date + ". " : "");
            chi += d.url + ".";
            return chi;

          case "gb":
            let gb = (d.author || d.site || "") + ". " + d.title + "[EB/OL]. ";
            gb += "(" + (d.date || "") + ")[" + (d.access || "") + "]. " + d.url + ".";
            return gb;
        }
      }

      function generateNewspaperCitation(d) {
        if (!d.title || !d.newspaper) return "";

        switch (currentFormat) {
          case "apa":
            let apa = (d.author || "") + " (" + (d.date || "n.d.") + "). " + d.title + ". ";
            apa += d.newspaper + (d.page ? ", " + d.page : "") + ".";
            return apa;

          case "mla":
            let mla = (d.author ? d.author + ". " : "") + '"' + d.title + '." ';
            mla += d.newspaper + ", " + (d.date || "") + ", p. " + (d.page || "") + ".";
            return mla;

          case "chicago":
            let chi = (d.author ? d.author + ". " : "") + '"' + d.title + '." ';
            chi += d.newspaper + ", " + (d.date || "") + ".";
            return chi;

          case "gb":
            let gb = (d.author || "") + ". " + d.title + "[N]. ";
            gb += d.newspaper + ", " + (d.date || "") + "(" + (d.page || "") + ").";
            return gb;
        }
      }

      function generateThesisCitation(d) {
        if (!d.author || !d.title || !d.university) return "";

        switch (currentFormat) {
          case "apa":
            let apa = d.author + " (" + (d.year || "n.d.") + "). " + d.title;
            apa += " [" + d.degree + ", " + d.university + "].";
            return apa;

          case "mla":
            let mla = d.author + '. "' + d.title + '." ' + d.degree + ", ";
            mla += d.university + ", " + (d.year || "") + ".";
            return mla;

          case "chicago":
            let chi = d.author + '. "' + d.title + '." ' + d.degree + ", ";
            chi += d.university + ", " + (d.year || "") + ".";
            return chi;

          case "gb":
            let gb = d.author + ". " + d.title + "[D]. ";
            gb += d.university + ", " + (d.year || "") + ".";
            return gb;
        }
      }

      function copyResult() {
        const text = document.getElementById("result").textContent;
        if (text && text !== "è¯·å¡«å†™æ–‡çŒ®ä¿¡æ¯...") {
          navigator.clipboard.writeText(text).then(() => {
            const notice = document.getElementById("copyNotice");
            notice.style.display = "block";
            setTimeout(() => {
              notice.style.display = "none";
            }, 2000);
          });
        }
      }

      function clearForm() {
        const inputs = document.querySelectorAll("input, textarea");
        inputs.forEach((input) => {
          input.value = "";
        });
        generate();
      }

      // Theme toggle
      function toggleTheme() {
        const html = document.documentElement;
        const currentTheme = html.getAttribute("data-theme");
        const newTheme = currentTheme === "light" ? "dark" : "light";
        html.setAttribute("data-theme", newTheme);
        document.getElementById("theme-icon").textContent = newTheme === "light" ? "â˜€ï¸" : "ğŸŒ™";
        localStorage.setItem("theme", newTheme);
      }

      // Load saved theme
      const savedTheme = localStorage.getItem("theme") || "dark";
      if (savedTheme === "light") {
        document.documentElement.setAttribute("data-theme", "light");
        document.getElementById("theme-icon").textContent = "â˜€ï¸";
      }
    </script>
  </body>
</html>
